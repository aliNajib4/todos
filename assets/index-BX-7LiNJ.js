var M1=Object.defineProperty;var F1=(t,e,n)=>e in t?M1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Th=(t,e,n)=>(F1(t,typeof e!="symbol"?e+"":e,n),n);function K0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function G0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q0={exports:{}},_d={},Y0={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=Symbol.for("react.element"),U1=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),z1=Symbol.for("react.strict_mode"),B1=Symbol.for("react.profiler"),$1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),q1=Symbol.for("react.suspense"),K1=Symbol.for("react.memo"),G1=Symbol.for("react.lazy"),Py=Symbol.iterator;function Q1(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var X0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J0=Object.assign,Z0={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=Z0,this.updater=n||X0}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ew(){}ew.prototype=Bo.prototype;function Qp(t,e,n){this.props=t,this.context=e,this.refs=Z0,this.updater=n||X0}var Yp=Qp.prototype=new ew;Yp.constructor=Qp;J0(Yp,Bo.prototype);Yp.isPureReactComponent=!0;var Cy=Array.isArray,tw=Object.prototype.hasOwnProperty,Xp={current:null},nw={key:!0,ref:!0,__self:!0,__source:!0};function rw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tw.call(e,r)&&!nw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:xl,type:t,key:s,ref:o,props:i,_owner:Xp.current}}function Y1(t,e){return{$$typeof:xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jp(t){return typeof t=="object"&&t!==null&&t.$$typeof===xl}function X1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ky=/\/+/g;function Ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?X1(""+t.key):e.toString(36)}function Uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xl:case U1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ih(o,0):r,Cy(i)?(n="",t!=null&&(n=t.replace(ky,"$&/")+"/"),Uu(i,e,n,"",function(c){return c})):i!=null&&(Jp(i)&&(i=Y1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ky,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cy(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Ih(s,l);o+=Uu(s,e,n,u,i)}else if(u=Q1(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Ih(s,l++),o+=Uu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],i=0;return Uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function J1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},ju={transition:null},Z1={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:ju,ReactCurrentOwner:Xp};Pe.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Jp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Bo;Pe.Fragment=j1;Pe.Profiler=B1;Pe.PureComponent=Qp;Pe.StrictMode=z1;Pe.Suspense=q1;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z1;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)tw.call(e,u)&&!nw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:xl,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:W1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$1,_context:t},t.Consumer=t};Pe.createElement=rw;Pe.createFactory=function(t){var e=rw.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:H1,render:t}};Pe.isValidElement=Jp;Pe.lazy=function(t){return{$$typeof:G1,_payload:{_status:-1,_result:t},_init:J1}};Pe.memo=function(t,e){return{$$typeof:K1,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return on.current.useCallback(t,e)};Pe.useContext=function(t){return on.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return on.current.useEffect(t,e)};Pe.useId=function(){return on.current.useId()};Pe.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return on.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Pe.useRef=function(t){return on.current.useRef(t)};Pe.useState=function(t){return on.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return on.current.useTransition()};Pe.version="18.2.0";Y0.exports=Pe;var B=Y0.exports;const tn=G0(B),wf=K0({__proto__:null,default:tn},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA=B,tA=Symbol.for("react.element"),nA=Symbol.for("react.fragment"),rA=Object.prototype.hasOwnProperty,iA=eA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sA={key:!0,ref:!0,__self:!0,__source:!0};function iw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rA.call(e,r)&&!sA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tA,type:t,key:s,ref:o,props:i,_owner:iA.current}}_d.Fragment=nA;_d.jsx=iw;_d.jsxs=iw;Q0.exports=_d;var H=Q0.exports,Ef={},sw={exports:{}},xn={},ow={exports:{}},aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ae){var de=Q.length;Q.push(ae);e:for(;0<de;){var Ae=de-1>>>1,Se=Q[Ae];if(0<i(Se,ae))Q[Ae]=ae,Q[de]=Se,de=Ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],de=Q.pop();if(de!==ae){Q[0]=de;e:for(var Ae=0,Se=Q.length,Ue=Se>>>1;Ae<Ue;){var at=2*(Ae+1)-1,Et=Q[at],ct=at+1,Zt=Q[ct];if(0>i(Et,de))ct<Se&&0>i(Zt,Et)?(Q[Ae]=Zt,Q[ct]=de,Ae=ct):(Q[Ae]=Et,Q[at]=de,Ae=at);else if(ct<Se&&0>i(Zt,de))Q[Ae]=Zt,Q[ct]=de,Ae=ct;else break e}}return ae}function i(Q,ae){var de=Q.sortIndex-ae.sortIndex;return de!==0?de:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,m=3,w=!1,R=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=Q)r(c),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=n(c)}}function O(Q){if(C=!1,S(Q),!R)if(n(u)!==null)R=!0,ot(U);else{var ae=n(c);ae!==null&&_e(O,ae.startTime-Q)}}function U(Q,ae){R=!1,C&&(C=!1,T(g),g=-1),w=!0;var de=m;try{for(S(ae),f=n(u);f!==null&&(!(f.expirationTime>ae)||Q&&!x());){var Ae=f.callback;if(typeof Ae=="function"){f.callback=null,m=f.priorityLevel;var Se=Ae(f.expirationTime<=ae);ae=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(u)&&r(u),S(ae)}else r(u);f=n(u)}if(f!==null)var Ue=!0;else{var at=n(c);at!==null&&_e(O,at.startTime-ae),Ue=!1}return Ue}finally{f=null,m=de,w=!1}}var P=!1,E=null,g=-1,_=5,A=-1;function x(){return!(t.unstable_now()-A<_)}function k(){if(E!==null){var Q=t.unstable_now();A=Q;var ae=!0;try{ae=E(!0,Q)}finally{ae?I():(P=!1,E=null)}}else P=!1}var I;if(typeof y=="function")I=function(){y(k)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,De=le.port2;le.port1.onmessage=k,I=function(){De.postMessage(null)}}else I=function(){b(k,0)};function ot(Q){E=Q,P||(P=!0,I())}function _e(Q,ae){g=b(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){R||w||(R=!0,ot(U))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ae=3;break;default:ae=m}var de=m;m=ae;try{return Q()}finally{m=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=m;m=Q;try{return ae()}finally{m=de}},t.unstable_scheduleCallback=function(Q,ae,de){var Ae=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,Q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=de+Se,Q={id:h++,callback:ae,priorityLevel:Q,startTime:de,expirationTime:Se,sortIndex:-1},de>Ae?(Q.sortIndex=de,e(c,Q),n(u)===null&&Q===n(c)&&(C?(T(g),g=-1):C=!0,_e(O,de-Ae))):(Q.sortIndex=Se,e(u,Q),R||w||(R=!0,ot(U))),Q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(Q){var ae=m;return function(){var de=m;m=ae;try{return Q.apply(this,arguments)}finally{m=de}}}})(aw);ow.exports=aw;var oA=ow.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=B,Pn=oA;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uw=new Set,Ja={};function Ns(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Ja[t]=e,t=0;t<e.length;t++)uw.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,aA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xy={},Dy={};function lA(t){return Tf.call(Dy,t)?!0:Tf.call(xy,t)?!1:aA.test(t)?Dy[t]=!0:(xy[t]=!0,!1)}function uA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cA(t,e,n,r){if(e===null||typeof e>"u"||uA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zp=/[\-:]([a-z])/g;function em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zp,em);Ut[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zp,em);Ut[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zp,em);Ut[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function tm(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cA(e,n,i,r)&&(n=null),r||i===null?lA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),cw=Symbol.for("react.provider"),dw=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),hw=Symbol.for("react.offscreen"),Ny=Symbol.iterator;function ha(t){return t===null||typeof t!="object"?null:(t=Ny&&t[Ny]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Sh;function Aa(t){if(Sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sh=e&&e[1]||""}return`
`+Sh+t}var Ah=!1;function Rh(t,e){if(!t||Ah)return"";Ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Aa(t):""}function dA(t){switch(t.tag){case 5:return Aa(t.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 2:case 15:return t=Rh(t.type,!1),t;case 11:return t=Rh(t.type.render,!1),t;case 1:return t=Rh(t.type,!0),t;default:return""}}function Rf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Js:return"Fragment";case Xs:return"Portal";case If:return"Profiler";case nm:return"StrictMode";case Sf:return"Suspense";case Af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dw:return(t.displayName||"Context")+".Consumer";case cw:return(t._context.displayName||"Context")+".Provider";case rm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:Rf(t.type)||"Memo";case li:e=t._payload,t=t._init;try{return Rf(t(e))}catch{}}return null}function hA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rf(e);case 8:return e===nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fA(t){var e=fw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=fA(t))}function pw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pf(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function by(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mw(t,e){e=e.checked,e!=null&&tm(t,"checked",e,!1)}function Cf(t,e){mw(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kf(t,e.type,n):e.hasOwnProperty("defaultValue")&&kf(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kf(t,e,n){(e!=="number"||Tc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ra=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ly(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Ra(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function gw(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Df(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,vw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pA=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(t){pA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Va[e]=Va[t]})});function _w(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Va.hasOwnProperty(t)&&Va[t]?(""+e).trim():e+"px"}function ww(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_w(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mA=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nf(t,e){if(e){if(mA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lf=null,po=null,mo=null;function My(t){if(t=bl(t)){if(typeof Lf!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Sd(e),Lf(t.stateNode,t.type,e))}}function Ew(t){po?mo?mo.push(t):mo=[t]:po=t}function Tw(){if(po){var t=po,e=mo;if(mo=po=null,My(t),e)for(t=0;t<e.length;t++)My(e[t])}}function Iw(t,e){return t(e)}function Sw(){}var Ph=!1;function Aw(t,e,n){if(Ph)return t(e,n);Ph=!0;try{return Iw(t,e,n)}finally{Ph=!1,(po!==null||mo!==null)&&(Sw(),Tw())}}function el(t,e){var n=t.stateNode;if(n===null)return null;var r=Sd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Vf=!1;if(Ur)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Vf=!1}function gA(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ma=!1,Ic=null,Sc=!1,Mf=null,yA={onError:function(t){Ma=!0,Ic=t}};function vA(t,e,n,r,i,s,o,l,u){Ma=!1,Ic=null,gA.apply(yA,arguments)}function _A(t,e,n,r,i,s,o,l,u){if(vA.apply(this,arguments),Ma){if(Ma){var c=Ic;Ma=!1,Ic=null}else throw Error(K(198));Sc||(Sc=!0,Mf=c)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fy(t){if(bs(t)!==t)throw Error(K(188))}function wA(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Fy(i),t;if(s===r)return Fy(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Pw(t){return t=wA(t),t!==null?Cw(t):null}function Cw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cw(t);if(e!==null)return e;t=t.sibling}return null}var kw=Pn.unstable_scheduleCallback,Uy=Pn.unstable_cancelCallback,EA=Pn.unstable_shouldYield,TA=Pn.unstable_requestPaint,mt=Pn.unstable_now,IA=Pn.unstable_getCurrentPriorityLevel,om=Pn.unstable_ImmediatePriority,xw=Pn.unstable_UserBlockingPriority,Ac=Pn.unstable_NormalPriority,SA=Pn.unstable_LowPriority,Dw=Pn.unstable_IdlePriority,wd=null,fr=null;function AA(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:CA,RA=Math.log,PA=Math.LN2;function CA(t){return t>>>=0,t===0?32:31-(RA(t)/PA|0)|0}var vu=64,_u=4194304;function Pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Pa(l):(s&=o,s!==0&&(r=Pa(s)))}else o=n&~i,o!==0?r=Pa(o):s!==0&&(r=Pa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function kA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=kA(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nw(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function Ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function DA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function am(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function bw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ow,lm,Lw,Vw,Mw,Uf=!1,wu=[],Ei=null,Ti=null,Ii=null,tl=new Map,nl=new Map,ci=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jy(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(e.pointerId)}}function pa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bl(e),e!==null&&lm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bA(t,e,n,r,i){switch(e){case"focusin":return Ei=pa(Ei,t,e,n,r,i),!0;case"dragenter":return Ti=pa(Ti,t,e,n,r,i),!0;case"mouseover":return Ii=pa(Ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return tl.set(s,pa(tl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nl.set(s,pa(nl.get(s)||null,t,e,n,r,i)),!0}return!1}function Fw(t){var e=os(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=Rw(n),e!==null){t.blockedOn=e,Mw(t.priority,function(){Lw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Of=r,n.target.dispatchEvent(r),Of=null}else return e=bl(n),e!==null&&lm(e),t.blockedOn=n,!1;e.shift()}return!0}function zy(t,e,n){zu(t)&&n.delete(e)}function OA(){Uf=!1,Ei!==null&&zu(Ei)&&(Ei=null),Ti!==null&&zu(Ti)&&(Ti=null),Ii!==null&&zu(Ii)&&(Ii=null),tl.forEach(zy),nl.forEach(zy)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Uf||(Uf=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,OA)))}function rl(t){function e(i){return ma(i,t)}if(0<wu.length){ma(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&ma(Ei,t),Ti!==null&&ma(Ti,t),Ii!==null&&ma(Ii,t),tl.forEach(e),nl.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)Fw(n),n.blockedOn===null&&ci.shift()}var go=Kr.ReactCurrentBatchConfig,Pc=!0;function LA(t,e,n,r){var i=je,s=go.transition;go.transition=null;try{je=1,um(t,e,n,r)}finally{je=i,go.transition=s}}function VA(t,e,n,r){var i=je,s=go.transition;go.transition=null;try{je=4,um(t,e,n,r)}finally{je=i,go.transition=s}}function um(t,e,n,r){if(Pc){var i=jf(t,e,n,r);if(i===null)Fh(t,e,r,Cc,n),jy(t,r);else if(bA(i,t,e,n,r))r.stopPropagation();else if(jy(t,r),e&4&&-1<NA.indexOf(t)){for(;i!==null;){var s=bl(i);if(s!==null&&Ow(s),s=jf(t,e,n,r),s===null&&Fh(t,e,r,Cc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fh(t,e,r,null,n)}}var Cc=null;function jf(t,e,n,r){if(Cc=null,t=sm(r),t=os(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function Uw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IA()){case om:return 1;case xw:return 4;case Ac:case SA:return 16;case Dw:return 536870912;default:return 16}default:return 16}}var yi=null,cm=null,Bu=null;function jw(){if(Bu)return Bu;var t,e=cm,n=e.length,r,i="value"in yi?yi.value:yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bu=i.slice(t,1<r?1-r:void 0)}function $u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function By(){return!1}function Dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eu:By,this.isPropagationStopped=By,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=Dn($o),Nl=it({},$o,{view:0,detail:0}),MA=Dn(Nl),kh,xh,ga,Ed=it({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(kh=t.screenX-ga.screenX,xh=t.screenY-ga.screenY):xh=kh=0,ga=t),kh)},movementY:function(t){return"movementY"in t?t.movementY:xh}}),$y=Dn(Ed),FA=it({},Ed,{dataTransfer:0}),UA=Dn(FA),jA=it({},Nl,{relatedTarget:0}),Dh=Dn(jA),zA=it({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),BA=Dn(zA),$A=it({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WA=Dn($A),HA=it({},$o,{data:0}),Wy=Dn(HA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GA[t])?!!e[t]:!1}function hm(){return QA}var YA=it({},Nl,{key:function(t){if(t.key){var e=qA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(t){return t.type==="keypress"?$u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XA=Dn(YA),JA=it({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hy=Dn(JA),ZA=it({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),eR=Dn(ZA),tR=it({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),nR=Dn(tR),rR=it({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iR=Dn(rR),sR=[9,13,27,32],fm=Ur&&"CompositionEvent"in window,Fa=null;Ur&&"documentMode"in document&&(Fa=document.documentMode);var oR=Ur&&"TextEvent"in window&&!Fa,zw=Ur&&(!fm||Fa&&8<Fa&&11>=Fa),qy=" ",Ky=!1;function Bw(t,e){switch(t){case"keyup":return sR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $w(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function aR(t,e){switch(t){case"compositionend":return $w(e);case"keypress":return e.which!==32?null:(Ky=!0,qy);case"textInput":return t=e.data,t===qy&&Ky?null:t;default:return null}}function lR(t,e){if(Zs)return t==="compositionend"||!fm&&Bw(t,e)?(t=jw(),Bu=cm=yi=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zw&&e.locale!=="ko"?null:e.data;default:return null}}var uR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uR[t.type]:e==="textarea"}function Ww(t,e,n,r){Ew(r),e=kc(e,"onChange"),0<e.length&&(n=new dm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,il=null;function cR(t){tE(t,0)}function Td(t){var e=no(t);if(pw(e))return t}function dR(t,e){if(t==="change")return e}var Hw=!1;if(Ur){var Nh;if(Ur){var bh="oninput"in document;if(!bh){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),bh=typeof Qy.oninput=="function"}Nh=bh}else Nh=!1;Hw=Nh&&(!document.documentMode||9<document.documentMode)}function Yy(){Ua&&(Ua.detachEvent("onpropertychange",qw),il=Ua=null)}function qw(t){if(t.propertyName==="value"&&Td(il)){var e=[];Ww(e,il,t,sm(t)),Aw(cR,e)}}function hR(t,e,n){t==="focusin"?(Yy(),Ua=e,il=n,Ua.attachEvent("onpropertychange",qw)):t==="focusout"&&Yy()}function fR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Td(il)}function pR(t,e){if(t==="click")return Td(e)}function mR(t,e){if(t==="input"||t==="change")return Td(e)}function gR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:gR;function sl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Tf.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function Xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jy(t,e){var n=Xy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xy(n)}}function Kw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gw(){for(var t=window,e=Tc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tc(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yR(t){var e=Gw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Kw(n.ownerDocument.documentElement,n)){if(r!==null&&pm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jy(n,s);var o=Jy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vR=Ur&&"documentMode"in document&&11>=document.documentMode,eo=null,zf=null,ja=null,Bf=!1;function Zy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bf||eo==null||eo!==Tc(r)||(r=eo,"selectionStart"in r&&pm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ja&&sl(ja,r)||(ja=r,r=kc(zf,"onSelect"),0<r.length&&(e=new dm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=eo)))}function Tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var to={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},Oh={},Qw={};Ur&&(Qw=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Id(t){if(Oh[t])return Oh[t];if(!to[t])return t;var e=to[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Qw)return Oh[t]=e[n];return t}var Yw=Id("animationend"),Xw=Id("animationiteration"),Jw=Id("animationstart"),Zw=Id("transitionend"),eE=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){eE.set(t,e),Ns(e,[t])}for(var Lh=0;Lh<ev.length;Lh++){var Vh=ev[Lh],_R=Vh.toLowerCase(),wR=Vh[0].toUpperCase()+Vh.slice(1);zi(_R,"on"+wR)}zi(Yw,"onAnimationEnd");zi(Xw,"onAnimationIteration");zi(Jw,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(Zw,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function tv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_A(r,e,void 0,t),t.currentTarget=null}function tE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;tv(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;tv(i,l,c),s=u}}}if(Sc)throw t=Mf,Sc=!1,Mf=null,t}function Qe(t,e){var n=e[Kf];n===void 0&&(n=e[Kf]=new Set);var r=t+"__bubble";n.has(r)||(nE(e,t,2,!1),n.add(r))}function Mh(t,e,n){var r=0;e&&(r|=4),nE(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function ol(t){if(!t[Iu]){t[Iu]=!0,uw.forEach(function(n){n!=="selectionchange"&&(ER.has(n)||Mh(n,!1,t),Mh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,Mh("selectionchange",!1,e))}}function nE(t,e,n,r){switch(Uw(e)){case 1:var i=LA;break;case 4:i=VA;break;default:i=um}n=i.bind(null,e,n,t),i=void 0,!Vf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=os(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Aw(function(){var c=s,h=sm(n),f=[];e:{var m=eE.get(t);if(m!==void 0){var w=dm,R=t;switch(t){case"keypress":if($u(n)===0)break e;case"keydown":case"keyup":w=XA;break;case"focusin":R="focus",w=Dh;break;case"focusout":R="blur",w=Dh;break;case"beforeblur":case"afterblur":w=Dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=$y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=UA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=eR;break;case Yw:case Xw:case Jw:w=BA;break;case Zw:w=nR;break;case"scroll":w=MA;break;case"wheel":w=iR;break;case"copy":case"cut":case"paste":w=WA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Hy}var C=(e&4)!==0,b=!C&&t==="scroll",T=C?m!==null?m+"Capture":null:m;C=[];for(var y=c,S;y!==null;){S=y;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,T!==null&&(O=el(y,T),O!=null&&C.push(al(y,O,S)))),b)break;y=y.return}0<C.length&&(m=new w(m,R,null,n,h),f.push({event:m,listeners:C}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Of&&(R=n.relatedTarget||n.fromElement)&&(os(R)||R[jr]))break e;if((w||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,w?(R=n.relatedTarget||n.toElement,w=c,R=R?os(R):null,R!==null&&(b=bs(R),R!==b||R.tag!==5&&R.tag!==6)&&(R=null)):(w=null,R=c),w!==R)){if(C=$y,O="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=Hy,O="onPointerLeave",T="onPointerEnter",y="pointer"),b=w==null?m:no(w),S=R==null?m:no(R),m=new C(O,y+"leave",w,n,h),m.target=b,m.relatedTarget=S,O=null,os(h)===c&&(C=new C(T,y+"enter",R,n,h),C.target=S,C.relatedTarget=b,O=C),b=O,w&&R)t:{for(C=w,T=R,y=0,S=C;S;S=Hs(S))y++;for(S=0,O=T;O;O=Hs(O))S++;for(;0<y-S;)C=Hs(C),y--;for(;0<S-y;)T=Hs(T),S--;for(;y--;){if(C===T||T!==null&&C===T.alternate)break t;C=Hs(C),T=Hs(T)}C=null}else C=null;w!==null&&nv(f,m,w,C,!1),R!==null&&b!==null&&nv(f,b,R,C,!0)}}e:{if(m=c?no(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var U=dR;else if(Gy(m))if(Hw)U=mR;else{U=fR;var P=hR}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(U=pR);if(U&&(U=U(t,c))){Ww(f,U,n,h);break e}P&&P(t,m,c),t==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&kf(m,"number",m.value)}switch(P=c?no(c):window,t){case"focusin":(Gy(P)||P.contentEditable==="true")&&(eo=P,zf=c,ja=null);break;case"focusout":ja=zf=eo=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Zy(f,n,h);break;case"selectionchange":if(vR)break;case"keydown":case"keyup":Zy(f,n,h)}var E;if(fm)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Zs?Bw(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(zw&&n.locale!=="ko"&&(Zs||g!=="onCompositionStart"?g==="onCompositionEnd"&&Zs&&(E=jw()):(yi=h,cm="value"in yi?yi.value:yi.textContent,Zs=!0)),P=kc(c,g),0<P.length&&(g=new Wy(g,t,null,n,h),f.push({event:g,listeners:P}),E?g.data=E:(E=$w(n),E!==null&&(g.data=E)))),(E=oR?aR(t,n):lR(t,n))&&(c=kc(c,"onBeforeInput"),0<c.length&&(h=new Wy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=E))}tE(f,e)})}function al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=el(t,n),s!=null&&r.unshift(al(t,s,i)),s=el(t,e),s!=null&&r.push(al(t,s,i))),t=t.return}return r}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=el(n,s),u!=null&&o.unshift(al(n,u,l))):i||(u=el(n,s),u!=null&&o.push(al(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TR=/\r\n?/g,IR=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(TR,`
`).replace(IR,"")}function Su(t,e,n){if(e=rv(e),rv(t)!==e&&n)throw Error(K(425))}function xc(){}var $f=null,Wf=null;function Hf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(RR)}:qf;function RR(t){setTimeout(function(){throw t})}function Uh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rl(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),cr="__reactFiber$"+Wo,ll="__reactProps$"+Wo,jr="__reactContainer$"+Wo,Kf="__reactEvents$"+Wo,PR="__reactListeners$"+Wo,CR="__reactHandles$"+Wo;function os(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sv(t);t!==null;){if(n=t[cr])return n;t=sv(t)}return e}t=n,n=t.parentNode}return null}function bl(t){return t=t[cr]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function no(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Sd(t){return t[ll]||null}var Gf=[],ro=-1;function Bi(t){return{current:t}}function Je(t){0>ro||(t.current=Gf[ro],Gf[ro]=null,ro--)}function qe(t,e){ro++,Gf[ro]=t.current,t.current=e}var Li={},Jt=Bi(Li),fn=Bi(!1),gs=Li;function Ao(t,e){var n=t.type.contextTypes;if(!n)return Li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function Dc(){Je(fn),Je(Jt)}function ov(t,e,n){if(Jt.current!==Li)throw Error(K(168));qe(Jt,e),qe(fn,n)}function rE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,hA(t)||"Unknown",i));return it({},n,r)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,gs=Jt.current,qe(Jt,t),qe(fn,fn.current),!0}function av(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=rE(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,Je(fn),Je(Jt),qe(Jt,t)):Je(fn),qe(fn,n)}var xr=null,Ad=!1,jh=!1;function iE(t){xr===null?xr=[t]:xr.push(t)}function kR(t){Ad=!0,iE(t)}function $i(){if(!jh&&xr!==null){jh=!0;var t=0,e=je;try{var n=xr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Ad=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),kw(om,$i),i}finally{je=e,jh=!1}}return null}var io=[],so=0,bc=null,Oc=0,On=[],Ln=0,ys=null,Dr=1,Nr="";function ts(t,e){io[so++]=Oc,io[so++]=bc,bc=t,Oc=e}function sE(t,e,n){On[Ln++]=Dr,On[Ln++]=Nr,On[Ln++]=ys,ys=t;var r=Dr;t=Nr;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dr=1<<32-Jn(e)+i|n<<i|r,Nr=s+t}else Dr=1<<s|n<<i|r,Nr=t}function mm(t){t.return!==null&&(ts(t,1),sE(t,1,0))}function gm(t){for(;t===bc;)bc=io[--so],io[so]=null,Oc=io[--so],io[so]=null;for(;t===ys;)ys=On[--Ln],On[Ln]=null,Nr=On[--Ln],On[Ln]=null,Dr=On[--Ln],On[Ln]=null}var An=null,Tn=null,et=!1,Qn=null;function oE(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Tn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:Dr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Tn=null,!0):!1;default:return!1}}function Qf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yf(t){if(et){var e=Tn;if(e){var n=e;if(!lv(t,e)){if(Qf(t))throw Error(K(418));e=Si(n.nextSibling);var r=An;e&&lv(t,e)?oE(r,n):(t.flags=t.flags&-4097|2,et=!1,An=t)}}else{if(Qf(t))throw Error(K(418));t.flags=t.flags&-4097|2,et=!1,An=t}}}function uv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Au(t){if(t!==An)return!1;if(!et)return uv(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hf(t.type,t.memoizedProps)),e&&(e=Tn)){if(Qf(t))throw aE(),Error(K(418));for(;e;)oE(t,e),e=Si(e.nextSibling)}if(uv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=An?Si(t.stateNode.nextSibling):null;return!0}function aE(){for(var t=Tn;t;)t=Si(t.nextSibling)}function Ro(){Tn=An=null,et=!1}function ym(t){Qn===null?Qn=[t]:Qn.push(t)}var xR=Kr.ReactCurrentBatchConfig;function qn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Lc=Bi(null),Vc=null,oo=null,vm=null;function _m(){vm=oo=Vc=null}function wm(t){var e=Lc.current;Je(Lc),t._currentValue=e}function Xf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){Vc=t,vm=oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(vm!==t)if(t={context:t,memoizedValue:e,next:null},oo===null){if(Vc===null)throw Error(K(308));oo=t,Vc.dependencies={lanes:0,firstContext:t}}else oo=oo.next=t;return e}var as=null;function Em(t){as===null?as=[t]:as.push(t)}function lE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Em(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function Tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Em(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function Wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,am(t,n)}}function cv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mc(t,e,n,r){var i=t.updateQueue;ui=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,l=s;do{var m=l.lane,w=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var R=t,C=l;switch(m=e,w=n,C.tag){case 1:if(R=C.payload,typeof R=="function"){f=R.call(w,f,m);break e}f=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=C.payload,m=typeof R=="function"?R.call(w,f,m):R,m==null)break e;f=it({},f,m);break e;case 2:ui=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=w,u=f):h=h.next=w,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_s|=o,t.lanes=o,t.memoizedState=f}}function dv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var cE=new lw.Component().refs;function Jf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rd={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Pi(t),s=Vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Zn(e,t,i,r),Wu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Pi(t),s=Vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Zn(e,t,i,r),Wu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Pi(t),i=Vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ai(t,i,r),e!==null&&(Zn(e,t,r,n),Wu(e,t,r))}};function hv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sl(n,r)||!sl(i,s):!0}function dE(t,e,n){var r=!1,i=Li,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=pn(e)?gs:Jt.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):Li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rd.enqueueReplaceState(e,e.state,null)}function Zf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cE,Tm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=pn(e)?gs:Jt.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rd.enqueueReplaceState(i,i.state,null),Mc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===cE&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Ru(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pv(t){var e=t._init;return e(t._payload)}function hE(t){function e(T,y){if(t){var S=T.deletions;S===null?(T.deletions=[y],T.flags|=16):S.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function r(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(T,y){return T=Ci(T,y),T.index=0,T.sibling=null,T}function s(T,y,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<y?(T.flags|=2,y):S):(T.flags|=2,y)):(T.flags|=1048576,y)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,y,S,O){return y===null||y.tag!==6?(y=Kh(S,T.mode,O),y.return=T,y):(y=i(y,S),y.return=T,y)}function u(T,y,S,O){var U=S.type;return U===Js?h(T,y,S.props.children,O,S.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===li&&pv(U)===y.type)?(O=i(y,S.props),O.ref=ya(T,y,S),O.return=T,O):(O=Yu(S.type,S.key,S.props,null,T.mode,O),O.ref=ya(T,y,S),O.return=T,O)}function c(T,y,S,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Gh(S,T.mode,O),y.return=T,y):(y=i(y,S.children||[]),y.return=T,y)}function h(T,y,S,O,U){return y===null||y.tag!==7?(y=ps(S,T.mode,O,U),y.return=T,y):(y=i(y,S),y.return=T,y)}function f(T,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kh(""+y,T.mode,S),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mu:return S=Yu(y.type,y.key,y.props,null,T.mode,S),S.ref=ya(T,null,y),S.return=T,S;case Xs:return y=Gh(y,T.mode,S),y.return=T,y;case li:var O=y._init;return f(T,O(y._payload),S)}if(Ra(y)||ha(y))return y=ps(y,T.mode,S,null),y.return=T,y;Ru(T,y)}return null}function m(T,y,S,O){var U=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return U!==null?null:l(T,y,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mu:return S.key===U?u(T,y,S,O):null;case Xs:return S.key===U?c(T,y,S,O):null;case li:return U=S._init,m(T,y,U(S._payload),O)}if(Ra(S)||ha(S))return U!==null?null:h(T,y,S,O,null);Ru(T,S)}return null}function w(T,y,S,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return T=T.get(S)||null,l(y,T,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case mu:return T=T.get(O.key===null?S:O.key)||null,u(y,T,O,U);case Xs:return T=T.get(O.key===null?S:O.key)||null,c(y,T,O,U);case li:var P=O._init;return w(T,y,S,P(O._payload),U)}if(Ra(O)||ha(O))return T=T.get(S)||null,h(y,T,O,U,null);Ru(y,O)}return null}function R(T,y,S,O){for(var U=null,P=null,E=y,g=y=0,_=null;E!==null&&g<S.length;g++){E.index>g?(_=E,E=null):_=E.sibling;var A=m(T,E,S[g],O);if(A===null){E===null&&(E=_);break}t&&E&&A.alternate===null&&e(T,E),y=s(A,y,g),P===null?U=A:P.sibling=A,P=A,E=_}if(g===S.length)return n(T,E),et&&ts(T,g),U;if(E===null){for(;g<S.length;g++)E=f(T,S[g],O),E!==null&&(y=s(E,y,g),P===null?U=E:P.sibling=E,P=E);return et&&ts(T,g),U}for(E=r(T,E);g<S.length;g++)_=w(E,T,g,S[g],O),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?g:_.key),y=s(_,y,g),P===null?U=_:P.sibling=_,P=_);return t&&E.forEach(function(x){return e(T,x)}),et&&ts(T,g),U}function C(T,y,S,O){var U=ha(S);if(typeof U!="function")throw Error(K(150));if(S=U.call(S),S==null)throw Error(K(151));for(var P=U=null,E=y,g=y=0,_=null,A=S.next();E!==null&&!A.done;g++,A=S.next()){E.index>g?(_=E,E=null):_=E.sibling;var x=m(T,E,A.value,O);if(x===null){E===null&&(E=_);break}t&&E&&x.alternate===null&&e(T,E),y=s(x,y,g),P===null?U=x:P.sibling=x,P=x,E=_}if(A.done)return n(T,E),et&&ts(T,g),U;if(E===null){for(;!A.done;g++,A=S.next())A=f(T,A.value,O),A!==null&&(y=s(A,y,g),P===null?U=A:P.sibling=A,P=A);return et&&ts(T,g),U}for(E=r(T,E);!A.done;g++,A=S.next())A=w(E,T,g,A.value,O),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?g:A.key),y=s(A,y,g),P===null?U=A:P.sibling=A,P=A);return t&&E.forEach(function(k){return e(T,k)}),et&&ts(T,g),U}function b(T,y,S,O){if(typeof S=="object"&&S!==null&&S.type===Js&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mu:e:{for(var U=S.key,P=y;P!==null;){if(P.key===U){if(U=S.type,U===Js){if(P.tag===7){n(T,P.sibling),y=i(P,S.props.children),y.return=T,T=y;break e}}else if(P.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===li&&pv(U)===P.type){n(T,P.sibling),y=i(P,S.props),y.ref=ya(T,P,S),y.return=T,T=y;break e}n(T,P);break}else e(T,P);P=P.sibling}S.type===Js?(y=ps(S.props.children,T.mode,O,S.key),y.return=T,T=y):(O=Yu(S.type,S.key,S.props,null,T.mode,O),O.ref=ya(T,y,S),O.return=T,T=O)}return o(T);case Xs:e:{for(P=S.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(T,y.sibling),y=i(y,S.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=Gh(S,T.mode,O),y.return=T,T=y}return o(T);case li:return P=S._init,b(T,y,P(S._payload),O)}if(Ra(S))return R(T,y,S,O);if(ha(S))return C(T,y,S,O);Ru(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(T,y.sibling),y=i(y,S),y.return=T,T=y):(n(T,y),y=Kh(S,T.mode,O),y.return=T,T=y),o(T)):n(T,y)}return b}var Po=hE(!0),fE=hE(!1),Ol={},pr=Bi(Ol),ul=Bi(Ol),cl=Bi(Ol);function ls(t){if(t===Ol)throw Error(K(174));return t}function Im(t,e){switch(qe(cl,e),qe(ul,t),qe(pr,Ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Df(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Df(e,t)}Je(pr),qe(pr,e)}function Co(){Je(pr),Je(ul),Je(cl)}function pE(t){ls(cl.current);var e=ls(pr.current),n=Df(e,t.type);e!==n&&(qe(ul,t),qe(pr,n))}function Sm(t){ul.current===t&&(Je(pr),Je(ul))}var nt=Bi(0);function Fc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function Am(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var Hu=Kr.ReactCurrentDispatcher,Bh=Kr.ReactCurrentBatchConfig,vs=0,rt=null,It=null,Ct=null,Uc=!1,za=!1,dl=0,DR=0;function qt(){throw Error(K(321))}function Rm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Pm(t,e,n,r,i,s){if(vs=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?LR:VR,t=n(r,i),za){s=0;do{if(za=!1,dl=0,25<=s)throw Error(K(301));s+=1,Ct=It=null,e.updateQueue=null,Hu.current=MR,t=n(r,i)}while(za)}if(Hu.current=jc,e=It!==null&&It.next!==null,vs=0,Ct=It=rt=null,Uc=!1,e)throw Error(K(300));return t}function Cm(){var t=dl!==0;return dl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?rt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Un(){if(It===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Ct===null?rt.memoizedState:Ct.next;if(e!==null)Ct=e,It=t;else{if(t===null)throw Error(K(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ct===null?rt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function hl(t,e){return typeof e=="function"?e(t):e}function $h(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((vs&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,rt.lanes|=h,_s|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,tr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,_s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wh(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mE(){}function gE(t,e){var n=rt,r=Un(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,km(_E.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,fl(9,vE.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(K(349));vs&30||yE(n,e,i)}return i}function yE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vE(t,e,n,r){e.value=n,e.getSnapshot=r,wE(e)&&EE(t)}function _E(t,e,n){return n(function(){wE(e)&&EE(t)})}function wE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function EE(t){var e=zr(t,1);e!==null&&Zn(e,t,1,-1)}function mv(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:t},e.queue=t,t=t.dispatch=OR.bind(null,rt,t),[e.memoizedState,t]}function fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TE(){return Un().memoizedState}function qu(t,e,n,r){var i=ur();rt.flags|=t,i.memoizedState=fl(1|e,n,void 0,r===void 0?null:r)}function Pd(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,r!==null&&Rm(r,o.deps)){i.memoizedState=fl(e,n,s,r);return}}rt.flags|=t,i.memoizedState=fl(1|e,n,s,r)}function gv(t,e){return qu(8390656,8,t,e)}function km(t,e){return Pd(2048,8,t,e)}function IE(t,e){return Pd(4,2,t,e)}function SE(t,e){return Pd(4,4,t,e)}function AE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RE(t,e,n){return n=n!=null?n.concat([t]):null,Pd(4,4,AE.bind(null,e,t),n)}function xm(){}function PE(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CE(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kE(t,e,n){return vs&21?(tr(n,e)||(n=Nw(),rt.lanes|=n,_s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function NR(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Bh.transition;Bh.transition={};try{t(!1),e()}finally{je=n,Bh.transition=r}}function xE(){return Un().memoizedState}function bR(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DE(t))NE(e,n);else if(n=lE(t,e,n,r),n!==null){var i=sn();Zn(n,t,r,i),bE(n,e,r)}}function OR(t,e,n){var r=Pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DE(t))NE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,tr(l,o)){var u=e.interleaved;u===null?(i.next=i,Em(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=lE(t,e,i,r),n!==null&&(i=sn(),Zn(n,t,r,i),bE(n,e,r))}}function DE(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function NE(t,e){za=Uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,am(t,n)}}var jc={readContext:Fn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},LR={readContext:Fn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:gv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qu(4194308,4,AE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return qu(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bR.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:mv,useDebugValue:xm,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=mv(!1),e=t[0];return t=NR.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=ur();if(et){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),kt===null)throw Error(K(349));vs&30||yE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gv(_E.bind(null,r,s,t),[t]),r.flags|=2048,fl(9,vE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ur(),e=kt.identifierPrefix;if(et){var n=Nr,r=Dr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VR={readContext:Fn,useCallback:PE,useContext:Fn,useEffect:km,useImperativeHandle:RE,useInsertionEffect:IE,useLayoutEffect:SE,useMemo:CE,useReducer:$h,useRef:TE,useState:function(){return $h(hl)},useDebugValue:xm,useDeferredValue:function(t){var e=Un();return kE(e,It.memoizedState,t)},useTransition:function(){var t=$h(hl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:xE,unstable_isNewReconciler:!1},MR={readContext:Fn,useCallback:PE,useContext:Fn,useEffect:km,useImperativeHandle:RE,useInsertionEffect:IE,useLayoutEffect:SE,useMemo:CE,useReducer:Wh,useRef:TE,useState:function(){return Wh(hl)},useDebugValue:xm,useDeferredValue:function(t){var e=Un();return It===null?e.memoizedState=t:kE(e,It.memoizedState,t)},useTransition:function(){var t=Wh(hl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:xE,unstable_isNewReconciler:!1};function ko(t,e){try{var n="",r=e;do n+=dA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ep(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FR=typeof WeakMap=="function"?WeakMap:Map;function OE(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bc||(Bc=!0,cp=r),ep(t,e)},n}function LE(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ep(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ep(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JR.bind(null,t,e,n),e.then(t,t))}function vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _v(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var UR=Kr.ReactCurrentOwner,hn=!1;function nn(t,e,n,r){e.child=t===null?fE(e,null,n,r):Po(e,t.child,n,r)}function wv(t,e,n,r,i){n=n.render;var s=e.ref;return yo(e,i),r=Pm(t,e,n,r,s,i),n=Cm(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(et&&n&&mm(e),e.flags|=1,nn(t,e,r,i),e.child)}function Ev(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Fm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VE(t,e,s,r,i)):(t=Yu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(o,r)&&t.ref===e.ref)return Br(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function VE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sl(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Br(t,e,i)}return tp(t,e,n,r,i)}function ME(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(lo,wn),wn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(lo,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(lo,wn),wn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(lo,wn),wn|=r;return nn(t,e,i,n),e.child}function FE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tp(t,e,n,r,i){var s=pn(n)?gs:Jt.current;return s=Ao(e,s),yo(e,i),n=Pm(t,e,n,r,s,i),r=Cm(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(et&&r&&mm(e),e.flags|=1,nn(t,e,n,i),e.child)}function Tv(t,e,n,r,i){if(pn(n)){var s=!0;Nc(e)}else s=!1;if(yo(e,i),e.stateNode===null)Ku(t,e),dE(e,n,r),Zf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=pn(n)?gs:Jt.current,c=Ao(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&fv(e,o,r,c),ui=!1;var m=e.memoizedState;o.state=m,Mc(e,r,o,i),u=e.memoizedState,l!==r||m!==u||fn.current||ui?(typeof h=="function"&&(Jf(e,n,h,r),u=e.memoizedState),(l=ui||hv(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uE(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:qn(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fn(u):(u=pn(n)?gs:Jt.current,u=Ao(e,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&fv(e,o,r,u),ui=!1,m=e.memoizedState,o.state=m,Mc(e,r,o,i);var R=e.memoizedState;l!==f||m!==R||fn.current||ui?(typeof w=="function"&&(Jf(e,n,w,r),R=e.memoizedState),(c=ui||hv(e,n,c,r,m,R,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return np(t,e,n,r,s,i)}function np(t,e,n,r,i,s){FE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&av(e,n,!1),Br(t,e,s);r=e.stateNode,UR.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Po(e,t.child,null,s),e.child=Po(e,null,l,s)):nn(t,e,l,s),e.memoizedState=r.state,i&&av(e,n,!0),e.child}function UE(t){var e=t.stateNode;e.pendingContext?ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ov(t,e.context,!1),Im(t,e.containerInfo)}function Iv(t,e,n,r,i){return Ro(),ym(i),e.flags|=256,nn(t,e,n,r),e.child}var rp={dehydrated:null,treeContext:null,retryLane:0};function ip(t){return{baseLanes:t,cachePool:null,transitions:null}}function jE(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(nt,i&1),t===null)return Yf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xd(o,r,0,null),t=ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ip(n),e.memoizedState=rp,t):Dm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return jR(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ci(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ci(l,s):(s=ps(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ip(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rp,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dm(t,e){return e=xd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pu(t,e,n,r){return r!==null&&ym(r),Po(e,t.child,null,n),t=Dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hh(Error(K(422))),Pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xd({mode:"visible",children:r.children},i,0,null),s=ps(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Po(e,t.child,null,o),e.child.memoizedState=ip(o),e.memoizedState=rp,s);if(!(e.mode&1))return Pu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(K(419)),r=Hh(s,r,void 0),Pu(t,e,o,r)}if(l=(o&t.childLanes)!==0,hn||l){if(r=kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zr(t,i),Zn(r,t,i,-1))}return Mm(),r=Hh(Error(K(421))),Pu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tn=Si(i.nextSibling),An=e,et=!0,Qn=null,t!==null&&(On[Ln++]=Dr,On[Ln++]=Nr,On[Ln++]=ys,Dr=t.id,Nr=t.overflow,ys=e),e=Dm(e,r.children),e.flags|=4096,e)}function Sv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xf(t.return,e,n)}function qh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,n,e);else if(t.tag===19)Sv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qh(e,!0,n,null,s);break;case"together":qh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zR(t,e,n){switch(e.tag){case 3:UE(e),Ro();break;case 5:pE(e);break;case 1:pn(e.type)&&Nc(e);break;case 4:Im(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Lc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?jE(t,e,n):(qe(nt,nt.current&1),t=Br(t,e,n),t!==null?t.sibling:null);qe(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,ME(t,e,n)}return Br(t,e,n)}var BE,sp,$E,WE;BE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sp=function(){};$E=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ls(pr.current);var s=null;switch(n){case"input":i=Pf(t,i),r=Pf(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=xf(t,i),r=xf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xc)}Nf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ja.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ja.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Qe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WE=function(t,e,n,r){n!==r&&(e.flags|=4)};function va(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BR(t,e,n){var r=e.pendingProps;switch(gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return pn(e.type)&&Dc(),Kt(e),null;case 3:return r=e.stateNode,Co(),Je(fn),Je(Jt),Am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(fp(Qn),Qn=null))),sp(t,e),Kt(e),null;case 5:Sm(e);var i=ls(cl.current);if(n=e.type,t!==null&&e.stateNode!=null)$E(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Kt(e),null}if(t=ls(pr.current),Au(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cr]=e,r[ll]=s,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<Ca.length;i++)Qe(Ca[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":by(r,s),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qe("invalid",r);break;case"textarea":Ly(r,s),Qe("invalid",r)}Nf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Su(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Su(r.textContent,l,t),i=["children",""+l]):Ja.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":gu(r),Oy(r,s,!0);break;case"textarea":gu(r),Vy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[ll]=r,BE(t,e,!1,!1),e.stateNode=t;e:{switch(o=bf(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ca.length;i++)Qe(Ca[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":by(t,r),i=Pf(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":Ly(t,r),i=xf(t,r),Qe("invalid",t);break;default:i=r}Nf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?ww(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&vw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Za(t,u):typeof u=="number"&&Za(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ja.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Qe("scroll",t):u!=null&&tm(t,s,u,o))}switch(n){case"input":gu(t),Oy(t,r,!1);break;case"textarea":gu(t),Vy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)WE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ls(cl.current),ls(pr.current),Au(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(s=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Tn!==null&&e.mode&1&&!(e.flags&128))aE(),Ro(),e.flags|=98560,s=!1;else if(s=Au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[cr]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else Qn!==null&&(fp(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?St===0&&(St=3):Mm())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Co(),sp(t,e),t===null&&ol(e.stateNode.containerInfo),Kt(e),null;case 10:return wm(e.type._context),Kt(e),null;case 17:return pn(e.type)&&Dc(),Kt(e),null;case 19:if(Je(nt),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)va(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fc(t),o!==null){for(e.flags|=128,va(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>xo&&(e.flags|=128,r=!0,va(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Kt(e),null}else 2*mt()-s.renderingStartTime>xo&&n!==1073741824&&(e.flags|=128,r=!0,va(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=nt.current,qe(nt,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function $R(t,e){switch(gm(e),e.tag){case 1:return pn(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),Je(fn),Je(Jt),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sm(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return Co(),null;case 10:return wm(e.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var Cu=!1,Yt=!1,WR=typeof WeakSet=="function"?WeakSet:Set,te=null;function ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function op(t,e,n){try{n()}catch(r){ut(t,e,r)}}var Av=!1;function HR(t,e){if($f=Pc,t=Gw(),pm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)m=f,f=w;for(;;){if(f===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++h===r&&(u=o),(w=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:t,selectionRange:n},Pc=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var C=R.memoizedProps,b=R.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?C:qn(e.type,C),b);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(O){ut(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return R=Av,Av=!1,R}function Ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&op(e,n,s)}i=i.next}while(i!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ap(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HE(t){var e=t.alternate;e!==null&&(t.alternate=null,HE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[ll],delete e[Kf],delete e[PR],delete e[CR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qE(t){return t.tag===5||t.tag===3||t.tag===4}function Rv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xc));else if(r!==4&&(t=t.child,t!==null))for(lp(t,e,n),t=t.sibling;t!==null;)lp(t,e,n),t=t.sibling}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}var Ot=null,Kn=!1;function si(t,e,n){for(n=n.child;n!==null;)KE(t,e,n),n=n.sibling}function KE(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:Yt||ao(n,e);case 6:var r=Ot,i=Kn;Ot=null,si(t,e,n),Ot=r,Kn=i,Ot!==null&&(Kn?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Kn?(t=Ot,n=n.stateNode,t.nodeType===8?Uh(t.parentNode,n):t.nodeType===1&&Uh(t,n),rl(t)):Uh(Ot,n.stateNode));break;case 4:r=Ot,i=Kn,Ot=n.stateNode.containerInfo,Kn=!0,si(t,e,n),Ot=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&op(n,e,o),i=i.next}while(i!==r)}si(t,e,n);break;case 1:if(!Yt&&(ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ut(n,e,l)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,si(t,e,n),Yt=r):si(t,e,n);break;default:si(t,e,n)}}function Pv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WR),e.forEach(function(r){var i=eP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,Kn=!1;break e;case 3:Ot=l.stateNode.containerInfo,Kn=!0;break e;case 4:Ot=l.stateNode.containerInfo,Kn=!0;break e}l=l.return}if(Ot===null)throw Error(K(160));KE(s,o,i),Ot=null,Kn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GE(e,t),e=e.sibling}function GE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),lr(t),r&4){try{Ba(3,t,t.return),Cd(3,t)}catch(C){ut(t,t.return,C)}try{Ba(5,t,t.return)}catch(C){ut(t,t.return,C)}}break;case 1:Hn(e,t),lr(t),r&512&&n!==null&&ao(n,n.return);break;case 5:if(Hn(e,t),lr(t),r&512&&n!==null&&ao(n,n.return),t.flags&32){var i=t.stateNode;try{Za(i,"")}catch(C){ut(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&mw(i,s),bf(l,o);var c=bf(l,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?ww(i,f):h==="dangerouslySetInnerHTML"?vw(i,f):h==="children"?Za(i,f):tm(i,h,f,c)}switch(l){case"input":Cf(i,s);break;case"textarea":gw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?fo(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?fo(i,!!s.multiple,s.defaultValue,!0):fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[ll]=s}catch(C){ut(t,t.return,C)}}break;case 6:if(Hn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){ut(t,t.return,C)}}break;case 3:if(Hn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rl(e.containerInfo)}catch(C){ut(t,t.return,C)}break;case 4:Hn(e,t),lr(t);break;case 13:Hn(e,t),lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Om=mt())),r&4&&Pv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(c=Yt)||h,Hn(e,t),Yt=c):Hn(e,t),lr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,w=m.child,m.tag){case 0:case 11:case 14:case 15:Ba(4,m,m.return);break;case 1:ao(m,m.return);var R=m.stateNode;if(typeof R.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(C){ut(r,n,C)}}break;case 5:ao(m,m.return);break;case 22:if(m.memoizedState!==null){kv(f);continue}}w!==null?(w.return=m,te=w):kv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=_w("display",o))}catch(C){ut(t,t.return,C)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(C){ut(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(e,t),lr(t),r&4&&Pv(t);break;case 21:break;default:Hn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qE(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Za(i,""),r.flags&=-33);var s=Rv(t);up(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Rv(t);lp(t,l,o);break;default:throw Error(K(161))}}catch(u){ut(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qR(t,e,n){te=t,QE(t)}function QE(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Yt;l=Cu;var c=Yt;if(Cu=o,(Yt=u)&&!c)for(te=i;te!==null;)o=te,u=o.child,o.tag===22&&o.memoizedState!==null?xv(i):u!==null?(u.return=o,te=u):xv(i);for(;s!==null;)te=s,QE(s),s=s.sibling;te=i,Cu=l,Yt=c}Cv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):Cv(t)}}function Cv(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&rl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Yt||e.flags&512&&ap(e)}catch(m){ut(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function kv(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function xv(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(u){ut(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ut(e,i,u)}}var s=e.return;try{ap(e)}catch(u){ut(e,s,u)}break;case 5:var o=e.return;try{ap(e)}catch(u){ut(e,o,u)}}}catch(u){ut(e,e.return,u)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var KR=Math.ceil,zc=Kr.ReactCurrentDispatcher,Nm=Kr.ReactCurrentOwner,Mn=Kr.ReactCurrentBatchConfig,Oe=0,kt=null,vt=null,Mt=0,wn=0,lo=Bi(0),St=0,pl=null,_s=0,kd=0,bm=0,$a=null,cn=null,Om=0,xo=1/0,kr=null,Bc=!1,cp=null,Ri=null,ku=!1,vi=null,$c=0,Wa=0,dp=null,Gu=-1,Qu=0;function sn(){return Oe&6?mt():Gu!==-1?Gu:Gu=mt()}function Pi(t){return t.mode&1?Oe&2&&Mt!==0?Mt&-Mt:xR.transition!==null?(Qu===0&&(Qu=Nw()),Qu):(t=je,t!==0||(t=window.event,t=t===void 0?16:Uw(t.type)),t):1}function Zn(t,e,n,r){if(50<Wa)throw Wa=0,dp=null,Error(K(185));Dl(t,n,r),(!(Oe&2)||t!==kt)&&(t===kt&&(!(Oe&2)&&(kd|=n),St===4&&di(t,Mt)),mn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(xo=mt()+500,Ad&&$i()))}function mn(t,e){var n=t.callbackNode;xA(t,e);var r=Rc(t,t===kt?Mt:0);if(r===0)n!==null&&Uy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uy(n),e===1)t.tag===0?kR(Dv.bind(null,t)):iE(Dv.bind(null,t)),AR(function(){!(Oe&6)&&$i()}),n=null;else{switch(bw(r)){case 1:n=om;break;case 4:n=xw;break;case 16:n=Ac;break;case 536870912:n=Dw;break;default:n=Ac}n=rT(n,YE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YE(t,e){if(Gu=-1,Qu=0,Oe&6)throw Error(K(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=Rc(t,t===kt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wc(t,r);else{e=r;var i=Oe;Oe|=2;var s=JE();(kt!==t||Mt!==e)&&(kr=null,xo=mt()+500,fs(t,e));do try{YR();break}catch(l){XE(t,l)}while(!0);_m(),zc.current=s,Oe=i,vt!==null?e=0:(kt=null,Mt=0,e=St)}if(e!==0){if(e===2&&(i=Ff(t),i!==0&&(r=i,e=hp(t,i))),e===1)throw n=pl,fs(t,0),di(t,r),mn(t,mt()),n;if(e===6)di(t,r);else{if(i=t.current.alternate,!(r&30)&&!GR(i)&&(e=Wc(t,r),e===2&&(s=Ff(t),s!==0&&(r=s,e=hp(t,s))),e===1))throw n=pl,fs(t,0),di(t,r),mn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:ns(t,cn,kr);break;case 3:if(di(t,r),(r&130023424)===r&&(e=Om+500-mt(),10<e)){if(Rc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qf(ns.bind(null,t,cn,kr),e);break}ns(t,cn,kr);break;case 4:if(di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KR(r/1960))-r,10<r){t.timeoutHandle=qf(ns.bind(null,t,cn,kr),r);break}ns(t,cn,kr);break;case 5:ns(t,cn,kr);break;default:throw Error(K(329))}}}return mn(t,mt()),t.callbackNode===n?YE.bind(null,t):null}function hp(t,e){var n=$a;return t.current.memoizedState.isDehydrated&&(fs(t,e).flags|=256),t=Wc(t,e),t!==2&&(e=cn,cn=n,e!==null&&fp(e)),t}function fp(t){cn===null?cn=t:cn.push.apply(cn,t)}function GR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~bm,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Dv(t){if(Oe&6)throw Error(K(327));vo();var e=Rc(t,0);if(!(e&1))return mn(t,mt()),null;var n=Wc(t,e);if(t.tag!==0&&n===2){var r=Ff(t);r!==0&&(e=r,n=hp(t,r))}if(n===1)throw n=pl,fs(t,0),di(t,e),mn(t,mt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,cn,kr),mn(t,mt()),null}function Lm(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(xo=mt()+500,Ad&&$i())}}function ws(t){vi!==null&&vi.tag===0&&!(Oe&6)&&vo();var e=Oe;Oe|=1;var n=Mn.transition,r=je;try{if(Mn.transition=null,je=1,t)return t()}finally{je=r,Mn.transition=n,Oe=e,!(Oe&6)&&$i()}}function Vm(){wn=lo.current,Je(lo)}function fs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SR(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(gm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dc();break;case 3:Co(),Je(fn),Je(Jt),Am();break;case 5:Sm(r);break;case 4:Co();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:wm(r.type._context);break;case 22:case 23:Vm()}n=n.return}if(kt=t,vt=t=Ci(t.current,null),Mt=wn=e,St=0,pl=null,bm=kd=_s=0,cn=$a=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}as=null}return t}function XE(t,e){do{var n=vt;try{if(_m(),Hu.current=jc,Uc){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uc=!1}if(vs=0,Ct=It=rt=null,za=!1,dl=0,Nm.current=null,n===null||n.return===null){St=1,pl=e,vt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=vv(o);if(w!==null){w.flags&=-257,_v(w,o,l,s,e),w.mode&1&&yv(s,c,e),e=w,u=c;var R=e.updateQueue;if(R===null){var C=new Set;C.add(u),e.updateQueue=C}else R.add(u);break e}else{if(!(e&1)){yv(s,c,e),Mm();break e}u=Error(K(426))}}else if(et&&l.mode&1){var b=vv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_v(b,o,l,s,e),ym(ko(u,l));break e}}s=u=ko(u,l),St!==4&&(St=2),$a===null?$a=[s]:$a.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=OE(s,u,e);cv(s,T);break e;case 1:l=u;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ri===null||!Ri.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=LE(s,l,e);cv(s,O);break e}}s=s.return}while(s!==null)}eT(n)}catch(U){e=U,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function JE(){var t=zc.current;return zc.current=jc,t===null?jc:t}function Mm(){(St===0||St===3||St===2)&&(St=4),kt===null||!(_s&268435455)&&!(kd&268435455)||di(kt,Mt)}function Wc(t,e){var n=Oe;Oe|=2;var r=JE();(kt!==t||Mt!==e)&&(kr=null,fs(t,e));do try{QR();break}catch(i){XE(t,i)}while(!0);if(_m(),Oe=n,zc.current=r,vt!==null)throw Error(K(261));return kt=null,Mt=0,St}function QR(){for(;vt!==null;)ZE(vt)}function YR(){for(;vt!==null&&!EA();)ZE(vt)}function ZE(t){var e=nT(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?eT(t):vt=e,Nm.current=null}function eT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$R(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,vt=null;return}}else if(n=BR(n,e,wn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);St===0&&(St=5)}function ns(t,e,n){var r=je,i=Mn.transition;try{Mn.transition=null,je=1,XR(t,e,n,r)}finally{Mn.transition=i,je=r}return null}function XR(t,e,n,r){do vo();while(vi!==null);if(Oe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DA(t,s),t===kt&&(vt=kt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,rT(Ac,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mn.transition,Mn.transition=null;var o=je;je=1;var l=Oe;Oe|=4,Nm.current=null,HR(t,n),GE(n,t),yR(Wf),Pc=!!$f,Wf=$f=null,t.current=n,qR(n),TA(),Oe=l,je=o,Mn.transition=s}else t.current=n;if(ku&&(ku=!1,vi=t,$c=i),s=t.pendingLanes,s===0&&(Ri=null),AA(n.stateNode),mn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bc)throw Bc=!1,t=cp,cp=null,t;return $c&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===dp?Wa++:(Wa=0,dp=t):Wa=0,$i(),null}function vo(){if(vi!==null){var t=bw($c),e=Mn.transition,n=je;try{if(Mn.transition=null,je=16>t?16:t,vi===null)var r=!1;else{if(t=vi,vi=null,$c=0,Oe&6)throw Error(K(331));var i=Oe;for(Oe|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(te=c;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Ba(8,h,s)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,w=h.return;if(HE(h),h===c){te=null;break}if(m!==null){m.return=w,te=m;break}te=w}}}var R=s.alternate;if(R!==null){var C=R.child;if(C!==null){R.child=null;do{var b=C.sibling;C.sibling=null,C=b}while(C!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ba(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,te=T;break e}te=s.return}}var y=t.current;for(te=y;te!==null;){o=te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,te=S;else e:for(o=y;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cd(9,l)}}catch(U){ut(l,l.return,U)}if(l===o){te=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,te=O;break e}te=l.return}}if(Oe=i,$i(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{je=n,Mn.transition=e}}return!1}function Nv(t,e,n){e=ko(n,e),e=OE(t,e,1),t=Ai(t,e,1),e=sn(),t!==null&&(Dl(t,1,e),mn(t,e))}function ut(t,e,n){if(t.tag===3)Nv(t,t,n);else for(;e!==null;){if(e.tag===3){Nv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=ko(n,t),t=LE(e,t,1),e=Ai(e,t,1),t=sn(),e!==null&&(Dl(e,1,t),mn(e,t));break}}e=e.return}}function JR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Mt&n)===n&&(St===4||St===3&&(Mt&130023424)===Mt&&500>mt()-Om?fs(t,0):bm|=n),mn(t,e)}function tT(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var n=sn();t=zr(t,e),t!==null&&(Dl(t,e,n),mn(t,n))}function ZR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tT(t,n)}function eP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),tT(t,n)}var nT;nT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,zR(t,e,n);hn=!!(t.flags&131072)}else hn=!1,et&&e.flags&1048576&&sE(e,Oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ku(t,e),t=e.pendingProps;var i=Ao(e,Jt.current);yo(e,n),i=Pm(null,e,r,t,i,n);var s=Cm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,Nc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tm(e),i.updater=Rd,e.stateNode=i,i._reactInternals=e,Zf(e,r,t,n),e=np(null,e,r,!0,s,n)):(e.tag=0,et&&s&&mm(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ku(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nP(r),t=qn(r,t),i){case 0:e=tp(null,e,r,t,n);break e;case 1:e=Tv(null,e,r,t,n);break e;case 11:e=wv(null,e,r,t,n);break e;case 14:e=Ev(null,e,r,qn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),tp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Tv(t,e,r,i,n);case 3:e:{if(UE(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uE(t,e),Mc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ko(Error(K(423)),e),e=Iv(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(K(424)),e),e=Iv(t,e,r,n,i);break e}else for(Tn=Si(e.stateNode.containerInfo.firstChild),An=e,et=!0,Qn=null,n=fE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===i){e=Br(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return pE(e),t===null&&Yf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hf(r,i)?o=null:s!==null&&Hf(r,s)&&(e.flags|=32),FE(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&Yf(e),null;case 13:return jE(t,e,n);case 4:return Im(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Po(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),wv(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Lc,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!fn.current){e=Br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Vr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Xf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yo(e,n),i=Fn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),Ev(t,e,r,i,n);case 15:return VE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Ku(t,e),e.tag=1,pn(r)?(t=!0,Nc(e)):t=!1,yo(e,n),dE(e,r,i),Zf(e,r,i,n),np(null,e,r,!0,t,n);case 19:return zE(t,e,n);case 22:return ME(t,e,n)}throw Error(K(156,e.tag))};function rT(t,e){return kw(t,e)}function tP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new tP(t,e,n,r)}function Fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nP(t){if(typeof t=="function")return Fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rm)return 11;if(t===im)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Js:return ps(n.children,i,s,e);case nm:o=8,i|=8;break;case If:return t=Vn(12,n,e,i|2),t.elementType=If,t.lanes=s,t;case Sf:return t=Vn(13,n,e,i),t.elementType=Sf,t.lanes=s,t;case Af:return t=Vn(19,n,e,i),t.elementType=Af,t.lanes=s,t;case hw:return xd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cw:o=10;break e;case dw:o=9;break e;case rm:o=11;break e;case im:o=14;break e;case li:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ps(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function xd(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=hw,t.lanes=n,t.stateNode={isHidden:!1},t}function Kh(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function Gh(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Um(t,e,n,r,i,s,o,l,u){return t=new rP(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(s),t}function iP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iT(t){if(!t)return Li;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(pn(n))return rE(t,n,e)}return e}function sT(t,e,n,r,i,s,o,l,u){return t=Um(n,r,!0,t,i,s,o,l,u),t.context=iT(null),n=t.current,r=sn(),i=Pi(n),s=Vr(r,i),s.callback=e??null,Ai(n,s,i),t.current.lanes=i,Dl(t,i,r),mn(t,r),t}function Dd(t,e,n,r){var i=e.current,s=sn(),o=Pi(i);return n=iT(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(i,e,o),t!==null&&(Zn(t,i,o,s),Wu(t,i,o)),o}function Hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jm(t,e){bv(t,e),(t=t.alternate)&&bv(t,e)}function sP(){return null}var oT=typeof reportError=="function"?reportError:function(t){console.error(t)};function zm(t){this._internalRoot=t}Nd.prototype.render=zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Dd(t,e,null,null)};Nd.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){Dd(null,t,null,null)}),e[jr]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&Fw(t)}};function Bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ov(){}function oP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hc(o);s.call(c)}}var o=sT(e,r,t,0,null,!1,!1,"",Ov);return t._reactRootContainer=o,t[jr]=o.current,ol(t.nodeType===8?t.parentNode:t),ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Hc(u);l.call(c)}}var u=Um(t,0,!1,null,null,!1,!1,"",Ov);return t._reactRootContainer=u,t[jr]=u.current,ol(t.nodeType===8?t.parentNode:t),ws(function(){Dd(e,u,n,r)}),u}function Od(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Hc(o);l.call(u)}}Dd(e,o,t,i)}else o=oP(n,e,t,i,r);return Hc(o)}Ow=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pa(e.pendingLanes);n!==0&&(am(e,n|1),mn(e,mt()),!(Oe&6)&&(xo=mt()+500,$i()))}break;case 13:ws(function(){var r=zr(t,1);if(r!==null){var i=sn();Zn(r,t,1,i)}}),jm(t,1)}};lm=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=sn();Zn(e,t,134217728,n)}jm(t,134217728)}};Lw=function(t){if(t.tag===13){var e=Pi(t),n=zr(t,e);if(n!==null){var r=sn();Zn(n,t,e,r)}jm(t,e)}};Vw=function(){return je};Mw=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Lf=function(t,e,n){switch(e){case"input":if(Cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sd(r);if(!i)throw Error(K(90));pw(r),Cf(r,i)}}}break;case"textarea":gw(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};Iw=Lm;Sw=ws;var aP={usingClientEntryPoint:!1,Events:[bl,no,Sd,Ew,Tw,Lm]},_a={findFiberByHostInstance:os,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lP={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pw(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||sP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{wd=xu.inject(lP),fr=xu}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aP;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(e))throw Error(K(200));return iP(t,e,null,n)};xn.createRoot=function(t,e){if(!Bm(t))throw Error(K(299));var n=!1,r="",i=oT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Um(t,1,!1,null,null,n,!1,r,i),t[jr]=e.current,ol(t.nodeType===8?t.parentNode:t),new zm(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Pw(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return ws(t)};xn.hydrate=function(t,e,n){if(!bd(e))throw Error(K(200));return Od(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!Bm(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sT(e,null,t,1,n??null,i,!1,s,o),t[jr]=e.current,ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nd(e)};xn.render=function(t,e,n){if(!bd(e))throw Error(K(200));return Od(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!bd(t))throw Error(K(40));return t._reactRootContainer?(ws(function(){Od(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};xn.unstable_batchedUpdates=Lm;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bd(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Od(t,e,n,!1,r)};xn.version="18.2.0-next-9e3b772b8-20220608";function aT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aT)}catch(t){console.error(t)}}aT(),sw.exports=xn;var $m=sw.exports;const uP=G0($m),cP=K0({__proto__:null,default:uP},[$m]);var Lv=$m;Ef.createRoot=Lv.createRoot,Ef.hydrateRoot=Lv.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}var ft;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ft||(ft={}));const Vv="popstate";function dP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return ml("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Es(i)}return fP(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Do(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hP(){return Math.random().toString(36).substr(2,8)}function Mv(t,e){return{usr:t.state,key:t.key,idx:e}}function ml(t,e,n,r){return n===void 0&&(n=null),tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gr(e):e,{state:n,key:e&&e.key||r||hP()})}function Es(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ft.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(tt({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=ft.Pop;let b=h(),T=b==null?null:b-c;c=b,u&&u({action:l,location:C.location,delta:T})}function m(b,T){l=ft.Push;let y=ml(C.location,b,T);n&&n(y,b),c=h()+1;let S=Mv(y,c),O=C.createHref(y);try{o.pushState(S,"",O)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(O)}s&&u&&u({action:l,location:C.location,delta:1})}function w(b,T){l=ft.Replace;let y=ml(C.location,b,T);n&&n(y,b),c=h();let S=Mv(y,c),O=C.createHref(y);o.replaceState(S,"",O),s&&u&&u({action:l,location:C.location,delta:0})}function R(b){let T=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Es(b);return y=y.replace(/ $/,"%20"),Te(T,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,T)}let C={get action(){return l},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Vv,f),u=b,()=>{i.removeEventListener(Vv,f),u=null}},createHref(b){return e(i,b)},createURL:R,encodeLocation(b){let T=R(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:w,go(b){return o.go(b)}};return C}var ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ze||(ze={}));const pP=new Set(["lazy","caseSensitive","path","id","index","children"]);function mP(t){return t.index===!0}function gl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),mP(i)){let u=tt({},i,e(i),{id:l});return r[l]=u,u}else{let u=tt({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=gl(i.children,e,o,r)),u}})}function ss(t,e,n){return n===void 0&&(n="/"),Xu(t,e,n,!1)}function Xu(t,e,n,r){let i=typeof e=="string"?Gr(e):e,s=Ho(i.pathname||"/",n);if(s==null)return null;let o=lT(t);yP(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=CP(s);l=RP(o[u],c,r)}return l}function gP(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function lT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Te(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Mr([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lT(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:SP(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of uT(s.path))i(s,o,u)}),e}function uT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uT(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function yP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vP=/^:[\w-]+$/,_P=3,wP=2,EP=1,TP=10,IP=-2,Fv=t=>t==="*";function SP(t,e){let n=t.split("/"),r=n.length;return n.some(Fv)&&(r+=IP),e&&(r+=wP),n.filter(i=>!Fv(i)).reduce((i,s)=>i+(vP.test(s)?_P:s===""?EP:TP),r)}function AP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function RP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Uv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Uv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Mr([s,f.pathname]),pathnameBase:DP(Mr([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Mr([s,f.pathnameBase]))}return o}function Uv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:w}=h;if(m==="*"){let C=l[f]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const R=l[f];return w&&!R?c[m]=void 0:c[m]=(R||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function PP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Do(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Do(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ho(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gr(t):t;return{pathname:n?n.startsWith("/")?n:xP(n,e):e,search:NP(r),hash:bP(i)}}function xP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ld(t,e){let n=cT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gr(t):(i=tt({},t),Te(!i.pathname||!i.pathname.includes("?"),Qh("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Qh("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Qh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=kP(i,l),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Mr=t=>t.join("/").replace(/\/\/+/g,"/"),DP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class qc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Md(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dT=["post","put","patch","delete"],OP=new Set(dT),LP=["get",...dT],VP=new Set(LP),MP=new Set([301,302,303,307,308]),FP=new Set([307,308]),Yh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},UP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jP=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),hT="remix-router-transitions";function zP(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=L=>({hasErrorBoundary:N(L)})}else i=jP;let s={},o=gl(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.unstable_dataStrategy||qP,h=t.unstable_patchRoutesOnMiss,f=tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,w=new Set,R=null,C=null,b=null,T=t.hydrationData!=null,y=ss(o,t.history.location,u),S=null;if(y==null&&!h){let N=en(404,{pathname:t.history.location.pathname}),{matches:L,route:F}=Qv(o);y=L,S={[F.id]:N}}y&&!t.hydrationData&&Ji(y,o,t.history.location.pathname).active&&(y=null);let O;if(y)if(y.some(N=>N.route.lazy))O=!1;else if(!y.some(N=>N.route.loader))O=!0;else if(f.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,F=$=>$.route.loader?typeof $.route.loader=="function"&&$.route.loader.hydrate===!0?!1:N&&N[$.route.id]!==void 0||L&&L[$.route.id]!==void 0:!0;if(L){let $=y.findIndex(ee=>L[ee.route.id]!==void 0);O=y.slice(0,$+1).every(F)}else O=y.every(F)}else O=t.hydrationData!=null;else if(O=!1,y=[],f.v7_partialHydration){let N=Ji(null,o,t.history.location.pathname);N.active&&N.matches&&(y=N.matches)}let U,P={historyAction:t.history.action,location:t.history.location,matches:y,initialized:O,navigation:Yh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},E=ft.Pop,g=!1,_,A=!1,x=new Map,k=null,I=!1,le=!1,De=[],ot=new Set,_e=new Map,Q=0,ae=-1,de=new Map,Ae=new Set,Se=new Map,Ue=new Map,at=new Set,Et=new Map,ct=new Map,Zt=new Map,wr=!1;function Ms(){if(m=t.history.listen(N=>{let{action:L,location:F,delta:$}=N;if(wr){wr=!1;return}Do(ct.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=na({currentLocation:P.location,nextLocation:F,historyAction:L});if(ee&&$!=null){wr=!0,t.history.go($*-1),Zr(ee,{state:"blocked",location:F,proceed(){Zr(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go($)},reset(){let ie=new Map(P.blockers);ie.set(ee,wa),dt({blockers:ie})}});return}return jn(L,F)}),n){sC(e,x);let N=()=>oC(e,x);e.addEventListener("pagehide",N),k=()=>e.removeEventListener("pagehide",N)}return P.initialized||jn(ft.Pop,P.location,{initialHydration:!0}),U}function Xr(){m&&m(),k&&k(),w.clear(),_&&_.abort(),P.fetchers.forEach((N,L)=>zn(L)),P.blockers.forEach((N,L)=>eu(L))}function Er(N){return w.add(N),()=>w.delete(N)}function dt(N,L){L===void 0&&(L={}),P=tt({},P,N);let F=[],$=[];f.v7_fetcherPersist&&P.fetchers.forEach((ee,ie)=>{ee.state==="idle"&&(at.has(ie)?$.push(ie):F.push(ie))}),[...w].forEach(ee=>ee(P,{deletedFetchers:$,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(ee=>P.fetchers.delete(ee)),$.forEach(ee=>zn(ee)))}function yn(N,L,F){var $,ee;let{flushSync:ie}=F===void 0?{}:F,fe=P.actionData!=null&&P.navigation.formMethod!=null&&Gn(P.navigation.formMethod)&&P.navigation.state==="loading"&&(($=N.state)==null?void 0:$._isRedirect)!==!0,Y;L.actionData?Object.keys(L.actionData).length>0?Y=L.actionData:Y=null:fe?Y=P.actionData:Y=null;let me=L.loaderData?Kv(P.loaderData,L.loaderData,L.matches||[],L.errors):P.loaderData,ue=P.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((Ie,Fe)=>ue.set(Fe,wa)));let ce=g===!0||P.navigation.formMethod!=null&&Gn(P.navigation.formMethod)&&((ee=N.state)==null?void 0:ee._isRedirect)!==!0;l&&(o=l,l=void 0),I||E===ft.Pop||(E===ft.Push?t.history.push(N,N.state):E===ft.Replace&&t.history.replace(N,N.state));let Ne;if(E===ft.Pop){let Ie=x.get(P.location.pathname);Ie&&Ie.has(N.pathname)?Ne={currentLocation:P.location,nextLocation:N}:x.has(N.pathname)&&(Ne={currentLocation:N,nextLocation:P.location})}else if(A){let Ie=x.get(P.location.pathname);Ie?Ie.add(N.pathname):(Ie=new Set([N.pathname]),x.set(P.location.pathname,Ie)),Ne={currentLocation:P.location,nextLocation:N}}dt(tt({},L,{actionData:Y,loaderData:me,historyAction:E,location:N,initialized:!0,navigation:Yh,revalidation:"idle",restoreScrollPosition:Xi(N,L.matches||P.matches),preventScrollReset:ce,blockers:ue}),{viewTransitionOpts:Ne,flushSync:ie===!0}),E=ft.Pop,g=!1,A=!1,I=!1,le=!1,De=[]}async function Tr(N,L){if(typeof N=="number"){t.history.go(N);return}let F=pp(P.location,P.matches,u,f.v7_prependBasename,N,f.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:$,submission:ee,error:ie}=jv(f.v7_normalizeFormMethod,!1,F,L),fe=P.location,Y=ml(P.location,$,L&&L.state);Y=tt({},Y,t.history.encodeLocation(Y));let me=L&&L.replace!=null?L.replace:void 0,ue=ft.Push;me===!0?ue=ft.Replace:me===!1||ee!=null&&Gn(ee.formMethod)&&ee.formAction===P.location.pathname+P.location.search&&(ue=ft.Replace);let ce=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Ne=(L&&L.unstable_flushSync)===!0,Ie=na({currentLocation:fe,nextLocation:Y,historyAction:ue});if(Ie){Zr(Ie,{state:"blocked",location:Y,proceed(){Zr(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),Tr(N,L)},reset(){let Fe=new Map(P.blockers);Fe.set(Ie,wa),dt({blockers:Fe})}});return}return await jn(ue,Y,{submission:ee,pendingError:ie,preventScrollReset:ce,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:Ne})}function Fs(){if(ke(),dt({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){jn(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}jn(E||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation})}}async function jn(N,L,F){_&&_.abort(),_=null,E=N,I=(F&&F.startUninterruptedRevalidation)===!0,tu(P.location,P.matches),g=(F&&F.preventScrollReset)===!0,A=(F&&F.enableViewTransition)===!0;let $=l||o,ee=F&&F.overrideNavigation,ie=ss($,L,u),fe=(F&&F.flushSync)===!0,Y=Ji(ie,$,L.pathname);if(Y.active&&Y.matches&&(ie=Y.matches),!ie){let{error:be,notFoundMatches:ht,route:Ze}=js(L.pathname);yn(L,{matches:ht,loaderData:{},errors:{[Ze.id]:be}},{flushSync:fe});return}if(P.initialized&&!le&&JP(P.location,L)&&!(F&&F.submission&&Gn(F.submission.formMethod))){yn(L,{matches:ie},{flushSync:fe});return}_=new AbortController;let me=qs(t.history,L,_.signal,F&&F.submission),ue;if(F&&F.pendingError)ue=[uo(ie).route.id,{type:ze.error,error:F.pendingError}];else if(F&&F.submission&&Gn(F.submission.formMethod)){let be=await ea(me,L,F.submission,ie,Y.active,{replace:F.replace,flushSync:fe});if(be.shortCircuited)return;if(be.pendingActionResult){let[ht,Ze]=be.pendingActionResult;if(En(Ze)&&Md(Ze.error)&&Ze.error.status===404){_=null,yn(L,{matches:be.matches,loaderData:{},errors:{[ht]:Ze.error}});return}}ie=be.matches||ie,ue=be.pendingActionResult,ee=Xh(L,F.submission),fe=!1,Y.active=!1,me=qs(t.history,me.url,me.signal)}let{shortCircuited:ce,matches:Ne,loaderData:Ie,errors:Fe}=await D(me,L,ie,Y.active,ee,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,fe,ue);ce||(_=null,yn(L,tt({matches:Ne||ie},Gv(ue),{loaderData:Ie,errors:Fe})))}async function ea(N,L,F,$,ee,ie){ie===void 0&&(ie={}),ke();let fe=rC(L,F);if(dt({navigation:fe},{flushSync:ie.flushSync===!0}),ee){let ue=await or($,L.pathname,N.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let{boundaryId:ce,error:Ne}=ir(L.pathname,ue);return{matches:ue.partialMatches,pendingActionResult:[ce,{type:ze.error,error:Ne}]}}else if(ue.matches)$=ue.matches;else{let{notFoundMatches:ce,error:Ne,route:Ie}=js(L.pathname);return{matches:ce,pendingActionResult:[Ie.id,{type:ze.error,error:Ne}]}}}let Y,me=ka($,L);if(!me.route.action&&!me.route.lazy)Y={type:ze.error,error:en(405,{method:N.method,pathname:L.pathname,routeId:me.route.id})};else if(Y=(await Ee("action",N,[me],$))[0],N.signal.aborted)return{shortCircuited:!0};if(cs(Y)){let ue;return ie&&ie.replace!=null?ue=ie.replace:ue=Wv(Y.response.headers.get("Location"),new URL(N.url),u)===P.location.pathname+P.location.search,await re(N,Y,{submission:F,replace:ue}),{shortCircuited:!0}}if(us(Y))throw en(400,{type:"defer-action"});if(En(Y)){let ue=uo($,me.route.id);return(ie&&ie.replace)!==!0&&(E=ft.Push),{matches:$,pendingActionResult:[ue.route.id,Y]}}return{matches:$,pendingActionResult:[me.route.id,Y]}}async function D(N,L,F,$,ee,ie,fe,Y,me,ue,ce){let Ne=ee||Xh(L,ie),Ie=ie||fe||Zv(Ne),Fe=!I&&(!f.v7_partialHydration||!me);if($){if(Fe){let Ke=M(ce);dt(tt({navigation:Ne},Ke!==void 0?{actionData:Ke}:{}),{flushSync:ue})}let we=await or(F,L.pathname,N.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let{boundaryId:Ke,error:$t}=ir(L.pathname,we);return{matches:we.partialMatches,loaderData:{},errors:{[Ke]:$t}}}else if(we.matches)F=we.matches;else{let{error:Ke,notFoundMatches:$t,route:$e}=js(L.pathname);return{matches:$t,loaderData:{},errors:{[$e.id]:Ke}}}}let be=l||o,[ht,Ze]=zv(t.history,P,F,Ie,L,f.v7_partialHydration&&me===!0,f.v7_skipActionErrorRevalidation,le,De,ot,at,Se,Ae,be,u,ce);if(Yi(we=>!(F&&F.some(Ke=>Ke.route.id===we))||ht&&ht.some(Ke=>Ke.route.id===we)),ae=++Q,ht.length===0&&Ze.length===0){let we=Jr();return yn(L,tt({matches:F,loaderData:{},errors:ce&&En(ce[1])?{[ce[0]]:ce[1].error}:null},Gv(ce),we?{fetchers:new Map(P.fetchers)}:{}),{flushSync:ue}),{shortCircuited:!0}}if(Fe){let we={};if(!$){we.navigation=Ne;let Ke=M(ce);Ke!==void 0&&(we.actionData=Ke)}Ze.length>0&&(we.fetchers=z(Ze)),dt(we,{flushSync:ue})}Ze.forEach(we=>{_e.has(we.key)&&xt(we.key),we.controller&&_e.set(we.key,we.controller)});let ei=()=>Ze.forEach(we=>xt(we.key));_&&_.signal.addEventListener("abort",ei);let{loaderResults:Bn,fetcherResults:ti}=await Be(P.matches,F,ht,Ze,N);if(N.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",ei),Ze.forEach(we=>_e.delete(we.key));let $n=Yv([...Bn,...ti]);if($n){if($n.idx>=ht.length){let we=Ze[$n.idx-ht.length].key;Ae.add(we)}return await re(N,$n.result,{replace:Y}),{shortCircuited:!0}}let{loaderData:Sr,errors:ln}=qv(P,F,ht,Bn,ce,Ze,ti,Et);Et.forEach((we,Ke)=>{we.subscribe($t=>{($t||we.done)&&Et.delete(Ke)})}),f.v7_partialHydration&&me&&P.errors&&Object.entries(P.errors).filter(we=>{let[Ke]=we;return!ht.some($t=>$t.route.id===Ke)}).forEach(we=>{let[Ke,$t]=we;ln=Object.assign(ln||{},{[Ke]:$t})});let ar=Jr(),Nn=Us(ae),ni=ar||Nn||Ze.length>0;return tt({matches:F,loaderData:Sr,errors:ln},ni?{fetchers:new Map(P.fetchers)}:{})}function M(N){if(N&&!En(N[1]))return{[N[0]]:N[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function z(N){return N.forEach(L=>{let F=P.fetchers.get(L.key),$=Ea(void 0,F?F.data:void 0);P.fetchers.set(L.key,$)}),new Map(P.fetchers)}function Z(N,L,F,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");_e.has(N)&&xt(N);let ee=($&&$.unstable_flushSync)===!0,ie=l||o,fe=pp(P.location,P.matches,u,f.v7_prependBasename,F,f.v7_relativeSplatPath,L,$==null?void 0:$.relative),Y=ss(ie,fe,u),me=Ji(Y,ie,fe);if(me.active&&me.matches&&(Y=me.matches),!Y){Bt(N,L,en(404,{pathname:fe}),{flushSync:ee});return}let{path:ue,submission:ce,error:Ne}=jv(f.v7_normalizeFormMethod,!0,fe,$);if(Ne){Bt(N,L,Ne,{flushSync:ee});return}let Ie=ka(Y,ue);if(g=($&&$.preventScrollReset)===!0,ce&&Gn(ce.formMethod)){J(N,L,ue,Ie,Y,me.active,ee,ce);return}Se.set(N,{routeId:L,path:ue}),G(N,L,ue,Ie,Y,me.active,ee,ce)}async function J(N,L,F,$,ee,ie,fe,Y){ke(),Se.delete(N);function me($e){if(!$e.route.action&&!$e.route.lazy){let vn=en(405,{method:Y.formMethod,pathname:F,routeId:L});return Bt(N,L,vn,{flushSync:fe}),!0}return!1}if(!ie&&me($))return;let ue=P.fetchers.get(N);Ve(N,iC(Y,ue),{flushSync:fe});let ce=new AbortController,Ne=qs(t.history,F,ce.signal,Y);if(ie){let $e=await or(ee,F,Ne.signal);if($e.type==="aborted")return;if($e.type==="error"){let{error:vn}=ir(F,$e);Bt(N,L,vn,{flushSync:fe});return}else if($e.matches){if(ee=$e.matches,$=ka(ee,F),me($))return}else{Bt(N,L,en(404,{pathname:F}),{flushSync:fe});return}}_e.set(N,ce);let Ie=Q,be=(await Ee("action",Ne,[$],ee))[0];if(Ne.signal.aborted){_e.get(N)===ce&&_e.delete(N);return}if(f.v7_fetcherPersist&&at.has(N)){if(cs(be)||En(be)){Ve(N,ai(void 0));return}}else{if(cs(be))if(_e.delete(N),ae>Ie){Ve(N,ai(void 0));return}else return Ae.add(N),Ve(N,Ea(Y)),re(Ne,be,{fetcherSubmission:Y});if(En(be)){Bt(N,L,be.error);return}}if(us(be))throw en(400,{type:"defer-action"});let ht=P.navigation.location||P.location,Ze=qs(t.history,ht,ce.signal),ei=l||o,Bn=P.navigation.state!=="idle"?ss(ei,P.navigation.location,u):P.matches;Te(Bn,"Didn't find any matches after fetcher action");let ti=++Q;de.set(N,ti);let $n=Ea(Y,be.data);P.fetchers.set(N,$n);let[Sr,ln]=zv(t.history,P,Bn,Y,ht,!1,f.v7_skipActionErrorRevalidation,le,De,ot,at,Se,Ae,ei,u,[$.route.id,be]);ln.filter($e=>$e.key!==N).forEach($e=>{let vn=$e.key,zs=P.fetchers.get(vn),ru=Ea(void 0,zs?zs.data:void 0);P.fetchers.set(vn,ru),_e.has(vn)&&xt(vn),$e.controller&&_e.set(vn,$e.controller)}),dt({fetchers:new Map(P.fetchers)});let ar=()=>ln.forEach($e=>xt($e.key));ce.signal.addEventListener("abort",ar);let{loaderResults:Nn,fetcherResults:ni}=await Be(P.matches,Bn,Sr,ln,Ze);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",ar),de.delete(N),_e.delete(N),ln.forEach($e=>_e.delete($e.key));let we=Yv([...Nn,...ni]);if(we){if(we.idx>=Sr.length){let $e=ln[we.idx-Sr.length].key;Ae.add($e)}return re(Ze,we.result)}let{loaderData:Ke,errors:$t}=qv(P,P.matches,Sr,Nn,void 0,ln,ni,Et);if(P.fetchers.has(N)){let $e=ai(be.data);P.fetchers.set(N,$e)}Us(ti),P.navigation.state==="loading"&&ti>ae?(Te(E,"Expected pending action"),_&&_.abort(),yn(P.navigation.location,{matches:Bn,loaderData:Ke,errors:$t,fetchers:new Map(P.fetchers)})):(dt({errors:$t,loaderData:Kv(P.loaderData,Ke,Bn,$t),fetchers:new Map(P.fetchers)}),le=!1)}async function G(N,L,F,$,ee,ie,fe,Y){let me=P.fetchers.get(N);Ve(N,Ea(Y,me?me.data:void 0),{flushSync:fe});let ue=new AbortController,ce=qs(t.history,F,ue.signal);if(ie){let be=await or(ee,F,ce.signal);if(be.type==="aborted")return;if(be.type==="error"){let{error:ht}=ir(F,be);Bt(N,L,ht,{flushSync:fe});return}else if(be.matches)ee=be.matches,$=ka(ee,F);else{Bt(N,L,en(404,{pathname:F}),{flushSync:fe});return}}_e.set(N,ue);let Ne=Q,Fe=(await Ee("loader",ce,[$],ee))[0];if(us(Fe)&&(Fe=await yT(Fe,ce.signal,!0)||Fe),_e.get(N)===ue&&_e.delete(N),!ce.signal.aborted){if(at.has(N)){Ve(N,ai(void 0));return}if(cs(Fe))if(ae>Ne){Ve(N,ai(void 0));return}else{Ae.add(N),await re(ce,Fe);return}if(En(Fe)){Bt(N,L,Fe.error);return}Te(!us(Fe),"Unhandled fetcher deferred data"),Ve(N,ai(Fe.data))}}async function re(N,L,F){let{submission:$,fetcherSubmission:ee,replace:ie}=F===void 0?{}:F;L.response.headers.has("X-Remix-Revalidate")&&(le=!0);let fe=L.response.headers.get("Location");Te(fe,"Expected a Location header on the redirect Response"),fe=Wv(fe,new URL(N.url),u);let Y=ml(P.location,fe,{_isRedirect:!0});if(n){let Fe=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(Wm.test(fe)){const be=t.history.createURL(fe);Fe=be.origin!==e.location.origin||Ho(be.pathname,u)==null}if(Fe){ie?e.location.replace(fe):e.location.assign(fe);return}}_=null;let me=ie===!0||L.response.headers.has("X-Remix-Replace")?ft.Replace:ft.Push,{formMethod:ue,formAction:ce,formEncType:Ne}=P.navigation;!$&&!ee&&ue&&ce&&Ne&&($=Zv(P.navigation));let Ie=$||ee;if(FP.has(L.response.status)&&Ie&&Gn(Ie.formMethod))await jn(me,Y,{submission:tt({},Ie,{formAction:fe}),preventScrollReset:g});else{let Fe=Xh(Y,$);await jn(me,Y,{overrideNavigation:Fe,fetcherSubmission:ee,preventScrollReset:g})}}async function Ee(N,L,F,$){try{let ee=await KP(c,N,L,F,$,s,i);return await Promise.all(ee.map((ie,fe)=>{if(eC(ie)){let Y=ie.result;return{type:ze.redirect,response:YP(Y,L,F[fe].route.id,$,u,f.v7_relativeSplatPath)}}return QP(ie)}))}catch(ee){return F.map(()=>({type:ze.error,error:ee}))}}async function Be(N,L,F,$,ee){let[ie,...fe]=await Promise.all([F.length?Ee("loader",ee,F,L):[],...$.map(Y=>{if(Y.matches&&Y.match&&Y.controller){let me=qs(t.history,Y.path,Y.controller.signal);return Ee("loader",me,[Y.match],Y.matches).then(ue=>ue[0])}else return Promise.resolve({type:ze.error,error:en(404,{pathname:Y.path})})})]);return await Promise.all([Jv(N,F,ie,ie.map(()=>ee.signal),!1,P.loaderData),Jv(N,$.map(Y=>Y.match),fe,$.map(Y=>Y.controller?Y.controller.signal:null),!0)]),{loaderResults:ie,fetcherResults:fe}}function ke(){le=!0,De.push(...Yi()),Se.forEach((N,L)=>{_e.has(L)&&(ot.add(L),xt(L))})}function Ve(N,L,F){F===void 0&&(F={}),P.fetchers.set(N,L),dt({fetchers:new Map(P.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Bt(N,L,F,$){$===void 0&&($={});let ee=uo(P.matches,L);zn(N),dt({errors:{[ee.route.id]:F},fetchers:new Map(P.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Ir(N){return f.v7_fetcherPersist&&(Ue.set(N,(Ue.get(N)||0)+1),at.has(N)&&at.delete(N)),P.fetchers.get(N)||UP}function zn(N){let L=P.fetchers.get(N);_e.has(N)&&!(L&&L.state==="loading"&&de.has(N))&&xt(N),Se.delete(N),de.delete(N),Ae.delete(N),at.delete(N),ot.delete(N),P.fetchers.delete(N)}function ta(N){if(f.v7_fetcherPersist){let L=(Ue.get(N)||0)-1;L<=0?(Ue.delete(N),at.add(N)):Ue.set(N,L)}else zn(N);dt({fetchers:new Map(P.fetchers)})}function xt(N){let L=_e.get(N);Te(L,"Expected fetch controller: "+N),L.abort(),_e.delete(N)}function Qi(N){for(let L of N){let F=Ir(L),$=ai(F.data);P.fetchers.set(L,$)}}function Jr(){let N=[],L=!1;for(let F of Ae){let $=P.fetchers.get(F);Te($,"Expected fetcher: "+F),$.state==="loading"&&(Ae.delete(F),N.push(F),L=!0)}return Qi(N),L}function Us(N){let L=[];for(let[F,$]of de)if($<N){let ee=P.fetchers.get(F);Te(ee,"Expected fetcher: "+F),ee.state==="loading"&&(xt(F),de.delete(F),L.push(F))}return Qi(L),L.length>0}function gh(N,L){let F=P.blockers.get(N)||wa;return ct.get(N)!==L&&ct.set(N,L),F}function eu(N){P.blockers.delete(N),ct.delete(N)}function Zr(N,L){let F=P.blockers.get(N)||wa;Te(F.state==="unblocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="proceeding"||F.state==="blocked"&&L.state==="unblocked"||F.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+L.state);let $=new Map(P.blockers);$.set(N,L),dt({blockers:$})}function na(N){let{currentLocation:L,nextLocation:F,historyAction:$}=N;if(ct.size===0)return;ct.size>1&&Do(!1,"A router only supports one blocker at a time");let ee=Array.from(ct.entries()),[ie,fe]=ee[ee.length-1],Y=P.blockers.get(ie);if(!(Y&&Y.state==="proceeding")&&fe({currentLocation:L,nextLocation:F,historyAction:$}))return ie}function js(N){let L=en(404,{pathname:N}),F=l||o,{matches:$,route:ee}=Qv(F);return Yi(),{notFoundMatches:$,route:ee,error:L}}function ir(N,L){return{boundaryId:uo(L.partialMatches).route.id,error:en(400,{type:"route-discovery",pathname:N,message:L.error!=null&&"message"in L.error?L.error:String(L.error)})}}function Yi(N){let L=[];return Et.forEach((F,$)=>{(!N||N($))&&(F.cancel(),L.push($),Et.delete($))}),L}function ra(N,L,F){if(R=N,b=L,C=F||null,!T&&P.navigation===Yh){T=!0;let $=Xi(P.location,P.matches);$!=null&&dt({restoreScrollPosition:$})}return()=>{R=null,b=null,C=null}}function sr(N,L){return C&&C(N,L.map($=>gP($,P.loaderData)))||N.key}function tu(N,L){if(R&&b){let F=sr(N,L);R[F]=b()}}function Xi(N,L){if(R){let F=sr(N,L),$=R[F];if(typeof $=="number")return $}return null}function Ji(N,L,F){if(h)if(N){let $=N[N.length-1].route;if($.path&&($.path==="*"||$.path.endsWith("/*")))return{active:!0,matches:Xu(L,F,u,!0)}}else return{active:!0,matches:Xu(L,F,u,!0)||[]};return{active:!1,matches:null}}async function or(N,L,F){let $=N,ee=$.length>0?$[$.length-1].route:null;for(;;){let ie=l==null,fe=l||o;try{await HP(h,L,$,fe,s,i,Zt,F)}catch(ce){return{type:"error",error:ce,partialMatches:$}}finally{ie&&(o=[...o])}if(F.aborted)return{type:"aborted"};let Y=ss(fe,L,u),me=!1;if(Y){let ce=Y[Y.length-1].route;if(ce.index)return{type:"success",matches:Y};if(ce.path&&ce.path.length>0)if(ce.path==="*")me=!0;else return{type:"success",matches:Y}}let ue=Xu(fe,L,u,!0);if(!ue||$.map(ce=>ce.route.id).join("-")===ue.map(ce=>ce.route.id).join("-"))return{type:"success",matches:me?Y:null};if($=ue,ee=$[$.length-1].route,ee.path==="*")return{type:"success",matches:$}}}function nu(N){s={},l=gl(N,i,void 0,s)}function Dt(N,L){let F=l==null;pT(N,L,l||o,s,i),F&&(o=[...o],dt({}))}return U={get basename(){return u},get future(){return f},get state(){return P},get routes(){return o},get window(){return e},initialize:Ms,subscribe:Er,enableScrollRestoration:ra,navigate:Tr,fetch:Z,revalidate:Fs,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Ir,deleteFetcher:ta,dispose:Xr,getBlocker:gh,deleteBlocker:eu,patchRoutes:Dt,_internalFetchControllers:_e,_internalActiveDeferreds:Et,_internalSetRoutes:nu},U}function BP(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function pp(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let h=Vd(i||".",Ld(u,s),Ho(t.pathname,n)||t.pathname,l==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Hm(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Mr([n,h.pathname])),Es(h)}function jv(t,e,n,r){if(!r||!BP(r))return{path:n};if(r.formMethod&&!nC(r.formMethod))return{path:n,error:en(405,{method:r.formMethod})};let i=()=>({path:n,error:en(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=mT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Gn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,R)=>{let[C,b]=R;return""+w+C+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Gn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=mp(r.formData),c=r.formData;else if(r.body instanceof FormData)u=mp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Hv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Hv(u)}catch{return i()}let h={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Gn(h.formMethod))return{path:n,submission:h};let f=Gr(n);return e&&f.search&&Hm(f.search)&&u.append("index",""),f.search="?"+u,{path:Es(f),submission:h}}function $P(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function zv(t,e,n,r,i,s,o,l,u,c,h,f,m,w,R,C){let b=C?En(C[1])?C[1].error:C[1].data:void 0,T=t.createURL(e.location),y=t.createURL(i),S=C&&En(C[1])?C[0]:void 0,O=S?$P(n,S):n,U=C?C[1].statusCode:void 0,P=o&&U&&U>=400,E=O.filter((_,A)=>{let{route:x}=_;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(WP(e.loaderData,e.matches[A],_)||u.some(le=>le===_.route.id))return!0;let k=e.matches[A],I=_;return Bv(_,tt({currentUrl:T,currentParams:k.params,nextUrl:y,nextParams:I.params},r,{actionResult:b,actionStatus:U,defaultShouldRevalidate:P?!1:l||T.pathname+T.search===y.pathname+y.search||T.search!==y.search||fT(k,I)}))}),g=[];return f.forEach((_,A)=>{if(s||!n.some(De=>De.route.id===_.routeId)||h.has(A))return;let x=ss(w,_.path,R);if(!x){g.push({key:A,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(A),I=ka(x,_.path),le=!1;m.has(A)?le=!1:c.has(A)?(c.delete(A),le=!0):k&&k.state!=="idle"&&k.data===void 0?le=l:le=Bv(I,tt({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:U,defaultShouldRevalidate:P?!1:l})),le&&g.push({key:A,routeId:_.routeId,path:_.path,matches:x,match:I,controller:new AbortController})}),[E,g]}function WP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function fT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Bv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function HP(t,e,n,r,i,s,o,l){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(h,f)=>{l.aborted||pT(h,f,r,i,s)}}),o.set(u,c)),c&&ZP(c)&&await c}finally{o.delete(u)}}function pT(t,e,n,r,i){if(t){var s;let o=r[t];Te(o,"No route found to patch children into: routeId = "+t);let l=gl(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=gl(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function $v(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Do(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!pP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,tt({},e(i),{lazy:void 0}))}function qP(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function KP(t,e,n,r,i,s,o,l){let u=r.reduce((f,m)=>f.add(m.route.id),new Set),c=new Set,h=await t({matches:i.map(f=>{let m=u.has(f.route.id);return tt({},f,{shouldLoad:m,resolve:R=>(c.add(f.route.id),m?GP(e,n,f,s,o,R,l):Promise.resolve({type:ze.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(f=>Te(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((f,m)=>u.has(i[m].route.id))}async function GP(t,e,n,r,i,s,o){let l,u,c=h=>{let f,m=new Promise((C,b)=>f=b);u=()=>f(),e.signal.addEventListener("abort",u);let w=C=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...C!==void 0?[C]:[]),R;return s?R=s(C=>w(C)):R=(async()=>{try{return{type:"data",result:await w()}}catch(C){return{type:"error",result:C}}})(),Promise.race([R,m])};try{let h=n.route[t];if(n.route.lazy)if(h){let f,[m]=await Promise.all([c(h).catch(w=>{f=w}),$v(n.route,i,r)]);if(f!==void 0)throw f;l=m}else if(await $v(n.route,i,r),h=n.route[t],h)l=await c(h);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw en(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:ze.data,result:void 0};else if(h)l=await c(h);else{let f=new URL(e.url),m=f.pathname+f.search;throw en(404,{pathname:m})}Te(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:ze.error,result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function QP(t){let{result:e,type:n}=t;if(gT(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:ze.error,error:h}}return n===ze.error?{type:ze.error,error:new qc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:ze.data,data:c,statusCode:e.status,headers:e.headers}}if(n===ze.error){if(Xv(e)){var r;if(e.data instanceof Error){var i;return{type:ze.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new qc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:ze.error,error:e,statusCode:Md(e)?e.status:void 0}}if(tC(e)){var s,o;return{type:ze.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Xv(e)){var l,u;return{type:ze.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:ze.data,data:e}}function YP(t,e,n,r,i,s){let o=t.headers.get("Location");if(Te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wm.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=pp(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Wv(t,e,n){if(Wm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ho(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function qs(t,e,n,r){let i=t.createURL(mT(e)).toString(),s={signal:n};if(r&&Gn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=mp(r.formData):s.body=r.formData}return new Request(i,s)}function mp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Hv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function XP(t,e,n,r,i,s){let o={},l=null,u,c=!1,h={},f=r&&En(r[1])?r[1].error:void 0;return n.forEach((m,w)=>{let R=e[w].route.id;if(Te(!cs(m),"Cannot handle redirect results in processLoaderData"),En(m)){let C=m.error;if(f!==void 0&&(C=f,f=void 0),l=l||{},s)l[R]=C;else{let b=uo(t,R);l[b.route.id]==null&&(l[b.route.id]=C)}o[R]=void 0,c||(c=!0,u=Md(m.error)?m.error.status:500),m.headers&&(h[R]=m.headers)}else us(m)?(i.set(R,m.deferredData),o[R]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(h[R]=m.headers)):(o[R]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(h[R]=m.headers))}),f!==void 0&&r&&(l={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function qv(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=XP(e,n,r,i,l,!1);for(let h=0;h<s.length;h++){let{key:f,match:m,controller:w}=s[h];Te(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let R=o[h];if(!(w&&w.signal.aborted))if(En(R)){let C=uo(t.matches,m==null?void 0:m.route.id);c&&c[C.route.id]||(c=tt({},c,{[C.route.id]:R.error})),t.fetchers.delete(f)}else if(cs(R))Te(!1,"Unhandled fetcher revalidation redirect");else if(us(R))Te(!1,"Unhandled fetcher deferred data");else{let C=ai(R.data);t.fetchers.set(f,C)}}return{loaderData:u,errors:c}}function Kv(t,e,n,r){let i=tt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Gv(t){return t?En(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function uo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Qv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function en(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new qc(t||500,l,new Error(u),!0)}function Yv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(cs(n))return{result:n,idx:e}}}function mT(t){let e=typeof t=="string"?Gr(t):t;return Es(tt({},e,{hash:""}))}function JP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ZP(t){return typeof t=="object"&&t!=null&&"then"in t}function eC(t){return gT(t.result)&&MP.has(t.result.status)}function us(t){return t.type===ze.deferred}function En(t){return t.type===ze.error}function cs(t){return(t&&t.type)===ze.redirect}function Xv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function tC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function gT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nC(t){return VP.has(t.toLowerCase())}function Gn(t){return OP.has(t.toLowerCase())}async function Jv(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),h=c!=null&&!fT(c,u)&&(s&&s[u.route.id])!==void 0;if(us(l)&&(i||h)){let f=r[o];Te(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await yT(l,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function yT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ze.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ze.error,error:i}}return{type:ze.data,data:t.deferredData.data}}}function Hm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ka(t,e){let n=typeof e=="string"?Gr(e).search:e.search;if(t[t.length-1].route.index&&Hm(n||""))return t[t.length-1];let r=cT(t);return r[r.length-1]}function Zv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Xh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ea(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ai(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sC(t,e){try{let n=t.sessionStorage.getItem(hT);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function oC(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(hT,JSON.stringify(n))}catch(r){Do(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}const Fd=B.createContext(null),vT=B.createContext(null),Wi=B.createContext(null),Ud=B.createContext(null),Qr=B.createContext({outlet:null,matches:[],isDataRoute:!1}),_T=B.createContext(null);function aC(t,e){let{relative:n}=e===void 0?{}:e;qo()||Te(!1);let{basename:r,navigator:i}=B.useContext(Wi),{hash:s,pathname:o,search:l}=ET(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Mr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function qo(){return B.useContext(Ud)!=null}function Ll(){return qo()||Te(!1),B.useContext(Ud).location}function wT(t){B.useContext(Wi).static||B.useLayoutEffect(t)}function jd(){let{isDataRoute:t}=B.useContext(Qr);return t?EC():lC()}function lC(){qo()||Te(!1);let t=B.useContext(Fd),{basename:e,future:n,navigator:r}=B.useContext(Wi),{matches:i}=B.useContext(Qr),{pathname:s}=Ll(),o=JSON.stringify(Ld(i,n.v7_relativeSplatPath)),l=B.useRef(!1);return wT(()=>{l.current=!0}),B.useCallback(function(c,h){if(h===void 0&&(h={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=Vd(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Mr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}const uC=B.createContext(null);function cC(t){let e=B.useContext(Qr).outlet;return e&&B.createElement(uC.Provider,{value:t},e)}function ET(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Wi),{matches:i}=B.useContext(Qr),{pathname:s}=Ll(),o=JSON.stringify(Ld(i,r.v7_relativeSplatPath));return B.useMemo(()=>Vd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function dC(t,e,n,r){qo()||Te(!1);let{navigator:i}=B.useContext(Wi),{matches:s}=B.useContext(Qr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ll(),h;if(e){var f;let b=typeof e=="string"?Gr(e):e;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Te(!1),h=b}else h=c;let m=h.pathname||"/",w=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let R=ss(t,{pathname:w}),C=gC(R&&R.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Mr([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Mr([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&C?B.createElement(Ud.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ft.Pop}},C):C}function hC(){let t=wC(),e=Md(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const fC=B.createElement(hC,null);class pC extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Qr.Provider,{value:this.props.routeContext},B.createElement(_T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mC(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Fd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Qr.Provider,{value:e},r)}function gC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Te(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:w}=n,R=f.route.loader&&m[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||R){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let w,R=!1,C=null,b=null;n&&(w=l&&f.route.id?l[f.route.id]:void 0,C=f.route.errorElement||fC,u&&(c<0&&m===0?(TC("route-fallback",!1),R=!0,b=null):c===m&&(R=!0,b=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),y=()=>{let S;return w?S=C:R?S=b:f.route.Component?S=B.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,B.createElement(mC,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?B.createElement(pC,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:y(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):y()},null)}var TT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TT||{}),Kc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kc||{});function yC(t){let e=B.useContext(Fd);return e||Te(!1),e}function vC(t){let e=B.useContext(vT);return e||Te(!1),e}function _C(t){let e=B.useContext(Qr);return e||Te(!1),e}function IT(t){let e=_C(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function wC(){var t;let e=B.useContext(_T),n=vC(Kc.UseRouteError),r=IT(Kc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EC(){let{router:t}=yC(TT.UseNavigateStable),e=IT(Kc.UseNavigateStable),n=B.useRef(!1);return wT(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yl({fromRouteId:e},s)))},[t,e])}const e_={};function TC(t,e,n){!e&&!e_[t]&&(e_[t]=!0)}function IC(t){let{to:e,replace:n,state:r,relative:i}=t;qo()||Te(!1);let{future:s,static:o}=B.useContext(Wi),{matches:l}=B.useContext(Qr),{pathname:u}=Ll(),c=jd(),h=Vd(e,Ld(l,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(h);return B.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function SC(t){return cC(t.context)}function AC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ft.Pop,navigator:s,static:o=!1,future:l}=t;qo()&&Te(!1);let u=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:u,navigator:s,static:o,future:yl({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Gr(r));let{pathname:h="/",search:f="",hash:m="",state:w=null,key:R="default"}=r,C=B.useMemo(()=>{let b=Ho(h,u);return b==null?null:{location:{pathname:b,search:f,hash:m,state:w,key:R},navigationType:i}},[u,h,f,m,w,R,i]);return C==null?null:B.createElement(Wi.Provider,{value:c},B.createElement(Ud.Provider,{children:n,value:C}))}new Promise(()=>{});function RC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:B.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:B.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:B.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}function PC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kC(t,e){return t.button===0&&(!e||e==="_self")&&!CC(t)}const xC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],DC="6";try{window.__reactRouterVersion=DC}catch{}function NC(t,e){return zP({basename:e==null?void 0:e.basename,future:vl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:dP({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||bC(),routes:t,mapRouteProperties:RC,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnMiss:e==null?void 0:e.unstable_patchRoutesOnMiss,window:e==null?void 0:e.window}).initialize()}function bC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=vl({},e,{errors:OC(e.errors)})),e}function OC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new qc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const LC=B.createContext({isTransitioning:!1}),VC=B.createContext(new Map),MC="startTransition",t_=wf[MC],FC="flushSync",n_=cP[FC];function UC(t){t_?t_(t):t()}function Ta(t){n_?n_(t):t()}let jC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function zC(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=B.useState(n.state),[o,l]=B.useState(),[u,c]=B.useState({isTransitioning:!1}),[h,f]=B.useState(),[m,w]=B.useState(),[R,C]=B.useState(),b=B.useRef(new Map),{v7_startTransition:T}=r||{},y=B.useCallback(g=>{T?UC(g):g()},[T]),S=B.useCallback((g,_)=>{let{deletedFetchers:A,unstable_flushSync:x,unstable_viewTransitionOpts:k}=_;A.forEach(le=>b.current.delete(le)),g.fetchers.forEach((le,De)=>{le.data!==void 0&&b.current.set(De,le.data)});let I=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||I){x?Ta(()=>s(g)):y(()=>s(g));return}if(x){Ta(()=>{m&&(h&&h.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let le=n.window.document.startViewTransition(()=>{Ta(()=>s(g))});le.finished.finally(()=>{Ta(()=>{f(void 0),w(void 0),l(void 0),c({isTransitioning:!1})})}),Ta(()=>w(le));return}m?(h&&h.resolve(),m.skipTransition(),C({state:g,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(l(g),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,m,h,b,y]);B.useLayoutEffect(()=>n.subscribe(S),[n,S]),B.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new jC)},[u]),B.useEffect(()=>{if(h&&o&&n.window){let g=o,_=h.promise,A=n.window.document.startViewTransition(async()=>{y(()=>s(g)),await _});A.finished.finally(()=>{f(void 0),w(void 0),l(void 0),c({isTransitioning:!1})}),w(A)}},[y,o,h,n.window]),B.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,m,i.location,o]),B.useEffect(()=>{!u.isTransitioning&&R&&(l(R.state),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),C(void 0))},[u.isTransitioning,R]),B.useEffect(()=>{},[]);let O=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,_,A)=>n.navigate(g,{state:_,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(g,_,A)=>n.navigate(g,{replace:!0,state:_,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),U=n.basename||"/",P=B.useMemo(()=>({router:n,navigator:O,static:!1,basename:U}),[n,O,U]),E=B.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return B.createElement(B.Fragment,null,B.createElement(Fd.Provider,{value:P},B.createElement(vT.Provider,{value:i},B.createElement(VC.Provider,{value:b.current},B.createElement(LC.Provider,{value:u},B.createElement(AC,{basename:U,location:i.location,navigationType:i.historyAction,navigator:O,future:E},i.initialized||n.future.v7_partialHydration?B.createElement(BC,{routes:n.routes,future:n.future,state:i}):e))))),null)}const BC=B.memo($C);function $C(t){let{routes:e,future:n,state:r}=t;return dC(e,void 0,r,n)}const WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_o=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:h,unstable_viewTransition:f}=e,m=PC(e,xC),{basename:w}=B.useContext(Wi),R,C=!1;if(typeof c=="string"&&HC.test(c)&&(R=c,WC))try{let S=new URL(window.location.href),O=c.startsWith("//")?new URL(S.protocol+c):new URL(c),U=Ho(O.pathname,w);O.origin===S.origin&&U!=null?c=U+O.search+O.hash:C=!0}catch{}let b=aC(c,{relative:i}),T=qC(c,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:f});function y(S){r&&r(S),S.defaultPrevented||T(S)}return B.createElement("a",vl({},m,{href:R||b,onClick:C||s?r:y,ref:n,target:u}))});var r_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(r_||(r_={}));var i_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(i_||(i_={}));function qC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=jd(),c=Ll(),h=ET(t,{relative:o});return B.useCallback(f=>{if(kC(f,n)){f.preventDefault();let m=r!==void 0?r:Es(c)===Es(h);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,h,r,i,n,t,s,o,l])}const KC=t=>B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:26,height:26,...t},B.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M13 0c.81 0 1.603.074 2.373.216C10.593 1.199 7 5.43 7 10.5 7 16.299 11.701 21 17.5 21c2.996 0 5.7-1.255 7.613-3.268C23.22 22.572 18.51 26 13 26 5.82 26 0 20.18 0 13S5.82 0 13 0z"})),GC=t=>B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:26,height:26,...t},B.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M13 21a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-5.657-2.343a1 1 0 010 1.414l-2.121 2.121a1 1 0 01-1.414-1.414l2.12-2.121a1 1 0 011.415 0zm12.728 0l2.121 2.121a1 1 0 01-1.414 1.414l-2.121-2.12a1 1 0 011.414-1.415zM13 8a5 5 0 110 10 5 5 0 010-10zm12 4a1 1 0 110 2h-3a1 1 0 110-2h3zM4 12a1 1 0 110 2H1a1 1 0 110-2h3zm18.192-8.192a1 1 0 010 1.414l-2.12 2.121a1 1 0 01-1.415-1.414l2.121-2.121a1 1 0 011.414 0zm-16.97 0l2.121 2.12A1 1 0 015.93 7.344L3.808 5.222a1 1 0 011.414-1.414zM13 0a1 1 0 011 1v3a1 1 0 11-2 0V1a1 1 0 011-1z"}));var ST={exports:{}},AT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=B;function QC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YC=typeof Object.is=="function"?Object.is:QC,XC=Vl.useSyncExternalStore,JC=Vl.useRef,ZC=Vl.useEffect,ek=Vl.useMemo,tk=Vl.useDebugValue;AT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=JC(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ek(function(){function u(w){if(!c){if(c=!0,h=w,w=r(w),i!==void 0&&o.hasValue){var R=o.value;if(i(R,w))return f=R}return f=w}if(R=f,YC(h,w))return R;var C=r(w);return i!==void 0&&i(R,C)?R:(h=w,f=C)}var c=!1,h,f,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var l=XC(t,s[0],s[1]);return ZC(function(){o.hasValue=!0,o.value=l},[l]),tk(l),l};ST.exports=AT;var nk=ST.exports,In="default"in wf?tn:wf,s_=Symbol.for("react-redux-context"),o_=typeof globalThis<"u"?globalThis:{};function rk(){if(!In.createContext)return{};const t=o_[s_]??(o_[s_]=new Map);let e=t.get(In.createContext);return e||(e=In.createContext(null),t.set(In.createContext,e)),e}var Vi=rk(),ik=()=>{throw new Error("uSES not initialized!")};function qm(t=Vi){return function(){return In.useContext(t)}}var RT=qm(),PT=ik,sk=t=>{PT=t},ok=(t,e)=>t===e;function ak(t=Vi){const e=t===Vi?RT:qm(t),n=(r,i={})=>{const{equalityFn:s=ok,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:h,identityFunctionCheck:f}=e();In.useRef(!0);const m=In.useCallback({[r.name](R){return r(R)}}[r.name],[r,h,o.stabilityCheck]),w=PT(u.addNestedSub,l.getState,c||l.getState,m,s);return In.useDebugValue(w),w};return Object.assign(n,{withTypes:()=>n}),n}var lk=ak();function uk(t){t()}function ck(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var a_={notify(){},get:()=>[]};function dk(t,e){let n,r=a_,i=0,s=!1;function o(C){h();const b=r.subscribe(C);let T=!1;return()=>{T||(T=!0,b(),f())}}function l(){r.notify()}function u(){R.onStateChange&&R.onStateChange()}function c(){return s}function h(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=ck())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=a_)}function m(){s||(s=!0,h())}function w(){s&&(s=!1,f())}const R={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:w,getListeners:()=>r};return R}var hk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fk=typeof navigator<"u"&&navigator.product==="ReactNative",pk=hk||fk?In.useLayoutEffect:In.useEffect;function mk({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=In.useMemo(()=>{const c=dk(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=In.useMemo(()=>t.getState(),[t]);pk(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const u=e||Vi;return In.createElement(u.Provider,{value:o},n)}var gk=mk;function CT(t=Vi){const e=t===Vi?RT:qm(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var yk=CT();function vk(t=Vi){const e=t===Vi?yk:CT(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var _k=vk();sk(nk.useSyncExternalStoreWithSelector);const Ml=_k.withTypes(),Ts=lk;function bt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wk=typeof Symbol=="function"&&Symbol.observable||"@@observable",l_=wk,Jh=()=>Math.random().toString(36).substring(7).split("").join("."),Ek={INIT:`@@redux/INIT${Jh()}`,REPLACE:`@@redux/REPLACE${Jh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jh()}`},Gc=Ek;function Km(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Gm(t,e,n){if(typeof t!="function")throw new Error(bt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bt(1));return n(Gm)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((b,T)=>{o.set(T,b)}))}function h(){if(u)throw new Error(bt(3));return i}function f(b){if(typeof b!="function")throw new Error(bt(4));if(u)throw new Error(bt(5));let T=!0;c();const y=l++;return o.set(y,b),function(){if(T){if(u)throw new Error(bt(6));T=!1,c(),o.delete(y),s=null}}}function m(b){if(!Km(b))throw new Error(bt(7));if(typeof b.type>"u")throw new Error(bt(8));if(typeof b.type!="string")throw new Error(bt(17));if(u)throw new Error(bt(9));try{u=!0,i=r(i,b)}finally{u=!1}return(s=o).forEach(y=>{y()}),b}function w(b){if(typeof b!="function")throw new Error(bt(10));r=b,m({type:Gc.REPLACE})}function R(){const b=f;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(bt(11));function y(){const O=T;O.next&&O.next(h())}return y(),{unsubscribe:b(y)}},[l_](){return this}}}return m({type:Gc.INIT}),{dispatch:m,subscribe:f,getState:h,replaceReducer:w,[l_]:R}}function Tk(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Gc.INIT})>"u")throw new Error(bt(12));if(typeof n(void 0,{type:Gc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function kT(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Tk(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const c={};for(let h=0;h<r.length;h++){const f=r[h],m=n[f],w=o[f],R=m(w,l);if(typeof R>"u")throw l&&l.type,new Error(bt(14));c[f]=R,u=u||R!==w}return u=u||r.length!==Object.keys(o).length,u?c:o}}function Qc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Ik(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(bt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},l=t.map(u=>u(o));return s=Qc(...l)(i.dispatch),{...i,dispatch:s}}}function Sk(t){return Km(t)&&"type"in t&&typeof t.type=="string"}var xT=Symbol.for("immer-nothing"),u_=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function Yn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var No=Object.getPrototypeOf;function Is(t){return!!t&&!!t[Cn]}function $r(t){var e;return t?DT(t)||Array.isArray(t)||!!t[u_]||!!((e=t.constructor)!=null&&e[u_])||Bd(t)||$d(t):!1}var Ak=Object.prototype.constructor.toString();function DT(t){if(!t||typeof t!="object")return!1;const e=No(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Ak}function Yc(t,e){zd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function zd(t){const e=t[Cn];return e?e.type_:Array.isArray(t)?1:Bd(t)?2:$d(t)?3:0}function gp(t,e){return zd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NT(t,e,n){const r=zd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Rk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Bd(t){return t instanceof Map}function $d(t){return t instanceof Set}function rs(t){return t.copy_||t.base_}function yp(t,e){if(Bd(t))return new Map(t);if($d(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=DT(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Cn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(No(t),r)}else{const r=No(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Qm(t,e=!1){return Wd(t)||Is(t)||!$r(t)||(zd(t)>1&&(t.set=t.add=t.clear=t.delete=Pk),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Qm(r,!0))),t}function Pk(){Yn(2)}function Wd(t){return Object.isFrozen(t)}var Ck={};function Ss(t){const e=Ck[t];return e||Yn(0,t),e}var _l;function bT(){return _l}function kk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c_(t,e){e&&(Ss("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vp(t){_p(t),t.drafts_.forEach(xk),t.drafts_=null}function _p(t){t===_l&&(_l=t.parent_)}function d_(t){return _l=kk(_l,t)}function xk(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function h_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Cn].modified_&&(vp(e),Yn(4)),$r(t)&&(t=Xc(e,t),e.parent_||Jc(e,t)),e.patches_&&Ss("Patches").generateReplacementPatches_(n[Cn].base_,t,e.patches_,e.inversePatches_)):t=Xc(e,n,[]),vp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==xT?t:void 0}function Xc(t,e,n){if(Wd(e))return e;const r=e[Cn];if(!r)return Yc(e,(i,s)=>f_(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Jc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Yc(s,(l,u)=>f_(t,r,i,l,u,n,o)),Jc(t,i,!1),n&&t.patches_&&Ss("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function f_(t,e,n,r,i,s,o){if(Is(i)){const l=s&&e&&e.type_!==3&&!gp(e.assigned_,r)?s.concat(r):void 0,u=Xc(t,i,l);if(NT(n,r,u),Is(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if($r(i)&&!Wd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Xc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Jc(t,i)}}function Jc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Qm(e,n)}function Dk(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:bT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Ym;n&&(i=[r],s=wl);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var Ym={get(t,e){if(e===Cn)return t;const n=rs(t);if(!gp(n,e))return Nk(t,n,e);const r=n[e];return t.finalized_||!$r(r)?r:r===Zh(t.base_,e)?(ef(t),t.copy_[e]=Ep(r,t)):r},has(t,e){return e in rs(t)},ownKeys(t){return Reflect.ownKeys(rs(t))},set(t,e,n){const r=OT(rs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Zh(rs(t),e),s=i==null?void 0:i[Cn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Rk(n,i)&&(n!==void 0||gp(t.base_,e)))return!0;ef(t),wp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ef(t),wp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Yn(11)},getPrototypeOf(t){return No(t.base_)},setPrototypeOf(){Yn(12)}},wl={};Yc(Ym,(t,e)=>{wl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});wl.deleteProperty=function(t,e){return wl.set.call(this,t,e,void 0)};wl.set=function(t,e,n){return Ym.set.call(this,t[0],e,n,t[0])};function Zh(t,e){const n=t[Cn];return(n?rs(n):t)[e]}function Nk(t,e,n){var i;const r=OT(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function OT(t,e){if(!(e in t))return;let n=No(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=No(n)}}function wp(t){t.modified_||(t.modified_=!0,t.parent_&&wp(t.parent_))}function ef(t){t.copy_||(t.copy_=yp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,h=>n.call(this,h,...c))}}typeof n!="function"&&Yn(6),r!==void 0&&typeof r!="function"&&Yn(7);let i;if($r(e)){const s=d_(this),o=Ep(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?vp(s):_p(s)}return c_(s,r),h_(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===xT&&(i=void 0),this.autoFreeze_&&Qm(i,!0),r){const s=[],o=[];Ss("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Yn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){$r(t)||Yn(8),Is(t)&&(t=Ok(t));const e=d_(this),n=Ep(t,void 0);return n[Cn].isManual_=!0,_p(e),n}finishDraft(t,e){const n=t&&t[Cn];(!n||!n.isManual_)&&Yn(9);const{scope_:r}=n;return c_(r,e),h_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ss("Patches").applyPatches_;return Is(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ep(t,e){const n=Bd(t)?Ss("MapSet").proxyMap_(t,e):$d(t)?Ss("MapSet").proxySet_(t,e):Dk(t,e);return(e?e.scope_:bT()).drafts_.push(n),n}function Ok(t){return Is(t)||Yn(10,t),LT(t)}function LT(t){if(!$r(t)||Wd(t))return t;const e=t[Cn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yp(t,!0);return Yc(n,(r,i)=>{NT(n,r,LT(i))}),e&&(e.finalized_=!1),n}var kn=new bk,VT=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseStrictShallowCopy.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function MT(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Lk=MT(),Vk=MT,Mk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qc:Qc.apply(null,arguments)},Fk=t=>t&&typeof t.match=="function";function Ha(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(er(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Sk(r)&&r.type===t,n}var FT=class xa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xa.prototype)}static get[Symbol.species](){return xa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xa(...e[0].concat(this)):new xa(...e.concat(this))}};function p_(t){return $r(t)?VT(t,()=>{}):t}function m_(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(er(10));const r=n.insert(e,t);return t.set(e,r),r}function Uk(t){return typeof t=="boolean"}var jk=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new FT;return n&&(Uk(n)?o.push(Lk):o.push(Vk(n.extraArgument))),o},zk="RTK_autoBatch",UT=t=>e=>{setTimeout(e,t)},Bk=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UT(10),$k=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?Bk:t.type==="callback"?t.queueNotification:UT(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const f=()=>i&&h(),m=r.subscribe(f);return l.add(h),()=>{m(),l.delete(h)}},dispatch(h){var f;try{return i=!((f=h==null?void 0:h.meta)!=null&&f[zk]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(h)}finally{i=!0}}})},Wk=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new FT(t);return r&&i.push($k(typeof r=="object"?r:void 0)),i};function Hk(t){const e=jk(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Km(n))l=kT(n);else throw new Error(er(1));let u;typeof r=="function"?u=r(e):u=e();let c=Qc;i&&(c=Mk({trace:!1,...typeof i=="object"&&i}));const h=Ik(...u),f=Wk(h);let m=typeof o=="function"?o(f):f();const w=c(...m);return Gm(l,s,w)}function jT(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(er(28));if(l in e)throw new Error(er(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function qk(t){return typeof t=="function"}function Kk(t,e){let[n,r,i]=jT(e),s;if(qk(t))s=()=>p_(t());else{const l=p_(t);s=()=>l}function o(l=s(),u){let c=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,f)=>{if(f)if(Is(h)){const w=f(h,u);return w===void 0?h:w}else{if($r(h))return VT(h,m=>f(m,u));{const m=f(h,u);if(m===void 0){if(h===null)return h;throw new Error(er(9))}return m}}return h},l)}return o.getInitialState=s,o}var Gk=(t,e)=>Fk(t)?t.match(e):t(e);function Qk(...t){return e=>t.some(n=>Gk(n,e))}var Yk="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xk=(t=21)=>{let e="",n=t;for(;n--;)e+=Yk[Math.random()*64|0];return e},Jk=["name","message","stack","code"],tf=class{constructor(t,e){Th(this,"_type");this.payload=t,this.meta=e}},g_=class{constructor(t,e){Th(this,"_type");this.payload=t,this.meta=e}},Zk=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of Jk)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Hi=(()=>{function t(e,n,r){const i=Ha(e+"/fulfilled",(u,c,h,f)=>({payload:u,meta:{...f||{},arg:h,requestId:c,requestStatus:"fulfilled"}})),s=Ha(e+"/pending",(u,c,h)=>({payload:void 0,meta:{...h||{},arg:c,requestId:u,requestStatus:"pending"}})),o=Ha(e+"/rejected",(u,c,h,f,m)=>({payload:f,error:(r&&r.serializeError||Zk)(u||"Rejected"),meta:{...m||{},arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function l(u){return(c,h,f)=>{const m=r!=null&&r.idGenerator?r.idGenerator(u):Xk(),w=new AbortController;let R,C;function b(y){C=y,w.abort()}const T=async function(){var O,U;let y;try{let P=(O=r==null?void 0:r.condition)==null?void 0:O.call(r,u,{getState:h,extra:f});if(tx(P)&&(P=await P),P===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((g,_)=>{R=()=>{_({name:"AbortError",message:C||"Aborted"})},w.signal.addEventListener("abort",R)});c(s(m,u,(U=r==null?void 0:r.getPendingMeta)==null?void 0:U.call(r,{requestId:m,arg:u},{getState:h,extra:f}))),y=await Promise.race([E,Promise.resolve(n(u,{dispatch:c,getState:h,extra:f,requestId:m,signal:w.signal,abort:b,rejectWithValue:(g,_)=>new tf(g,_),fulfillWithValue:(g,_)=>new g_(g,_)})).then(g=>{if(g instanceof tf)throw g;return g instanceof g_?i(g.payload,m,u,g.meta):i(g,m,u)})])}catch(P){y=P instanceof tf?o(null,m,u,P.payload,P.meta):o(P,m,u)}finally{R&&w.signal.removeEventListener("abort",R)}return r&&!r.dispatchConditionRejection&&o.match(y)&&y.meta.condition||c(y),y}();return Object.assign(T,{abort:b,requestId:m,arg:u,unwrap(){return T.then(ex)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:Qk(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function ex(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function tx(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var nx=Symbol.for("rtk-slice-createasyncthunk");function rx(t,e){return`${t}/${e}`}function ix({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[nx];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(er(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(ox()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(S,O){const U=typeof S=="string"?S:S.type;if(!U)throw new Error(er(12));if(U in c.sliceCaseReducersByType)throw new Error(er(13));return c.sliceCaseReducersByType[U]=O,h},addMatcher(S,O){return c.sliceMatchers.push({matcher:S,reducer:O}),h},exposeAction(S,O){return c.actionCreators[S]=O,h},exposeCaseReducer(S,O){return c.sliceCaseReducersByName[S]=O,h}};u.forEach(S=>{const O=l[S],U={reducerName:S,type:rx(s,S),createNotation:typeof i.reducers=="function"};lx(O)?cx(U,O,h,e):ax(U,O,h)});function f(){const[S={},O=[],U=void 0]=typeof i.extraReducers=="function"?jT(i.extraReducers):[i.extraReducers],P={...S,...c.sliceCaseReducersByType};return Kk(i.initialState,E=>{for(let g in P)E.addCase(g,P[g]);for(let g of c.sliceMatchers)E.addMatcher(g.matcher,g.reducer);for(let g of O)E.addMatcher(g.matcher,g.reducer);U&&E.addDefaultCase(U)})}const m=S=>S,w=new Map;let R;function C(S,O){return R||(R=f()),R(S,O)}function b(){return R||(R=f()),R.getInitialState()}function T(S,O=!1){function U(E){let g=E[S];return typeof g>"u"&&O&&(g=b()),g}function P(E=m){const g=m_(w,O,{insert:()=>new WeakMap});return m_(g,E,{insert:()=>{const _={};for(const[A,x]of Object.entries(i.selectors??{}))_[A]=sx(x,E,b,O);return _}})}return{reducerPath:S,getSelectors:P,get selectors(){return P(U)},selectSlice:U}}const y={name:s,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...T(o),injectInto(S,{reducerPath:O,...U}={}){const P=O??o;return S.inject({reducerPath:P,reducer:C},U),{...y,...T(P,!0)}}};return y}}function sx(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Xm=ix();function ox(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ax({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!ux(r))throw new Error(er(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Ha(t,o):Ha(t))}function lx(t){return t._reducerDefinitionType==="asyncThunk"}function ux(t){return t._reducerDefinitionType==="reducerWithPrepare"}function cx({type:t,reducerName:e},n,r,i){if(!i)throw new Error(er(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:c,options:h}=n,f=i(t,s,h);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Du,pending:l||Du,rejected:u||Du,settled:c||Du})}function Du(){}function er(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const dx={theme:"light"},zT=Xm({name:"theme",initialState:dx,reducers:{toggleTheme:t=>{t.theme=t.theme==="light"?"dark":"light"}}}),{toggleTheme:hx}=zT.actions,BT=zT.reducer;var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(m=64)),r.push(n[h],n[f],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new px;const m=s<<2|l>>4;if(r.push(m),c!==64){const w=l<<4&240|c>>2;if(r.push(w),f!==64){const R=c<<6&192|f;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mx=function(t){const e=$T(t);return WT.encodeByteArray(e,!0)},Zc=function(t){return mx(t).replace(/\./g,"")},HT=function(t){try{return WT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=()=>gx().__FIREBASE_DEFAULTS__,vx=()=>{if(typeof process>"u"||typeof y_>"u")return;const t=y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_x=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HT(t[1]);return e&&JSON.parse(e)},Hd=()=>{try{return yx()||vx()||_x()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qT=t=>{var e,n;return(n=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wx=t=>{const e=qT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KT=()=>{var t;return(t=Hd())===null||t===void 0?void 0:t.config},GT=t=>{var e;return(e=Hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ix(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Sx(){var t;const e=(t=Hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ax(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Px(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cx(){return!Sx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kx(){try{return typeof indexedDB=="object"}catch{return!1}}function xx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dx,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Nx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,l,r)}}function Nx(t,e){return t.replace(bx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bx=/\{\$([^}]+)}/g;function Ox(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(v_(s)&&v_(o)){if(!ed(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Lx(t,e){const n=new Vx(t,e);return n.subscribe.bind(n)}class Vx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Mx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nf),i.error===void 0&&(i.error=nf),i.complete===void 0&&(i.complete=nf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ex;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jx(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ux(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ux(t){return t===is?void 0:t}function jx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Fx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const Bx={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},$x=Ce.INFO,Wx={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Hx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Wx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=$x,this._logHandler=Hx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const qx=(t,e)=>e.some(n=>t instanceof n);let __,w_;function Kx(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gx(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,Tp=new WeakMap,YT=new WeakMap,rf=new WeakMap,Zm=new WeakMap;function Qx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),Zm.set(e,t),e}function Yx(t){if(Tp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tp.set(t,e)}let Ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xx(t){Ip=t(Ip)}function Jx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sf(this),e,...n);return YT.set(r,e.sort?e.sort():[e]),ki(r)}:Gx().includes(t)?function(...e){return t.apply(sf(this),e),ki(QT.get(this))}:function(...e){return ki(t.apply(sf(this),e))}}function Zx(t){return typeof t=="function"?Jx(t):(t instanceof IDBTransaction&&Yx(t),qx(t,Kx())?new Proxy(t,Ip):t)}function ki(t){if(t instanceof IDBRequest)return Qx(t);if(rf.has(t))return rf.get(t);const e=Zx(t);return e!==t&&(rf.set(t,e),Zm.set(e,t)),e}const sf=t=>Zm.get(t);function eD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ki(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ki(o.result),u.oldVersion,u.newVersion,ki(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const tD=["get","getKey","getAll","getAllKeys","count"],nD=["put","add","delete","clear"],of=new Map;function E_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(of.get(e))return of.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tD.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return of.set(e,s),s}Xx(t=>({...t,get:(e,n,r)=>E_(e,n)||t.get(e,n,r),has:(e,n)=>!!E_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",T_="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Jm("@firebase/app"),sD="@firebase/app-compat",oD="@firebase/analytics-compat",aD="@firebase/analytics",lD="@firebase/app-check-compat",uD="@firebase/app-check",cD="@firebase/auth",dD="@firebase/auth-compat",hD="@firebase/database",fD="@firebase/database-compat",pD="@firebase/functions",mD="@firebase/functions-compat",gD="@firebase/installations",yD="@firebase/installations-compat",vD="@firebase/messaging",_D="@firebase/messaging-compat",wD="@firebase/performance",ED="@firebase/performance-compat",TD="@firebase/remote-config",ID="@firebase/remote-config-compat",SD="@firebase/storage",AD="@firebase/storage-compat",RD="@firebase/firestore",PD="@firebase/vertexai-preview",CD="@firebase/firestore-compat",kD="firebase",xD="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",DD={[Sp]:"fire-core",[sD]:"fire-core-compat",[aD]:"fire-analytics",[oD]:"fire-analytics-compat",[uD]:"fire-app-check",[lD]:"fire-app-check-compat",[cD]:"fire-auth",[dD]:"fire-auth-compat",[hD]:"fire-rtdb",[fD]:"fire-rtdb-compat",[pD]:"fire-fn",[mD]:"fire-fn-compat",[gD]:"fire-iid",[yD]:"fire-iid-compat",[vD]:"fire-fcm",[_D]:"fire-fcm-compat",[wD]:"fire-perf",[ED]:"fire-perf-compat",[TD]:"fire-rc",[ID]:"fire-rc-compat",[SD]:"fire-gcs",[AD]:"fire-gcs-compat",[RD]:"fire-fst",[CD]:"fire-fst-compat",[PD]:"fire-vertex","fire-js":"fire-js",[kD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,ND=new Map,Rp=new Map;function I_(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(Rp.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,t);for(const n of td.values())I_(n,t);for(const n of ND.values())I_(n,t);return!0}function eg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Fl("app","Firebase",bD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=xD;function XT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xi.create("bad-app-name",{appName:String(i)});if(n||(n=KT()),!n)throw xi.create("no-options");const s=td.get(i);if(s){if(ed(n,s.options)&&ed(r,s.config))return s;throw xi.create("duplicate-app",{appName:i})}const o=new zx(i);for(const u of Rp.values())o.addComponent(u);const l=new OD(n,r,o);return td.set(i,l),l}function JT(t=Ap){const e=td.get(t);if(!e&&t===Ap&&KT())return XT();if(!e)throw xi.create("no-app",{appName:t});return e}function Di(t,e,n){var r;let i=(r=DD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(l.join(" "));return}bo(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firebase-heartbeat-database",VD=1,El="firebase-heartbeat-store";let af=null;function ZT(){return af||(af=eD(LD,VD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),af}async function MD(t){try{const n=(await ZT()).transaction(El),r=await n.objectStore(El).get(eI(t));return await n.done,r}catch(e){if(e instanceof Yr)Rs.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(n.message)}}}async function S_(t,e){try{const r=(await ZT()).transaction(El,"readwrite");await r.objectStore(El).put(e,eI(t)),await r.done}catch(n){if(n instanceof Yr)Rs.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rs.warn(r.message)}}}function eI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1024,UD=30*24*60*60*1e3;class jD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=UD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:r,unsentEntries:i}=zD(this._heartbeatsCache.heartbeats),s=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function A_(){return new Date().toISOString().substring(0,10)}function zD(t,e=FD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),R_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kx()?xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R_(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){bo(new As("platform-logger",e=>new rD(e),"PRIVATE")),bo(new As("heartbeat",e=>new jD(e),"PRIVATE")),Di(Sp,T_,t),Di(Sp,T_,"esm2017"),Di("fire-js","")}$D("");var WD="firebase",HD="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(WD,HD,"app");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,tI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,g){function _(){}_.prototype=g.prototype,E.D=g.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(A,x,k){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return g.prototype[x].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,_){_||(_=0);var A=Array(16);if(typeof g=="string")for(var x=0;16>x;++x)A[x]=g.charCodeAt(_++)|g.charCodeAt(_++)<<8|g.charCodeAt(_++)<<16|g.charCodeAt(_++)<<24;else for(x=0;16>x;++x)A[x]=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24;g=E.g[0],_=E.g[1],x=E.g[2];var k=E.g[3],I=g+(k^_&(x^k))+A[0]+3614090360&4294967295;g=_+(I<<7&4294967295|I>>>25),I=k+(x^g&(_^x))+A[1]+3905402710&4294967295,k=g+(I<<12&4294967295|I>>>20),I=x+(_^k&(g^_))+A[2]+606105819&4294967295,x=k+(I<<17&4294967295|I>>>15),I=_+(g^x&(k^g))+A[3]+3250441966&4294967295,_=x+(I<<22&4294967295|I>>>10),I=g+(k^_&(x^k))+A[4]+4118548399&4294967295,g=_+(I<<7&4294967295|I>>>25),I=k+(x^g&(_^x))+A[5]+1200080426&4294967295,k=g+(I<<12&4294967295|I>>>20),I=x+(_^k&(g^_))+A[6]+2821735955&4294967295,x=k+(I<<17&4294967295|I>>>15),I=_+(g^x&(k^g))+A[7]+4249261313&4294967295,_=x+(I<<22&4294967295|I>>>10),I=g+(k^_&(x^k))+A[8]+1770035416&4294967295,g=_+(I<<7&4294967295|I>>>25),I=k+(x^g&(_^x))+A[9]+2336552879&4294967295,k=g+(I<<12&4294967295|I>>>20),I=x+(_^k&(g^_))+A[10]+4294925233&4294967295,x=k+(I<<17&4294967295|I>>>15),I=_+(g^x&(k^g))+A[11]+2304563134&4294967295,_=x+(I<<22&4294967295|I>>>10),I=g+(k^_&(x^k))+A[12]+1804603682&4294967295,g=_+(I<<7&4294967295|I>>>25),I=k+(x^g&(_^x))+A[13]+4254626195&4294967295,k=g+(I<<12&4294967295|I>>>20),I=x+(_^k&(g^_))+A[14]+2792965006&4294967295,x=k+(I<<17&4294967295|I>>>15),I=_+(g^x&(k^g))+A[15]+1236535329&4294967295,_=x+(I<<22&4294967295|I>>>10),I=g+(x^k&(_^x))+A[1]+4129170786&4294967295,g=_+(I<<5&4294967295|I>>>27),I=k+(_^x&(g^_))+A[6]+3225465664&4294967295,k=g+(I<<9&4294967295|I>>>23),I=x+(g^_&(k^g))+A[11]+643717713&4294967295,x=k+(I<<14&4294967295|I>>>18),I=_+(k^g&(x^k))+A[0]+3921069994&4294967295,_=x+(I<<20&4294967295|I>>>12),I=g+(x^k&(_^x))+A[5]+3593408605&4294967295,g=_+(I<<5&4294967295|I>>>27),I=k+(_^x&(g^_))+A[10]+38016083&4294967295,k=g+(I<<9&4294967295|I>>>23),I=x+(g^_&(k^g))+A[15]+3634488961&4294967295,x=k+(I<<14&4294967295|I>>>18),I=_+(k^g&(x^k))+A[4]+3889429448&4294967295,_=x+(I<<20&4294967295|I>>>12),I=g+(x^k&(_^x))+A[9]+568446438&4294967295,g=_+(I<<5&4294967295|I>>>27),I=k+(_^x&(g^_))+A[14]+3275163606&4294967295,k=g+(I<<9&4294967295|I>>>23),I=x+(g^_&(k^g))+A[3]+4107603335&4294967295,x=k+(I<<14&4294967295|I>>>18),I=_+(k^g&(x^k))+A[8]+1163531501&4294967295,_=x+(I<<20&4294967295|I>>>12),I=g+(x^k&(_^x))+A[13]+2850285829&4294967295,g=_+(I<<5&4294967295|I>>>27),I=k+(_^x&(g^_))+A[2]+4243563512&4294967295,k=g+(I<<9&4294967295|I>>>23),I=x+(g^_&(k^g))+A[7]+1735328473&4294967295,x=k+(I<<14&4294967295|I>>>18),I=_+(k^g&(x^k))+A[12]+2368359562&4294967295,_=x+(I<<20&4294967295|I>>>12),I=g+(_^x^k)+A[5]+4294588738&4294967295,g=_+(I<<4&4294967295|I>>>28),I=k+(g^_^x)+A[8]+2272392833&4294967295,k=g+(I<<11&4294967295|I>>>21),I=x+(k^g^_)+A[11]+1839030562&4294967295,x=k+(I<<16&4294967295|I>>>16),I=_+(x^k^g)+A[14]+4259657740&4294967295,_=x+(I<<23&4294967295|I>>>9),I=g+(_^x^k)+A[1]+2763975236&4294967295,g=_+(I<<4&4294967295|I>>>28),I=k+(g^_^x)+A[4]+1272893353&4294967295,k=g+(I<<11&4294967295|I>>>21),I=x+(k^g^_)+A[7]+4139469664&4294967295,x=k+(I<<16&4294967295|I>>>16),I=_+(x^k^g)+A[10]+3200236656&4294967295,_=x+(I<<23&4294967295|I>>>9),I=g+(_^x^k)+A[13]+681279174&4294967295,g=_+(I<<4&4294967295|I>>>28),I=k+(g^_^x)+A[0]+3936430074&4294967295,k=g+(I<<11&4294967295|I>>>21),I=x+(k^g^_)+A[3]+3572445317&4294967295,x=k+(I<<16&4294967295|I>>>16),I=_+(x^k^g)+A[6]+76029189&4294967295,_=x+(I<<23&4294967295|I>>>9),I=g+(_^x^k)+A[9]+3654602809&4294967295,g=_+(I<<4&4294967295|I>>>28),I=k+(g^_^x)+A[12]+3873151461&4294967295,k=g+(I<<11&4294967295|I>>>21),I=x+(k^g^_)+A[15]+530742520&4294967295,x=k+(I<<16&4294967295|I>>>16),I=_+(x^k^g)+A[2]+3299628645&4294967295,_=x+(I<<23&4294967295|I>>>9),I=g+(x^(_|~k))+A[0]+4096336452&4294967295,g=_+(I<<6&4294967295|I>>>26),I=k+(_^(g|~x))+A[7]+1126891415&4294967295,k=g+(I<<10&4294967295|I>>>22),I=x+(g^(k|~_))+A[14]+2878612391&4294967295,x=k+(I<<15&4294967295|I>>>17),I=_+(k^(x|~g))+A[5]+4237533241&4294967295,_=x+(I<<21&4294967295|I>>>11),I=g+(x^(_|~k))+A[12]+1700485571&4294967295,g=_+(I<<6&4294967295|I>>>26),I=k+(_^(g|~x))+A[3]+2399980690&4294967295,k=g+(I<<10&4294967295|I>>>22),I=x+(g^(k|~_))+A[10]+4293915773&4294967295,x=k+(I<<15&4294967295|I>>>17),I=_+(k^(x|~g))+A[1]+2240044497&4294967295,_=x+(I<<21&4294967295|I>>>11),I=g+(x^(_|~k))+A[8]+1873313359&4294967295,g=_+(I<<6&4294967295|I>>>26),I=k+(_^(g|~x))+A[15]+4264355552&4294967295,k=g+(I<<10&4294967295|I>>>22),I=x+(g^(k|~_))+A[6]+2734768916&4294967295,x=k+(I<<15&4294967295|I>>>17),I=_+(k^(x|~g))+A[13]+1309151649&4294967295,_=x+(I<<21&4294967295|I>>>11),I=g+(x^(_|~k))+A[4]+4149444226&4294967295,g=_+(I<<6&4294967295|I>>>26),I=k+(_^(g|~x))+A[11]+3174756917&4294967295,k=g+(I<<10&4294967295|I>>>22),I=x+(g^(k|~_))+A[2]+718787259&4294967295,x=k+(I<<15&4294967295|I>>>17),I=_+(k^(x|~g))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+x&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var _=g-this.blockSize,A=this.B,x=this.h,k=0;k<g;){if(x==0)for(;k<=_;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<g;)if(A[x++]=E.charCodeAt(k++),x==this.blockSize){i(this,A),x=0;break}}else for(;k<g;)if(A[x++]=E[k++],x==this.blockSize){i(this,A),x=0;break}}this.h=x,this.o+=g},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var _=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=_&255,_/=256;for(this.u(E),E=Array(16),g=_=0;4>g;++g)for(var A=0;32>A;A+=8)E[_++]=this.g[g]>>>A&255;return E};function s(E,g){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=g(E)}function o(E,g){this.h=g;for(var _=[],A=!0,x=E.length-1;0<=x;x--){var k=E[x]|0;A&&k==g||(_[x]=k,A=!1)}this.g=_}var l={};function u(E){return-128<=E&&128>E?s(E,function(g){return new o([g|0],0>g?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return b(c(-E));for(var g=[],_=1,A=0;E>=_;A++)g[A]=E/_|0,_*=4294967296;return new o(g,0)}function h(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return b(h(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(g,8)),A=f,x=0;x<E.length;x+=8){var k=Math.min(8,E.length-x),I=parseInt(E.substring(x,x+k),g);8>k?(k=c(Math.pow(g,k)),A=A.j(k).add(c(I))):(A=A.j(_),A=A.add(c(I)))}return A}var f=u(0),m=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(C(this))return-b(this).m();for(var E=0,g=1,_=0;_<this.g.length;_++){var A=this.i(_);E+=(0<=A?A:4294967296+A)*g,g*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(R(this))return"0";if(C(this))return"-"+b(this).toString(E);for(var g=c(Math.pow(E,6)),_=this,A="";;){var x=O(_,g).g;_=T(_,x.j(g));var k=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=x,R(_))return k+A;for(;6>k.length;)k="0"+k;A=k+A}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function R(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function C(E){return E.h==-1}t.l=function(E){return E=T(this,E),C(E)?-1:R(E)?0:1};function b(E){for(var g=E.g.length,_=[],A=0;A<g;A++)_[A]=~E.g[A];return new o(_,~E.h).add(m)}t.abs=function(){return C(this)?b(this):this},t.add=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],A=0,x=0;x<=g;x++){var k=A+(this.i(x)&65535)+(E.i(x)&65535),I=(k>>>16)+(this.i(x)>>>16)+(E.i(x)>>>16);A=I>>>16,k&=65535,I&=65535,_[x]=I<<16|k}return new o(_,_[_.length-1]&-2147483648?-1:0)};function T(E,g){return E.add(b(g))}t.j=function(E){if(R(this)||R(E))return f;if(C(this))return C(E)?b(this).j(b(E)):b(b(this).j(E));if(C(E))return b(this.j(b(E)));if(0>this.l(w)&&0>E.l(w))return c(this.m()*E.m());for(var g=this.g.length+E.g.length,_=[],A=0;A<2*g;A++)_[A]=0;for(A=0;A<this.g.length;A++)for(var x=0;x<E.g.length;x++){var k=this.i(A)>>>16,I=this.i(A)&65535,le=E.i(x)>>>16,De=E.i(x)&65535;_[2*A+2*x]+=I*De,y(_,2*A+2*x),_[2*A+2*x+1]+=k*De,y(_,2*A+2*x+1),_[2*A+2*x+1]+=I*le,y(_,2*A+2*x+1),_[2*A+2*x+2]+=k*le,y(_,2*A+2*x+2)}for(A=0;A<g;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=g;A<2*g;A++)_[A]=0;return new o(_,0)};function y(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function S(E,g){this.g=E,this.h=g}function O(E,g){if(R(g))throw Error("division by zero");if(R(E))return new S(f,f);if(C(E))return g=O(b(E),g),new S(b(g.g),b(g.h));if(C(g))return g=O(E,b(g)),new S(b(g.g),g.h);if(30<E.g.length){if(C(E)||C(g))throw Error("slowDivide_ only works with positive integers.");for(var _=m,A=g;0>=A.l(E);)_=U(_),A=U(A);var x=P(_,1),k=P(A,1);for(A=P(A,2),_=P(_,2);!R(A);){var I=k.add(A);0>=I.l(E)&&(x=x.add(_),k=I),A=P(A,1),_=P(_,1)}return g=T(E,x.j(g)),new S(x,g)}for(x=f;0<=E.l(g);){for(_=Math.max(1,Math.floor(E.m()/g.m())),A=Math.ceil(Math.log(_)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),k=c(_),I=k.j(g);C(I)||0<I.l(E);)_-=A,k=c(_),I=k.j(g);R(k)&&(k=m),x=x.add(k),E=T(E,I)}return new S(x,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],A=0;A<g;A++)_[A]=this.i(A)&E.i(A);return new o(_,this.h&E.h)},t.or=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],A=0;A<g;A++)_[A]=this.i(A)|E.i(A);return new o(_,this.h|E.h)},t.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],A=0;A<g;A++)_[A]=this.i(A)^E.i(A);return new o(_,this.h^E.h)};function U(E){for(var g=E.g.length+1,_=[],A=0;A<g;A++)_[A]=E.i(A)<<1|E.i(A-1)>>>31;return new o(_,E.h)}function P(E,g){var _=g>>5;g%=32;for(var A=E.g.length-_,x=[],k=0;k<A;k++)x[k]=0<g?E.i(k+_)>>>g|E.i(k+_+1)<<32-g:E.i(k+_);return new o(x,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ms=o}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nI,rI,ba,iI,Ju,Pp,sI,oI,aI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var p=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var V=a[v];if(!(V in p))break e;p=p[V]}a=a[a.length-1],v=p[a],d=d(v),d!=v&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var p=0,v=!1,V={next:function(){if(!v&&p<a.length){var j=p++;return{value:d(j,a[j]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,p){return a.call.apply(a.bind,arguments)}function f(a,d,p){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),a.apply(d,V)}}return function(){return a.apply(d,arguments)}}function m(a,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function w(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function R(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(v,V,j){for(var X=Array(arguments.length-2),We=2;We<arguments.length;We++)X[We-2]=arguments[We];return d.prototype[V].apply(v,X)}}function C(a){const d=a.length;if(0<d){const p=Array(d);for(let v=0;v<d;v++)p[v]=a[v];return p}return[]}function b(a,d){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(u(v)){const V=a.length||0,j=v.length||0;a.length=V+j;for(let X=0;X<j;X++)a[V+X]=v[X]}else a.push(v)}}class T{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function P(a,d,p){for(const v in a)d.call(p,a[v],v,a)}function E(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function g(a){const d={};for(const p in a)d[p]=a[p];return d}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,d){let p,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(p in v)a[p]=v[p];for(let j=0;j<_.length;j++)p=_[j],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function x(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function k(a){l.setTimeout(()=>{throw a},0)}function I(){var a=ae;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class le{constructor(){this.h=this.g=null}add(d,p){const v=De.get();v.set(d,p),this.h?this.h.next=v:this.g=v,this.h=v}}var De=new T(()=>new ot,a=>a.reset());class ot{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Q=!1,ae=new le,de=()=>{const a=l.Promise.resolve(void 0);_e=()=>{a.then(Ae)}};var Ae=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(p){k(p)}var d=De;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Q=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function Et(a,d){if(Ue.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(U){e:{try{O(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ct[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Et.aa.h.call(this)}}R(Et,Ue);var ct={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),wr=0;function Ms(a,d,p,v,V){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!v,this.ha=V,this.key=++wr,this.da=this.fa=!1}function Xr(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Er(a){this.src=a,this.g={},this.h=0}Er.prototype.add=function(a,d,p,v,V){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var X=yn(a,d,v,V);return-1<X?(d=a[X],p||(d.fa=!1)):(d=new Ms(d,this.src,j,!!v,V),d.fa=p,a.push(d)),d};function dt(a,d){var p=d.type;if(p in a.g){var v=a.g[p],V=Array.prototype.indexOf.call(v,d,void 0),j;(j=0<=V)&&Array.prototype.splice.call(v,V,1),j&&(Xr(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function yn(a,d,p,v){for(var V=0;V<a.length;++V){var j=a[V];if(!j.da&&j.listener==d&&j.capture==!!p&&j.ha==v)return V}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),Fs={};function jn(a,d,p,v,V){if(v&&v.once)return M(a,d,p,v,V);if(Array.isArray(d)){for(var j=0;j<d.length;j++)jn(a,d[j],p,v,V);return null}return p=Be(p),a&&a[Zt]?a.K(d,p,c(v)?!!v.capture:!!v,V):ea(a,d,p,!1,v,V)}function ea(a,d,p,v,V,j){if(!d)throw Error("Invalid event type");var X=c(V)?!!V.capture:!!V,We=re(a);if(We||(a[Tr]=We=new Er(a)),p=We.add(d,p,v,X,j),p.proxy)return p;if(v=D(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)at||(V=X),V===void 0&&(V=!1),a.addEventListener(d.toString(),v,V);else if(a.attachEvent)a.attachEvent(J(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function D(){function a(p){return d.call(a.src,a.listener,p)}const d=G;return a}function M(a,d,p,v,V){if(Array.isArray(d)){for(var j=0;j<d.length;j++)M(a,d[j],p,v,V);return null}return p=Be(p),a&&a[Zt]?a.L(d,p,c(v)?!!v.capture:!!v,V):ea(a,d,p,!0,v,V)}function z(a,d,p,v,V){if(Array.isArray(d))for(var j=0;j<d.length;j++)z(a,d[j],p,v,V);else v=c(v)?!!v.capture:!!v,p=Be(p),a&&a[Zt]?(a=a.i,d=String(d).toString(),d in a.g&&(j=a.g[d],p=yn(j,p,v,V),-1<p&&(Xr(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete a.g[d],a.h--)))):a&&(a=re(a))&&(d=a.g[d.toString()],a=-1,d&&(a=yn(d,p,v,V)),(p=-1<a?d[a]:null)&&Z(p))}function Z(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Zt])dt(d.i,a);else{var p=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(p,v,a.capture):d.detachEvent?d.detachEvent(J(p),v):d.addListener&&d.removeListener&&d.removeListener(v),(p=re(d))?(dt(p,a),p.h==0&&(p.src=null,d[Tr]=null)):Xr(a)}}}function J(a){return a in Fs?Fs[a]:Fs[a]="on"+a}function G(a,d){if(a.da)a=!0;else{d=new Et(d,this);var p=a.listener,v=a.ha||a.src;a.fa&&Z(a),a=p.call(v,d)}return a}function re(a){return a=a[Tr],a instanceof Er?a:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(a){return typeof a=="function"?a:(a[Ee]||(a[Ee]=function(d){return a.handleEvent(d)}),a[Ee])}function ke(){Se.call(this),this.i=new Er(this),this.M=this,this.F=null}R(ke,Se),ke.prototype[Zt]=!0,ke.prototype.removeEventListener=function(a,d,p,v){z(this,a,d,p,v)};function Ve(a,d){var p,v=a.F;if(v)for(p=[];v;v=v.F)p.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new Ue(d,a);else if(d instanceof Ue)d.target=d.target||a;else{var V=d;d=new Ue(v,a),A(d,V)}if(V=!0,p)for(var j=p.length-1;0<=j;j--){var X=d.g=p[j];V=Bt(X,v,!0,d)&&V}if(X=d.g=a,V=Bt(X,v,!0,d)&&V,V=Bt(X,v,!1,d)&&V,p)for(j=0;j<p.length;j++)X=d.g=p[j],V=Bt(X,v,!1,d)&&V}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],v=0;v<p.length;v++)Xr(p[v]);delete a.g[d],a.h--}}this.F=null},ke.prototype.K=function(a,d,p,v){return this.i.add(String(a),d,!1,p,v)},ke.prototype.L=function(a,d,p,v){return this.i.add(String(a),d,!0,p,v)};function Bt(a,d,p,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,j=0;j<d.length;++j){var X=d[j];if(X&&!X.da&&X.capture==p){var We=X.listener,Nt=X.ha||X.src;X.fa&&dt(a.i,X),V=We.call(Nt,v)!==!1&&V}}return V&&!v.defaultPrevented}function Ir(a,d,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function zn(a){a.g=Ir(()=>{a.g=null,a.i&&(a.i=!1,zn(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class ta extends Se{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(a){Se.call(this),this.h=a,this.g={}}R(xt,Se);var Qi=[];function Jr(a){P(a.g,function(d,p){this.g.hasOwnProperty(p)&&Z(d)},a),a.g={}}xt.prototype.N=function(){xt.aa.N.call(this),Jr(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=l.JSON.stringify,gh=l.JSON.parse,eu=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Zr(){}Zr.prototype.h=null;function na(a){return a.h||(a.h=a.i())}function js(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yi(){Ue.call(this,"d")}R(Yi,Ue);function ra(){Ue.call(this,"c")}R(ra,Ue);var sr={},tu=null;function Xi(){return tu=tu||new ke}sr.La="serverreachability";function Ji(a){Ue.call(this,sr.La,a)}R(Ji,Ue);function or(a){const d=Xi();Ve(d,new Ji(d))}sr.STAT_EVENT="statevent";function nu(a,d){Ue.call(this,sr.STAT_EVENT,a),this.stat=d}R(nu,Ue);function Dt(a){const d=Xi();Ve(d,new nu(d,a))}sr.Ma="timingevent";function N(a,d){Ue.call(this,sr.Ma,a),this.size=d}R(N,Ue);function L(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function F(){this.g=!0}F.prototype.xa=function(){this.g=!1};function $(a,d,p,v,V,j){a.info(function(){if(a.g)if(j)for(var X="",We=j.split("&"),Nt=0;Nt<We.length;Nt++){var Le=We[Nt].split("=");if(1<Le.length){var Wt=Le[0];Le=Le[1];var Ht=Wt.split("_");X=2<=Ht.length&&Ht[1]=="type"?X+(Wt+"="+Le+"&"):X+(Wt+"=redacted&")}}else X=null;else X=j;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+d+`
`+p+`
`+X})}function ee(a,d,p,v,V,j,X){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+d+`
`+p+`
`+j+" "+X})}function ie(a,d,p,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Y(a,p)+(v?" "+v:"")})}function fe(a,d){a.info(function(){return"TIMEOUT: "+d})}F.prototype.info=function(){};function Y(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var v=p[a];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var X=1;X<V.length;X++)V[X]=""}}}}return Us(p)}catch{return d}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ce;function Ne(){}R(Ne,Zr),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},ce=new Ne;function Ie(a,d,p,v){this.j=a,this.i=d,this.l=p,this.R=v||1,this.U=new xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var be={},ht={};function Ze(a,d,p){a.L=1,a.v=ou(Ar(d)),a.m=p,a.P=!0,ei(a,null)}function ei(a,d){a.F=Date.now(),$n(a),a.A=Ar(a.v);var p=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),sy(p.i,"t",v),a.C=0,p=a.j.J,a.h=new Fe,a.g=Iy(a.j,p?d:null,!a.m),0<a.O&&(a.M=new ta(m(a.Y,a,a.g),a.O)),d=a.U,p=a.g,v=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Qi[0]=V.toString()),V=Qi);for(var j=0;j<V.length;j++){var X=jn(p,V[j],v||d.handleEvent,!1,d.h||d);if(!X)break;d.g[X.key]=X}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),or(),$(a.i,a.u,a.A,a.l,a.R,a.m)}Ie.prototype.ca=function(a){a=a.target;const d=this.M;d&&Rr(a)==3?d.j():this.Y(a)},Ie.prototype.Y=function(a){try{if(a==this.g)e:{const Ht=Rr(this.g);var d=this.g.Ba();const Ws=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||hy(this.g)))){this.J||Ht!=4||d==7||(d==8||0>=Ws?or(3):or(2)),ln(this);var p=this.g.Z();this.X=p;t:if(Bn(this)){var v=hy(this.g);a="";var V=v.length,j=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),ar(this);var X="";break t}this.h.i=new l.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,a+=this.h.i.decode(v[d],{stream:!(j&&d==V-1)});v.length=0,this.h.g+=a,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,ee(this.i,this.u,this.A,this.l,this.R,Ht,p),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Nt=this.g;if((We=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(We)){var Le=We;break t}}Le=null}if(p=Le)ie(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ni(this,p);else{this.o=!1,this.s=3,Dt(12),Nn(this),ar(this);break e}}if(this.P){p=!0;let Wn;for(;!this.J&&this.C<X.length;)if(Wn=ti(this,X),Wn==ht){Ht==4&&(this.s=4,Dt(14),p=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==be){this.s=4,Dt(15),ie(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else ie(this.i,this.l,Wn,null),ni(this,Wn);if(Bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||X.length!=0||this.h.h||(this.s=1,Dt(16),p=!1),this.o=this.o&&p,!p)ie(this.i,this.l,X,"[Invalid Chunked Response]"),Nn(this),ar(this);else if(0<X.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),wh(Wt),Wt.M=!0,Dt(11))}}else ie(this.i,this.l,X,null),ni(this,X);Ht==4&&Nn(this),this.o&&!this.J&&(Ht==4?_y(this.j,this):(this.o=!1,$n(this)))}else L1(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Nn(this),ar(this)}}}catch{}finally{}};function Bn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ti(a,d){var p=a.C,v=d.indexOf(`
`,p);return v==-1?ht:(p=Number(d.substring(p,v)),isNaN(p)?be:(v+=1,v+p>d.length?ht:(d=d.slice(v,v+p),a.C=v+p,d)))}Ie.prototype.cancel=function(){this.J=!0,Nn(this)};function $n(a){a.S=Date.now()+a.I,Sr(a,a.I)}function Sr(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=L(m(a.ba,a),d)}function ln(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ie.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(fe(this.i,this.A),this.L!=2&&(or(),Dt(17)),Nn(this),this.s=2,ar(this)):Sr(this,this.S-a)};function ar(a){a.j.G==0||a.J||_y(a.j,a)}function Nn(a){ln(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Jr(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ni(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||vn(p.h,a))){if(!a.K&&vn(p.h,a)&&p.G==3){try{var v=p.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)du(p),uu(p);else break e;_h(p),Dt(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=L(m(p.Za,p),6e3));if(1>=$e(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else es(p,11)}else if((a.K||p.g==a)&&du(p),!y(d))for(V=p.Da.g.parse(d),d=0;d<V.length;d++){let Le=V[d];if(p.T=Le[0],Le=Le[1],p.G==2)if(Le[0]=="c"){p.K=Le[1],p.ia=Le[2];const Wt=Le[3];Wt!=null&&(p.la=Wt,p.j.info("VER="+p.la));const Ht=Le[4];Ht!=null&&(p.Aa=Ht,p.j.info("SVER="+p.Aa));const Ws=Le[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(v=1.5*Ws,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const Wn=a.g;if(Wn){const fu=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var j=v.h;j.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(zs(j,j.h),j.h=null))}if(v.D){const Eh=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eh&&(v.ya=Eh,Ge(v.I,v.D,Eh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var X=a;if(v.qa=Ty(v,v.J?v.ia:null,v.W),X.K){ru(v.h,X);var We=X,Nt=v.L;Nt&&(We.I=Nt),We.B&&(ln(We),$n(We)),v.g=X}else yy(v);0<p.i.length&&cu(p)}else Le[0]!="stop"&&Le[0]!="close"||es(p,7);else p.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?es(p,7):vh(p):Le[0]!="noop"&&p.l&&p.l.ta(Le),p.v=0)}}or(4)}catch{}}var we=class{constructor(a,d){this.g=a,this.map=d}};function Ke(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $t(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function $e(a){return a.h?1:a.g?a.g.size:0}function vn(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function zs(a,d){a.g?a.g.add(d):a.h=d}function ru(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Ke.prototype.cancel=function(){if(this.i=Jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Jg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return C(a.i)}function w1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],p=a.length,v=0;v<p;v++)d.push(a[v]);return d}d=[],p=0;for(v in a)d[p++]=a[v];return d}function E1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const v in a)d[p++]=v;return d}}}function Zg(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=E1(a),v=w1(a),V=v.length,j=0;j<V;j++)d.call(void 0,v[j],p&&p[j],a)}var ey=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T1(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var v=a[p].indexOf("="),V=null;if(0<=v){var j=a[p].substring(0,v);V=a[p].substring(v+1)}else j=a[p];d(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Zi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Zi){this.h=a.h,iu(this,a.j),this.o=a.o,this.g=a.g,su(this,a.s),this.l=a.l;var d=a.i,p=new oa;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),ty(this,p),this.m=a.m}else a&&(d=String(a).match(ey))?(this.h=!1,iu(this,d[1]||"",!0),this.o=ia(d[2]||""),this.g=ia(d[3]||"",!0),su(this,d[4]),this.l=ia(d[5]||"",!0),ty(this,d[6]||"",!0),this.m=ia(d[7]||"")):(this.h=!1,this.i=new oa(null,this.h))}Zi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(sa(d,ny,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(sa(d,ny,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(sa(p,p.charAt(0)=="/"?A1:S1,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",sa(p,P1)),a.join("")};function Ar(a){return new Zi(a)}function iu(a,d,p){a.j=p?ia(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function su(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function ty(a,d,p){d instanceof oa?(a.i=d,C1(a.i,a.h)):(p||(d=sa(d,R1)),a.i=new oa(d,a.h))}function Ge(a,d,p){a.i.set(d,p)}function ou(a){return Ge(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ia(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function sa(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,I1),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function I1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ny=/[#\/\?@]/g,S1=/[#\?:]/g,A1=/[#\?]/g,R1=/[#\?@]/g,P1=/#/g;function oa(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ri(a){a.g||(a.g=new Map,a.h=0,a.i&&T1(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=oa.prototype,t.add=function(a,d){ri(this),this.i=null,a=Bs(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function ry(a,d){ri(a),d=Bs(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function iy(a,d){return ri(a),d=Bs(a,d),a.g.has(d)}t.forEach=function(a,d){ri(this),this.g.forEach(function(p,v){p.forEach(function(V){a.call(d,V,v,this)},this)},this)},t.na=function(){ri(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let v=0;v<d.length;v++){const V=a[v];for(let j=0;j<V.length;j++)p.push(d[v])}return p},t.V=function(a){ri(this);let d=[];if(typeof a=="string")iy(this,a)&&(d=d.concat(this.g.get(Bs(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return ri(this),this.i=null,a=Bs(this,a),iy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function sy(a,d,p){ry(a,d),0<p.length&&(a.i=null,a.g.set(Bs(a,d),C(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var v=d[p];const j=encodeURIComponent(String(v)),X=this.V(v);for(v=0;v<X.length;v++){var V=j;X[v]!==""&&(V+="="+encodeURIComponent(String(X[v]))),a.push(V)}}return this.i=a.join("&")};function Bs(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function C1(a,d){d&&!a.j&&(ri(a),a.i=null,a.g.forEach(function(p,v){var V=v.toLowerCase();v!=V&&(ry(this,v),sy(this,V,p))},a)),a.j=d}function k1(a,d){const p=new F;if(l.Image){const v=new Image;v.onload=w(ii,p,"TestLoadImage: loaded",!0,d,v),v.onerror=w(ii,p,"TestLoadImage: error",!1,d,v),v.onabort=w(ii,p,"TestLoadImage: abort",!1,d,v),v.ontimeout=w(ii,p,"TestLoadImage: timeout",!1,d,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function x1(a,d){const p=new F,v=new AbortController,V=setTimeout(()=>{v.abort(),ii(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(j=>{clearTimeout(V),j.ok?ii(p,"TestPingServer: ok",!0,d):ii(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),ii(p,"TestPingServer: error",!1,d)})}function ii(a,d,p,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(p)}catch{}}function D1(){this.g=new eu}function N1(a,d,p){const v=p||"";try{Zg(a,function(V,j){let X=V;c(V)&&(X=Us(V)),d.push(v+j+"="+encodeURIComponent(X))})}catch(V){throw d.push(v+"type="+encodeURIComponent("_badmap")),V}}function aa(a){this.l=a.Ub||null,this.j=a.eb||!1}R(aa,Zr),aa.prototype.g=function(){return new au(this.l,this.j)},aa.prototype.i=function(a){return function(){return a}}({});function au(a,d){ke.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(au,ke),t=au.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ua(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function oy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?la(this):ua(this),this.readyState==3&&oy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,la(this))},t.Qa=function(a){this.g&&(this.response=a,la(this))},t.ga=function(){this.g&&la(this)};function la(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ua(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function ua(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ay(a){let d="";return P(a,function(p,v){d+=v,d+=":",d+=p,d+=`\r
`}),d}function yh(a,d,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=ay(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Ge(a,d,p))}function lt(a){ke.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(lt,ke);var b1=/^https?$/i,O1=["POST","PUT"];t=lt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=this.o?na(this.o):na(ce),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(j){ly(this,j);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)p.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const j of v.keys())p.set(j,v.get(j));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(O1,d,void 0))||v||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of p)this.g.setRequestHeader(j,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dy(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){ly(this,j)}};function ly(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,uy(a),lu(a)}function uy(a){a.A||(a.A=!0,Ve(a,"complete"),Ve(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ve(this,"complete"),Ve(this,"abort"),lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lu(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cy(this):this.bb())},t.bb=function(){cy(this)};function cy(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Rr(a)!=4||a.Z()!=2)){if(a.u&&Rr(a)==4)Ir(a.Ea,0,a);else if(Ve(a,"readystatechange"),Rr(a)==4){a.h=!1;try{const X=a.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var v;if(v=X===0){var V=String(a.D).match(ey)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),v=!b1.test(V?V.toLowerCase():"")}p=v}if(p)Ve(a,"complete"),Ve(a,"success");else{a.m=6;try{var j=2<Rr(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",uy(a)}}finally{lu(a)}}}}function lu(a,d){if(a.g){dy(a);const p=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Ve(a,"ready");try{p.onreadystatechange=v}catch{}}}function dy(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Rr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),gh(d)}};function hy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function L1(a){const d={};a=(a.g&&2<=Rr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(y(a[v]))continue;var p=x(a[v]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=d[V]||[];d[V]=j,j.push(p)}E(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function fy(a){this.Aa=0,this.i=[],this.j=new F,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,a),this.cb=ca("retryDelaySeedMs",1e4,a),this.Wa=ca("forwardChannelMaxRetries",2,a),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ke(a&&a.concurrentRequestLimit),this.Da=new D1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fy.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,v){Dt(0),this.W=a,this.H=d||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=Ty(this,null,this.W),cu(this)};function vh(a){if(py(a),a.G==3){var d=a.U++,p=Ar(a.I);if(Ge(p,"SID",a.K),Ge(p,"RID",d),Ge(p,"TYPE","terminate"),da(a,p),d=new Ie(a,a.j,d),d.L=2,d.v=ou(Ar(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=Iy(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$n(d)}Ey(a)}function uu(a){a.g&&(wh(a),a.g.cancel(),a.g=null)}function py(a){uu(a),a.u&&(l.clearTimeout(a.u),a.u=null),du(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function cu(a){if(!$t(a.h)&&!a.s){a.s=!0;var d=a.Ga;_e||de(),Q||(_e(),Q=!0),ae.add(d,a),a.B=0}}function V1(a,d){return $e(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=L(m(a.Ga,a,d),wy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Ie(this,this.j,a);let j=this.o;if(this.S&&(j?(j=g(j),A(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=gy(this,V,d),p=Ar(this.I),Ge(p,"RID",a),Ge(p,"CVER",22),this.D&&Ge(p,"X-HTTP-Session-Id",this.D),da(this,p),j&&(this.O?d="headers="+encodeURIComponent(String(ay(j)))+"&"+d:this.m&&yh(p,this.m,j)),zs(this.h,V),this.Ua&&Ge(p,"TYPE","init"),this.P?(Ge(p,"$req",d),Ge(p,"SID","null"),V.T=!0,Ze(V,p,null)):Ze(V,p,d),this.G=2}}else this.G==3&&(a?my(this,a):this.i.length==0||$t(this.h)||my(this))};function my(a,d){var p;d?p=d.l:p=a.U++;const v=Ar(a.I);Ge(v,"SID",a.K),Ge(v,"RID",p),Ge(v,"AID",a.T),da(a,v),a.m&&a.o&&yh(v,a.m,a.o),p=new Ie(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=gy(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),zs(a.h,p),Ze(p,v,d)}function da(a,d){a.H&&P(a.H,function(p,v){Ge(d,v,p)}),a.l&&Zg({},function(p,v){Ge(d,v,p)})}function gy(a,d,p){p=Math.min(a.i.length,p);var v=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let j=-1;for(;;){const X=["count="+p];j==-1?0<p?(j=V[0].g,X.push("ofs="+j)):j=0:X.push("ofs="+j);let We=!0;for(let Nt=0;Nt<p;Nt++){let Le=V[Nt].g;const Wt=V[Nt].map;if(Le-=j,0>Le)j=Math.max(0,V[Nt].g-100),We=!1;else try{N1(Wt,X,"req"+Le+"_")}catch{v&&v(Wt)}}if(We){v=X.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,v}function yy(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;_e||de(),Q||(_e(),Q=!0),ae.add(d,a),a.v=0}}function _h(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=L(m(a.Fa,a),wy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,vy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=L(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),uu(this),vy(this))};function wh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function vy(a){a.g=new Ie(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Ar(a.qa);Ge(d,"RID","rpc"),Ge(d,"SID",a.K),Ge(d,"AID",a.T),Ge(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ge(d,"TO",a.ja),Ge(d,"TYPE","xmlhttp"),da(a,d),a.m&&a.o&&yh(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=ou(Ar(d)),p.m=null,p.P=!0,ei(p,a)}t.Za=function(){this.C!=null&&(this.C=null,uu(this),_h(this),Dt(19))};function du(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function _y(a,d){var p=null;if(a.g==d){du(a),wh(a),a.g=null;var v=2}else if(vn(a.h,d))p=d.D,ru(a.h,d),v=1;else return;if(a.G!=0){if(d.o)if(v==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var V=a.B;v=Xi(),Ve(v,new N(v,p)),cu(a)}else yy(a);else if(V=d.s,V==3||V==0&&0<d.X||!(v==1&&V1(a,d)||v==2&&_h(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),V){case 1:es(a,5);break;case 4:es(a,10);break;case 3:es(a,6);break;default:es(a,2)}}}function wy(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function es(a,d){if(a.j.info("Error code "+d),d==2){var p=m(a.fb,a),v=a.Xa;const V=!v;v=new Zi(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||iu(v,"https"),ou(v),V?k1(v.toString(),p):x1(v.toString(),p)}else Dt(2);a.G=0,a.l&&a.l.sa(d),Ey(a),py(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ey(a){if(a.G=0,a.ka=[],a.l){const d=Jg(a.h);(d.length!=0||a.i.length!=0)&&(b(a.ka,d),b(a.ka,a.i),a.h.i.length=0,C(a.i),a.i.length=0),a.l.ra()}}function Ty(a,d,p){var v=p instanceof Zi?Ar(p):new Zi(p);if(v.g!="")d&&(v.g=d+"."+v.g),su(v,v.s);else{var V=l.location;v=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var j=new Zi(null);v&&iu(j,v),d&&(j.g=d),V&&su(j,V),p&&(j.l=p),v=j}return p=a.D,d=a.ya,p&&d&&Ge(v,p,d),Ge(v,"VER",a.la),da(a,v),v}function Iy(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new lt(new aa({eb:p})):new lt(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sy(){}t=Sy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hu(){}hu.prototype.g=function(a,d){return new _n(a,d)};function _n(a,d){ke.call(this),this.g=new fy(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!y(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new $s(this)}R(_n,ke),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){vh(this.g)},_n.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Us(a),a=p);d.i.push(new we(d.Ya++,a)),d.G==3&&cu(d)},_n.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,_n.aa.N.call(this)};function Ay(a){Yi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}R(Ay,Yi);function Ry(){ra.call(this),this.status=1}R(Ry,ra);function $s(a){this.g=a}R($s,Sy),$s.prototype.ua=function(){Ve(this.g,"a")},$s.prototype.ta=function(a){Ve(this.g,new Ay(a))},$s.prototype.sa=function(a){Ve(this.g,new Ry)},$s.prototype.ra=function(){Ve(this.g,"b")},hu.prototype.createWebChannel=hu.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,aI=function(){return new hu},oI=function(){return Xi()},sI=sr,Pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Ju=me,ue.COMPLETE="complete",iI=ue,js.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",ke.prototype.listen=ke.prototype.K,ba=js,rI=aa,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,nI=lt}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Jm("@firebase/firestore");function Ia(){return Ps.logLevel}function oe(t,...e){if(Ps.logLevel<=Ce.DEBUG){const n=e.map(tg);Ps.debug(`Firestore (${Go}): ${t}`,...n)}}function Wr(t,...e){if(Ps.logLevel<=Ce.ERROR){const n=e.map(tg);Ps.error(`Firestore (${Go}): ${t}`,...n)}}function Oo(t,...e){if(Ps.logLevel<=Ce.WARN){const n=e.map(tg);Ps.warn(`Firestore (${Go}): ${t}`,...n)}}function tg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function He(t,e){t||ge()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class KD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new lI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Qt(e)}}class QD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new QD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new XD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new At(0,0))}static max(){return new ye(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Tl{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const eN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Tl{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return eN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ne(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ne(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ne(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Xe.fromString(e))}static fromName(e){return new he(Xe.fromString(e).popFirst(5))}static empty(){return new he(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Xe(e.slice()))}}function tN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Mi(i,he.empty(),e)}function nN(t){return new Mi(t.readTime,t.key,-1)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(ye.min(),he.empty(),-1)}static max(){return new Mi(ye.max(),he.empty(),-1)}}function rN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==iN)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function oN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ng.oe=-1;function qd(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function aN(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Os(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Ft(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dI("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(He(!!t),typeof t=="string"){let e=0;const n=lN.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ig(t){const e=t.mapValue.fields.__previous_value__;return rg(e)?ig(e):e}function Il(t){const e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:cN(t)?9007199254740991:10:ge()}function _r(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fi(i.timestampValue),l=Fi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Cs(i.bytesValue).isEqual(Cs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return yt(i.geoPointValue.latitude)===yt(s.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yt(i.integerValue)===yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=yt(i.doubleValue),l=yt(s.doubleValue);return o===l?nd(o)===nd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(k_(o)!==k_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!_r(o[u],l[u])))return!1;return!0}(t,e);default:return ge()}}function Al(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=ks(t),r=ks(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=yt(s.integerValue||s.doubleValue),u=yt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return D_(t.timestampValue,e.timestampValue);case 4:return D_(Il(t),Il(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Cs(s),u=Cs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=Me(l[c],u[c]);if(h!==0)return h}return Me(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Me(yt(s.latitude),yt(o.latitude));return l!==0?l:Me(yt(s.longitude),yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const h=Vo(l[c],u[c]);if(h)return h}return Me(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ou.mapValue&&o===Ou.mapValue)return 0;if(s===Ou.mapValue)return 1;if(o===Ou.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=Me(u[f],h[f]);if(m!==0)return m;const w=Vo(l[u[f]],c[h[f]]);if(w!==0)return w}return Me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ge()}}function D_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Fi(t),r=Fi(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function Mo(t){return Cp(t)}function Cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Cp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Cp(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function N_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kp(t){return!!t&&"integerValue"in t}function sg(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function O_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zu(t){return!!t&&"mapValue"in t}function qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=qa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Os(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(qa(this.value))}}function hI(t){const e=[];return Os(t.fields,(n,r)=>{const i=new Vt([n]);if(Zu(r)){const s=hI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Xt(e,0,ye.min(),ye.min(),ye.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,ye.min(),ye.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,ye.min(),ye.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.position=e,this.inclusive=n}}function L_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=Vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function V_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function dN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{}class _t extends fI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fN(e,n,r):n==="array-contains"?new gN(e,r):n==="in"?new yN(e,r):n==="not-in"?new vN(e,r):n==="array-contains-any"?new _N(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pN(e,r):new mN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends fI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return pI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pI(t){return t.op==="and"}function mI(t){return hN(t)&&pI(t)}function hN(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function xp(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(mI(t))return t.filters.map(e=>xp(e)).join(",");{const e=t.filters.map(n=>xp(n)).join(",");return`${t.op}(${e})`}}function gI(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&gI(o,i.filters[l]),!0):!1}(t,e):void ge()}function yI(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(yI).join(" ,")+"}"}(t):"Filter"}class fN extends _t{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class pN extends _t{constructor(e,n){super(e,"in",n),this.keys=vI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mN extends _t{constructor(e,n){super(e,"not-in",n),this.keys=vI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class gN extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&Al(n.arrayValue,this.value)}}class yN extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class vN extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Al(this.value.arrayValue,n)}}class _N extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function M_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wN(t,e,n,r,i,s,o)}function og(t){const e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.ue=n}return e.ue}function ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V_(t.startAt,e.startAt)&&V_(t.endAt,e.endAt)}function Dp(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function EN(t,e,n,r,i,s,o,l){return new Bl(t,e,n,r,i,s,o,l)}function _I(t){return new Bl(t)}function F_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wI(t){return t.collectionGroup!==null}function Ka(t){const e=ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ft(Vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new id(s,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new id(Vt.keyField(),r))}return e.ce}function mr(t){const e=ve(t);return e.le||(e.le=TN(e,Ka(t))),e.le}function TN(t,e){if(t.limitType==="F")return M_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new id(i.field,s)});const n=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return M_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Np(t,e){const n=t.filters.concat([e]);return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bp(t,e,n){return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return ag(mr(t),mr(e))&&t.limitType===e.limitType}function EI(t){return`${og(mr(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yI(i)).join(", ")}]`),qd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ka(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=L_(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ka(r),i)||r.endAt&&!function(o,l,u){const c=L_(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ka(r),i))}(t,e)}function IN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TI(t){return(e,n)=>{let r=!1;for(const i of Ka(t)){const s=SN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SN(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Vo(u,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new st(he.comparator);function Hr(){return AN}const II=new st(he.comparator);function Oa(...t){let e=II;for(const n of t)e=e.insert(n.key,n);return e}function SI(t){let e=II;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return Ga()}function AI(){return Ga()}function Ga(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const RN=new st(he.comparator),PN=new Ft(he.comparator);function Re(...t){let e=PN;for(const n of t)e=e.add(n);return e}const CN=new Ft(Me);function kN(){return CN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function PI(t){return{integerValue:""+t}}function xN(t,e){return aN(e)?PI(e):RI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this._=void 0}}function DN(t,e,n){return t instanceof sd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rg(s)&&(s=ig(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Rl?kI(t,e):t instanceof Pl?xI(t,e):function(i,s){const o=CI(i,s),l=U_(o)+U_(i.Pe);return kp(o)&&kp(i.Pe)?PI(l):RI(i.serializer,l)}(t,e)}function NN(t,e,n){return t instanceof Rl?kI(t,e):t instanceof Pl?xI(t,e):n}function CI(t,e){return t instanceof od?function(r){return kp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class sd extends Qd{}class Rl extends Qd{constructor(e){super(),this.elements=e}}function kI(t,e){const n=DI(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends Qd{constructor(e){super(),this.elements=e}}function xI(t,e){let n=DI(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class od extends Qd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function U_(t){return yt(t.integerValue||t.doubleValue)}function DI(t){return sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rl&&i instanceof Rl||r instanceof Pl&&i instanceof Pl?Lo(r.elements,i.elements,_r):r instanceof od&&i instanceof od?_r(r.Pe,i.Pe):r instanceof sd&&i instanceof sd}(t.transform,e.transform)}class ON{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function NI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xd(t.key,gn.none()):new $l(t.key,t.data,gn.none());{const n=t.data,r=dn.empty();let i=new Ft(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qi(t.key,r,new Sn(i.toArray()),gn.none())}}function LN(t,e,n){t instanceof $l?function(i,s,o){const l=i.value.clone(),u=z_(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(i,s,o){if(!ec(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=z_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(bI(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof $l?function(s,o,l,u){if(!ec(s.precondition,o))return l;const c=s.value.clone(),h=B_(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(s,o,l,u){if(!ec(s.precondition,o))return l;const c=B_(s.fieldTransforms,u,o),h=o.data;return h.setAll(bI(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return ec(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function VN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=CI(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function j_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lo(r,i,(s,o)=>bN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $l extends Yd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends Yd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z_(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,NN(o,l,n[i]))}return r}function B_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,DN(s,o,e))}return r}class Xd extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=NI(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>j_(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>j_(n,r))}}class lg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return RN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,xe;function zN(t){switch(t){default:return ge();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function OI(t){if(t===void 0)return Wr("GRPC error has no .code"),W.UNKNOWN;switch(t){case gt.OK:return W.OK;case gt.CANCELLED:return W.CANCELLED;case gt.UNKNOWN:return W.UNKNOWN;case gt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case gt.INTERNAL:return W.INTERNAL;case gt.UNAVAILABLE:return W.UNAVAILABLE;case gt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case gt.NOT_FOUND:return W.NOT_FOUND;case gt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case gt.ABORTED:return W.ABORTED;case gt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case gt.DATA_LOSS:return W.DATA_LOSS;default:return ge()}}(xe=gt||(gt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new ms([4294967295,4294967295],0);function $_(t){const e=BN().encode(t),n=new tI;return n.update(e),new Uint8Array(n.digest())}function W_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ms([n,r],0),new ms([i,s],0)]}class ug{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new La(`Invalid padding: ${n}`);if(r<0)throw new La(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new La(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ms.fromNumber(r)));return i.compare($N)===1&&(i=new ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$_(e),[r,i]=W_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ug(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=$_(e),[r,i]=W_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(ye.min(),i,new st(Me),Hr(),Re())}}class Wl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wl(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LI{constructor(e,n){this.targetId=e,this.me=n}}class VI{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class H_{constructor(){this.fe=0,this.ge=K_(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Wl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=K_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=q_(),this.Qe=new st(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Dp(s))if(r===0){const o=new he(s.path);this.Ue(n,o,Xt.newNoDocument(o,ye.min()))}else He(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Cs(r).toUint8Array()}catch(u){if(u instanceof dI)return Oo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ug(o,i,s)}catch(u){return Oo(u instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Dp(l.target)){const u=new he(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Xt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Re();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jd(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=q_(),this.Qe=new st(Me),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new H_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new H_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function q_(){return new st(he.comparator)}function K_(){return new st(he.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KN={and:"AND",or:"OR"};class GN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Op(t,e){return t.useProto3Json||qd(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QN(t,e){return ad(t,e.toTimestamp())}function gr(t){return He(!!t),ye.fromTimestamp(function(n){const r=Fi(n);return new At(r.seconds,r.nanos)}(t))}function cg(t,e){return Lp(t,e).canonicalString()}function Lp(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FI(t){const e=Xe.fromString(t);return He($I(e)),e}function Vp(t,e){return cg(t.databaseId,e.path)}function lf(t,e){const n=FI(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(jI(n))}function UI(t,e){return cg(t.databaseId,e)}function YN(t){const e=FI(t);return e.length===4?Xe.emptyPath():jI(e)}function Mp(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jI(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function G_(t,e,n){return{name:Vp(t,e),fields:n.value.mapValue.fields}}function XN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(He(h===void 0||typeof h=="string"),zt.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array),zt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?W.UNKNOWN:OI(c.code);return new ne(h,c.message||"")}(o);n=new VI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lf(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):ye.min(),l=new dn({mapValue:{fields:r.document.fields}}),u=Xt.newFoundDocument(i,s,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new tc(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lf(t,r.document),s=r.readTime?gr(r.readTime):ye.min(),o=Xt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new tc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lf(t,r.document),s=r.removedTargetIds||[];n=new tc([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jN(i,s),l=r.targetId;n=new LI(l,o)}}return n}function JN(t,e){let n;if(e instanceof $l)n={update:G_(t,e.key,e.value)};else if(e instanceof Xd)n={delete:Vp(t,e.key)};else if(e instanceof qi)n={update:G_(t,e.key,e.data),updateMask:ab(e.fieldMask)};else{if(!(e instanceof MN))return ge();n={verify:Vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof sd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof od)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function ZN(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gr(i.updateTime):gr(s);return o.isEqual(ye.min())&&(o=gr(s)),new ON(o,i.transformResults||[])}(n,e))):[]}function eb(t,e){return{documents:[UI(t,e.path)]}}function tb(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,i);const s=function(c){if(c.length!==0)return BI(nr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Qs(m.field),direction:ib(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Op(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function nb(t){let e=YN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const m=zI(f);return m instanceof nr&&mI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(R){return new id(Ys(R.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,qd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,w=f.values||[];return new rd(w,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,w=f.values||[];return new rd(w,m)}(n.endAt)),EN(e,i,o,s,l,"F",u,c)}function rb(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ys(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ys(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(n.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ys(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>zI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function ib(t){return HN[t]}function sb(t){return qN[t]}function ob(t){return KN[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return Vt.fromServerFormat(t.fieldPath)}function BI(t){return t instanceof _t?function(n){if(n.op==="=="){if(O_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:sb(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>BI(i));return r.length===1?r[0]:{compositeFilter:{op:ob(n.op),filters:r}}}(t):ge()}function ab(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $I(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,i,s=ye.min(),o=ye.min(),l=zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.ct=e}}function ub(t){const e=nb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.an=new db}addToCollectionParentIndex(e,n){return this.an.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Mi.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class db{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Fo(0)}static Bn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qa(r.mutation,i,Sn.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oa();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Hr();const o=Ga(),l=function(){return Ga()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof qi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Qa(h.mutation,c,h.mutation.getFieldMask(),At.now())):o.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return l.set(c,new fb(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ga();let i=new st((o,l)=>o-l),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Sn.empty();h=l.applyToLocalView(c,h),r.set(u,h);const f=(i.get(l.batchId)||Re()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,f=AI();h.forEach(m=>{if(!s.has(m)){const w=NI(n.get(m),r.get(m));w!==null&&f.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(ds());let l=-1,u=s;return o.next(c=>q.forEach(c,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Re())).next(h=>({batchId:l,changes:SI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(e,s).next(l=>q.forEach(l,u=>{const c=function(f,m){return new Bl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Xt.newInvalidDocument(h)))});let l=Oa();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Qa(h.mutation,c,Sn.empty(),At.now()),Gd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return q.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:ub(i.bundledQuery),readTime:gr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.overlays=new st(he.comparator),this.Pr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),s=n.length+1,o=new he(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ds(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=ds(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=i)););return q.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UN(n,r));let s=this.Pr.get(n);s===void 0&&(s=Re(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Ir=new Ft(Pt.Tr),this.Er=new Ft(Pt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Pt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new he(new Xe([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new he(new Xe([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=Re();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return he.comparator(e.key,n.key)||Me(e.yr,n.yr)}static dr(e,n){return Me(e.yr,n.yr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ft(Pt.Tr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FN(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new Pt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Me);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new he(s),0);let l=new Ft(Me);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.yr)),!0)},o),q.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return q.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Pt(n,0),i=this.Sr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.Fr=e,this.docs=function(){return new st(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,l=new he(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rN(nN(h),r)<=0||(i.has(h.key)||Gd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Mr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wb(this)}getSize(e){return q.resolve(this.size)}}class wb extends hb{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.persistence=e,this.Or=new Qo(n=>og(n),ag),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new dg,this.targetCount=0,this.Br=Fo.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),q.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Qn(n),q.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.kr={},this.overlays={},this.qr=new ng(0),this.Qr=!1,this.Qr=!0,this.Kr=new yb,this.referenceDelegate=e(this),this.$r=new Eb(this),this.indexManager=new cb,this.remoteDocumentCache=function(i){return new _b(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new lb(n),this.Wr=new mb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new vb(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new Ib(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return q.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Ib extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Hr=new dg,this.Jr=null}static Yr(e){return new hg(e)}get Zr(){if(this.Jr)return this.Jr;throw ge()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Zr,r=>{const i=he.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return q.or([()=>q.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return Cx()?8:oN(jt())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Sb;return this.Zi(e,n,o).next(l=>{if(s.result=l,this.Gi)return this.Xi(e,n,o,l.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Ia()<=Ce.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),q.resolve()):(Ia()<=Ce.DEBUG&&oe("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Ia()<=Ce.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):q.resolve())}Ji(e,n){if(F_(n))return q.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bp(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.Hi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.es(n,l);return this.ts(n,c,o,u.readTime)?this.Ji(e,bp(n,null,"F")):this.ns(e,c,n,u)}))})))}Yi(e,n,r,i){return F_(n)||i.isEqual(ye.min())?q.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?q.resolve(null):(Ia()<=Ce.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gs(n)),this.ns(e,o,n,tN(i,-1)).next(l=>l))})}es(e,n){let r=new Ft(TI(e));return n.forEach((i,s)=>{Gd(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return Ia()<=Ce.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.Hi.getDocumentsMatchingQuery(e,n,Mi.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new st(Me),this.os=new Qo(s=>og(s),ag),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pb(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function Pb(t,e,n,r){return new Rb(t,e,n,r)}async function WI(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Re();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:l}))})})}function Cb(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const f=c.batch,m=f.keys();let w=q.resolve();return m.forEach(R=>{w=w.next(()=>h.getEntry(u,R)).next(C=>{const b=c.docVersions.get(R);He(b!==null),C.version.compareTo(b)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),h.addEntry(C)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Re();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HI(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function kb(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const l=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;l.push(n.$r.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.$r.addMatchingKeys(s,h.addedDocuments,f)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(zt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(f,w),function(C,b,T){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,w,h)&&l.push(n.$r.updateTargetData(s,w))});let u=Hr(),c=Re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(xb(s,o,e.documentUpdates).next(h=>{u=h.hs,c=h.Ps})),!r.isEqual(ye.min())){const h=n.$r.getLastRemoteSnapshotVersion(s).next(f=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return q.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ss=i,s))}function xb(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):oe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{hs:o,Ps:i}})}function Db(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nb(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new _i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Fp(t,e,n){const r=ve(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zl(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function Q_(t,e,n){const r=ve(t);let i=ye.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ve(u),m=f.os.get(h);return m!==void 0?q.resolve(f.ss.get(m)):f.$r.getTargetData(c,h)}(r,o,mr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Re())).next(l=>(bb(r,IN(e),l),{documents:l,Is:s})))}function bb(t,e,n){let r=t._s.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class Y_{constructor(){this.activeTargetIds=kN()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ob{constructor(){this.io=new Y_,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function uf(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class Fb extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const l=uf(),u=this.Mo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(n,u,c,i).then(h=>(oe("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Oo("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",u,"request:",i),h})}No(n,r,i,s,o,l){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=Vb[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=uf();return new Promise((o,l)=>{const u=new nI;u.setWithCredentials(!0),u.listenOnce(iI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ju.NO_ERROR:const h=u.getResponseJson();oe(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ju.TIMEOUT:oe(Gt,`RPC '${e}' ${s} timed out`),l(new ne(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const f=u.getStatus();if(oe(Gt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const R=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(T)>=0?T:W.UNKNOWN}(w.status);l(new ne(R,w.message))}else l(new ne(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(W.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{oe(Gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Gt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Lo(e,n,r){const i=uf(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aI(),l=oI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new rI({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");oe(Gt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,w=!1;const R=new Mb({Po:b=>{w?oe(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(oe(Gt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),oe(Gt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Io:()=>f.close()}),C=(b,T,y)=>{b.listen(T,S=>{try{y(S)}catch(O){setTimeout(()=>{throw O},0)}})};return C(f,ba.EventType.OPEN,()=>{w||(oe(Gt,`RPC '${e}' stream ${i} transport opened.`),R.po())}),C(f,ba.EventType.CLOSE,()=>{w||(w=!0,oe(Gt,`RPC '${e}' stream ${i} transport closed`),R.wo())}),C(f,ba.EventType.ERROR,b=>{w||(w=!0,Oo(Gt,`RPC '${e}' stream ${i} transport errored:`,b),R.wo(new ne(W.UNAVAILABLE,"The operation could not be completed")))}),C(f,ba.EventType.MESSAGE,b=>{var T;if(!w){const y=b.data[0];He(!!y);const S=y,O=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(O){oe(Gt,`RPC '${e}' stream ${i} received error:`,O);const U=O.status;let P=function(_){const A=gt[_];if(A!==void 0)return OI(A)}(U),E=O.message;P===void 0&&(P=W.INTERNAL,E="Unknown error status: "+U+" with message "+O.message),w=!0,R.wo(new ne(P,E)),f.close()}else oe(Gt,`RPC '${e}' stream ${i} received:`,y),R.So(y)}}),C(l,sI.STAT_EVENT,b=>{b.stat===Pp.PROXY?oe(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Pp.NOPROXY&&oe(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.yo()},0),R}}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return new GN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,s,o,l,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new qI(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new ne(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ub extends KI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=XN(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?gr(o.readTime):ye.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=Mp(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=Dp(u)?{documents:eb(s,u)}:{query:tb(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=MI(s,o.resumeToken);const c=Op(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=ad(s,o.snapshotVersion.toTimestamp());const c=Op(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=rb(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.__(n)}}class jb extends KI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=ZN(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=Mp(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JN(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,Lp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(W.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.No(e,Lp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(W.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class Bb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(Wr(n),this.b_=!1):oe("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ve(u);c.N_.add(4),await Hl(c),c.k_.set("Unknown"),c.N_.delete(4),await eh(c)}(this))})}),this.k_=new Bb(r,i)}}async function eh(t){if(Ls(t))for(const e of t.L_)await e(!0)}async function Hl(t){for(const e of t.L_)await e(!1)}function GI(t,e){const n=ve(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),yg(n)?gg(n):Yo(n).n_()&&mg(n,e))}function pg(t,e){const n=ve(t),r=Yo(n);n.O_.delete(e),r.n_()&&QI(n,e),n.O_.size===0&&(r.n_()?r.s_():Ls(n)&&n.k_.set("Unknown"))}function mg(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).d_(e)}function QI(t,e){t.q_.xe(e),Yo(t).A_(e)}function gg(t){t.q_=new WN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.k_.D_()}function yg(t){return Ls(t)&&!Yo(t).t_()&&t.O_.size>0}function Ls(t){return ve(t).N_.size===0}function YI(t){t.q_=void 0}async function Wb(t){t.k_.set("Online")}async function Hb(t){t.O_.forEach((e,n)=>{mg(t,e)})}async function qb(t,e){YI(t),yg(t)?(t.k_.F_(e),gg(t)):t.k_.set("Unknown")}async function Kb(t,e,n){if(t.k_.set("Online"),e instanceof VI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.O_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.O_.delete(l),i.q_.removeTarget(l))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ld(t,r)}else if(e instanceof tc?t.q_.Ke(e):e instanceof LI?t.q_.He(e):t.q_.We(e),!n.isEqual(ye.min()))try{const r=await HI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.O_.get(c);h&&s.O_.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=s.O_.get(u);if(!h)return;s.O_.set(u,h.withResumeToken(zt.EMPTY_BYTE_STRING,h.snapshotVersion)),QI(s,u);const f=new _i(h.target,u,c,h.sequenceNumber);mg(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await ld(t,r)}}async function ld(t,e,n){if(!zl(e))throw e;t.N_.add(1),await Hl(t),t.k_.set("Offline"),n||(n=()=>HI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await eh(t)})}function XI(t,e){return e().catch(n=>ld(t,n,e))}async function th(t){const e=ve(t),n=Ui(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;Gb(e);)try{const i=await Db(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,Qb(e,i)}catch(i){await ld(e,i)}JI(e)&&ZI(e)}function Gb(t){return Ls(t)&&t.x_.length<10}function Qb(t,e){t.x_.push(e);const n=Ui(t);n.n_()&&n.R_&&n.V_(e.mutations)}function JI(t){return Ls(t)&&!Ui(t).t_()&&t.x_.length>0}function ZI(t){Ui(t).start()}async function Yb(t){Ui(t).g_()}async function Xb(t){const e=Ui(t);for(const n of t.x_)e.V_(n.mutations)}async function Jb(t,e,n){const r=t.x_.shift(),i=lg.from(r,e,n);await XI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await th(t)}async function Zb(t,e){e&&Ui(t).R_&&await async function(r,i){if(function(o){return zN(o)&&o!==W.ABORTED}(i.code)){const s=r.x_.shift();Ui(r).i_(),await XI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await th(r)}}(t,e),JI(t)&&ZI(t)}async function J_(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.N_.add(3),await Hl(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await eh(n)}async function eO(t,e){const n=ve(t);e?(n.N_.delete(2),await eh(n)):e||(n.N_.add(2),await Hl(n),n.k_.set("Unknown"))}function Yo(t){return t.Q_||(t.Q_=function(n,r,i){const s=ve(n);return s.y_(),new Ub(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:Wb.bind(null,t),Ao:Hb.bind(null,t),Vo:qb.bind(null,t),E_:Kb.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),yg(t)?gg(t):t.k_.set("Unknown")):(await t.Q_.stop(),YI(t))})),t.Q_}function Ui(t){return t.K_||(t.K_=function(n,r,i){const s=ve(n);return s.y_(),new jb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:Yb.bind(null,t),Vo:Zb.bind(null,t),m_:Xb.bind(null,t),f_:Jb.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await th(t)):(await t.K_.stop(),t.x_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new vg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),zl(t))return new ne(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new wo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.U_=new st(he.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):ge():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uo{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Uo(e,n,wo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class nO{constructor(){this.queries=e0(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=ve(n),s=i.queries;i.queries=e0(),s.forEach((o,l)=>{for(const u of l.z_)u.onError(r)})})(this,new ne(W.ABORTED,"Firestore shutting down"))}}function e0(){return new Qo(t=>EI(t),Kd)}async function rO(t,e){const n=ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new tO,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=_g(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&wg(n)}async function iO(t,e){const n=ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sO(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.z_)l.Z_(i)&&(r=!0);o.G_=i}}r&&wg(n)}function oO(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function wg(t){t.J_.forEach(e=>{e.next()})}var Up,t0;(t0=Up||(Up={})).X_="default",t0.Cache="cache";class aO{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.key=e}}class tS{constructor(e){this.key=e}}class lO{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Re(),this.mutatedKeys=Re(),this.da=TI(e),this.Aa=new wo(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new Z_,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),w=Gd(this.query,f)?f:null,R=!!m&&this.mutatedKeys.has(m.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;m&&w?m.data.isEqual(w.data)?R!==C&&(r.track({type:3,doc:w}),b=!0):this.fa(m,w)||(r.track({type:2,doc:w}),b=!0,(u&&this.da(w,u)>0||c&&this.da(w,c)<0)&&(l=!0)):!m&&w?(r.track({type:0,doc:w}),b=!0):m&&!w&&(r.track({type:1,doc:m}),b=!0,(u||c)&&(l=!0)),b&&(w?(o=o.add(w),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Aa:o,ma:r,ts:l,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((h,f)=>function(w,R){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return C(w)-C(R)}(h.type,f.type)||this.da(h.doc,f.doc)),this.ga(r),i=i!=null&&i;const l=n&&!i?this.pa():[],u=this.Ea.size===0&&this.current&&!i?1:0,c=u!==this.Ta;return this.Ta=u,o.length!==0||c?{snapshot:new Uo(this.query,e.Aa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:l}:{ya:l}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Z_,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=Re(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new tS(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new eS(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=Re();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return Uo.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class uO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cO{constructor(e){this.key=e,this.Da=!1}}class dO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Qo(l=>EI(l),Kd),this.Fa=new Map,this.Ma=new Set,this.xa=new st(he.comparator),this.Oa=new Map,this.Na=new dg,this.La={},this.Ba=new Map,this.ka=Fo.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function hO(t,e,n=!0){const r=aS(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await nS(r,e,n,!0),i}async function fO(t,e){const n=aS(t);await nS(n,e,!0,!1)}async function nS(t,e,n,r){const i=await Nb(t.localStore,mr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await pO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&GI(t.remoteStore,i),l}async function pO(t,e,n,r,i){t.Qa=(f,m,w)=>async function(C,b,T,y){let S=b.view.Va(T);S.ts&&(S=await Q_(C.localStore,b.query,!1).then(({documents:E})=>b.view.Va(E,S)));const O=y&&y.targetChanges.get(b.targetId),U=y&&y.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(S,C.isPrimaryClient,O,U);return r0(C,b.targetId,P.ya),P.snapshot}(t,f,m,w);const s=await Q_(t.localStore,e,!0),o=new lO(e,s.Is),l=o.Va(s.documents),u=Wl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);r0(t,n,c.ya);const h=new uO(e,n,o);return t.va.set(e,h),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),c.snapshot}async function mO(t,e,n){const r=ve(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!Kd(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pg(r.remoteStore,i.targetId),jp(r,i.targetId)}).catch(jl)):(jp(r,i.targetId),await Fp(r.localStore,i.targetId,!0))}async function gO(t,e){const n=ve(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pg(n.remoteStore,r.targetId))}async function yO(t,e,n){const r=SO(t);try{const i=await function(o,l){const u=ve(o),c=At.now(),h=l.reduce((w,R)=>w.add(R.key),Re());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let R=Hr(),C=Re();return u.us.getEntries(w,h).next(b=>{R=b,R.forEach((T,y)=>{y.isValidDocument()||(C=C.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,R)).next(b=>{f=b;const T=[];for(const y of l){const S=VN(y,f.get(y.key).overlayedDocument);S!=null&&T.push(new qi(y.key,S,hI(S.value.mapValue),gn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,T,l)}).next(b=>{m=b;const T=b.applyToLocalDocumentSet(f,C);return u.documentOverlayCache.saveOverlays(w,b.batchId,T)})}).then(()=>({batchId:m.batchId,changes:SI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.La[o.currentUser.toKey()];c||(c=new st(Me)),c=c.insert(l,u),o.La[o.currentUser.toKey()]=c}(r,i.batchId,n),await ql(r,i.changes),await th(r.remoteStore)}catch(i){const s=_g(i,"Failed to persist write");n.reject(s)}}async function rS(t,e){const n=ve(t);try{const r=await kb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?He(o.Da):i.removedDocuments.size>0&&(He(o.Da),o.Da=!1))}),await ql(n,r,e)}catch(r){await jl(r)}}function n0(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const l=o.view.Y_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ve(o);u.onlineState=l;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.z_)m.Y_(l)&&(c=!0)}),c&&wg(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vO(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new st(he.comparator);o=o.insert(s,Xt.newNoDocument(s,ye.min()));const l=Re().add(s),u=new Jd(ye.min(),new Map,new st(Me),o,l);await rS(r,u),r.xa=r.xa.remove(s),r.Oa.delete(e),Eg(r)}else await Fp(r.localStore,e,!1).then(()=>jp(r,e,n)).catch(jl)}async function _O(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await Cb(n.localStore,e);sS(n,r,null),iS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ql(n,i)}catch(i){await jl(i)}}async function wO(t,e,n){const r=ve(t);try{const i=await function(o,l){const u=ve(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(He(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);sS(r,e,n),iS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ql(r,i)}catch(i){await jl(i)}}function iS(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function sS(t,e,n){const r=ve(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function jp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||oS(t,r)})}function oS(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(pg(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),Eg(t))}function r0(t,e,n){for(const r of n)r instanceof eS?(t.Na.addReference(r.key,e),EO(t,r)):r instanceof tS?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||oS(t,r.key)):ge()}function EO(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.Ma.add(r),Eg(t))}function Eg(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new he(Xe.fromString(e)),r=t.ka.next();t.Oa.set(r,new cO(n)),t.xa=t.xa.insert(n,r),GI(t.remoteStore,new _i(mr(_I(n.path)),r,"TargetPurposeLimboResolution",ng.oe))}}async function ql(t,e,n){const r=ve(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((l,u)=>{o.push(r.Qa(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=fg.Ui(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(u,c){const h=ve(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,m=>q.forEach(m.Ki,w=>h.persistence.referenceDelegate.addReference(f,m.targetId,w)).next(()=>q.forEach(m.$i,w=>h.persistence.referenceDelegate.removeReference(f,m.targetId,w)))))}catch(f){if(!zl(f))throw f;oe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const w=h.ss.get(m),R=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(R);h.ss=h.ss.insert(m,C)}}}(r.localStore,s))}async function TO(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await WI(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(l=>{l.forEach(u=>{u.reject(new ne(W.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ql(n,r.ls)}}function IO(t,e){const n=ve(t),r=n.Oa.get(e);if(r&&r.Da)return Re().add(r.key);{let i=Re();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const l=n.va.get(o);i=i.unionWith(l.view.Ra)}return i}}function aS(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vO.bind(null,e),e.Ca.E_=sO.bind(null,e.eventManager),e.Ca.Ka=oO.bind(null,e.eventManager),e}function SO(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wO.bind(null,e),e}class i0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Pb(this.persistence,new Ab,e.initialUser,this.serializer)}createPersistence(e){return new Tb(hg.Yr,this.serializer)}createSharedClientState(e){return new Ob}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TO.bind(null,this.syncEngine),await eO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nO}()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),r=function(s){return new Fb(s)}(e.databaseInfo);return function(s,o,l,u){return new zb(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new $b(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>n0(this.syncEngine,n,0),function(){return X_.D()?new X_:new Lb}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,h){const f=new dO(i,s,o,l,u,c);return h&&(f.qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ve(i);oe("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await Hl(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=uI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_g(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function df(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kO(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>J_(e.remoteStore,i)),t._onlineComponents=e}function CO(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CO(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await df(t,new i0)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await df(t,new i0);return t._offlineComponents}async function lS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await s0(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await s0(t,new AO))),t._onlineComponents}function xO(t){return lS(t).then(e=>e.syncEngine)}async function DO(t){const e=await lS(t),n=e.eventManager;return n.onListen=hO.bind(null,e.syncEngine),n.onUnlisten=mO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gO.bind(null,e.syncEngine),n}function NO(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const h=new RO({next:m=>{o.enqueueAndForget(()=>iO(s,f)),m.fromCache&&u.source==="server"?c.reject(new ne(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new aO(l,h,{includeMetadataChanges:!0,oa:!0});return rO(s,f)}(await DO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e,n){if(!n)throw new ne(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bO(t,e,n,r){if(e===!0&&r===!0)throw new ne(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a0(t){if(!he.isDocumentKey(t))throw new ne(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l0(t){if(he.isDocumentKey(t))throw new ne(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nh(t);throw new ne(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qD;switch(r.type){case"firstParty":return new YD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o0.get(n);r&&(oe("ComponentProvider","Removing Datastore"),o0.delete(n),r.terminate())}(this),Promise.resolve()}}function OO(t,e,n,r={}){var i;const s=(t=ji(t,rh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Qt.MOCK_USER;else{l=Tx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ne(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qt(c)}t._authCredentials=new KD(new lI(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class bi extends Xo{constructor(e,n,r){super(e,n,_I(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new he(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function dS(t,e,...n){if(t=wt(t),cS("collection","path",e),t instanceof rh){const r=Xe.fromString(e,...n);return l0(r),new bi(t,null,r)}{if(!(t instanceof Rn||t instanceof bi))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return l0(r),new bi(t.firestore,null,r)}}function ih(t,e,...n){if(t=wt(t),arguments.length===1&&(e=uI.newId()),cS("doc","path",e),t instanceof rh){const r=Xe.fromString(e,...n);return a0(r),new Rn(t,null,new he(r))}{if(!(t instanceof Rn||t instanceof bi))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return a0(r),new Rn(t.firestore,t instanceof bi?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new qI(this,"async_queue_retry"),this.Tu=()=>{const n=cf();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=cf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new Ni;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!zl(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=vg.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&ge()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}class Jo extends rh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new LO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hS(this),this._firestoreClient.terminate()}}function VO(t,e){const n=typeof t=="object"?t:JT(),r=typeof t=="string"?t:e||"(default)",i=eg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wx("firestore");s&&OO(i,...s)}return i}function Tg(t){return t._firestoreClient||hS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hS(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,h){return new uN(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new PO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(zt.fromBase64String(e))}catch(n){throw new ne(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jo(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=/^__.*__$/;class FO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class fS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Ag{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return ud(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(pS(this.yu)&&MO.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class UO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}Ou(e,n,r,i=!1){return new Ag({yu:e,methodName:n,xu:r,path:Vt.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sh(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new UO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mS(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);Rg("Data must be an object, but it was:",o,r);const l=vS(r,o);let u,c;if(s.merge)u=new Sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=zp(e,f,n);if(!o.contains(m))throw new ne(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wS(h,m)||h.push(m)}u=new Sn(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new FO(new dn(l),u,c)}class oh extends Ig{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function gS(t,e,n,r){const i=t.Ou(1,e,n);Rg("Data must be an object, but it was:",i,r);const s=[],o=dn.empty();Os(r,(u,c)=>{const h=Pg(e,u,n);c=wt(c);const f=i.Cu(h);if(c instanceof oh)s.push(h);else{const m=Gl(c,f);m!=null&&(s.push(h),o.set(h,m))}});const l=new Sn(s);return new fS(o,l,i.fieldTransforms)}function yS(t,e,n,r,i,s){const o=t.Ou(1,e,n),l=[zp(e,r,n)],u=[i];if(s.length%2!=0)throw new ne(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(zp(e,s[m])),u.push(s[m+1]);const c=[],h=dn.empty();for(let m=l.length-1;m>=0;--m)if(!wS(c,l[m])){const w=l[m];let R=u[m];R=wt(R);const C=o.Cu(w);if(R instanceof oh)c.push(w);else{const b=Gl(R,C);b!=null&&(c.push(w),h.set(w,b))}}const f=new Sn(c);return new fS(h,f,o.fieldTransforms)}function jO(t,e,n,r=!1){return Gl(n,t.Ou(r?4:3,e))}function Gl(t,e){if(_S(t=wt(t)))return Rg("Unsupported field value:",e,t),vS(t,e);if(t instanceof Ig)return function(r,i){if(!pS(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Gl(l,i.vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:ad(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ad(i.serializer,s)}}if(r instanceof Sg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:MI(i.serializer,r._byteString)};if(r instanceof Rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${nh(r)}`)}(t,e)}function vS(t,e){const n={};return cI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(t,(r,i)=>{const s=Gl(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _S(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Sg||t instanceof jo||t instanceof Rn||t instanceof Ig)}function Rg(t,e,n){if(!_S(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nh(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function zp(t,e,n){if((e=wt(e))instanceof Kl)return e._internalPath;if(typeof e=="string")return Pg(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const zO=new RegExp("[~\\*/\\[\\]]");function Pg(t,e,n){if(e.search(zO)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kl(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ne(W.INVALID_ARGUMENT,l+t+u)}function wS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BO extends ES{data(){return super.data()}}function Cg(t,e){return typeof e=="string"?Pg(t,e):e instanceof Kl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class WO extends kg{}function HO(t,e,...n){let r=[];e instanceof kg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof xg).length,l=s.filter(u=>u instanceof ah).length;if(o>1||o>0&&l>0)throw new ne(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ah extends WO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ah(e,n,r)}_apply(e){const n=this._parse(e);return TS(e._query,n),new Xo(e.firestore,e.converter,Np(e._query,n))}_parse(e){const n=sh(e.firestore);return function(s,o,l,u,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ne(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){d0(f,h);const w=[];for(const R of f)w.push(c0(u,s,R));m={arrayValue:{values:w}}}else m=c0(u,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||d0(f,h),m=jO(l,o,f,h==="in"||h==="not-in");return _t.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qO(t,e,n){const r=e,i=Cg("where",t);return ah._create(i,r,n)}class xg extends kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)TS(o,u),o=Np(o,u)}(e._query,n),new Xo(e.firestore,e.converter,Np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c0(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new ne(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wI(e)&&n.indexOf("/")!==-1)throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!he.isDocumentKey(r))throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return N_(t,new he(r))}if(n instanceof Rn)return N_(t,n._key);throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(n)}.`)}function d0(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KO{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Os(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Sg(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ig(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);He($I(r));const i=new Sl(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||Wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GO extends ES{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nc extends GO{data(e={}){return super.data(e)}}class QO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nc(this._firestore,this._userDataWriter,r.key,r,new Vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new nc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new nc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:YO(l.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class XO extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function JO(t){t=ji(t,Xo);const e=ji(t.firestore,Jo),n=Tg(e),r=new XO(e);return $O(t._query),NO(n,t._query).then(i=>new QO(e,r,t,i))}function ZO(t,e,n,...r){t=ji(t,Rn);const i=ji(t.firestore,Jo),s=sh(i);let o;return o=typeof(e=wt(e))=="string"||e instanceof Kl?yS(s,"updateDoc",t._key,e,n,r):gS(s,"updateDoc",t._key,e),lh(i,[o.toMutation(t._key,gn.exists(!0))])}function eL(t){return lh(ji(t.firestore,Jo),[new Xd(t._key,gn.none())])}function tL(t,e){const n=ji(t.firestore,Jo),r=ih(t),i=IS(t.converter,e);return lh(n,[mS(sh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}function lh(t,e){return function(r,i){const s=new Ni;return r.asyncQueue.enqueueAndForget(async()=>yO(await xO(r),i,s)),s.promise}(Tg(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sh(e)}set(e,n,r){this._verifyNotCommitted();const i=hf(e,this._firestore),s=IS(i.converter,n,r),o=mS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,gn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=hf(e,this._firestore);let o;return o=typeof(n=wt(n))=="string"||n instanceof Kl?yS(this._dataReader,"WriteBatch.update",s._key,n,r,i):gS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=hf(e,this._firestore);return this._mutations=this._mutations.concat(new Xd(n._key,gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ne(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hf(t,e){if((t=wt(t)).firestore!==e)throw new ne(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){return Tg(t=ji(t,Jo)),new nL(t,e=>lh(t,e))}(function(e,n=!0){(function(i){Go=i})(Ko),bo(new As("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Jo(new GD(r.getProvider("auth-internal")),new JD(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Di(C_,"4.6.5",e),Di(C_,"4.6.5","esm2017")})();function Dg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iL=SS,AS=new Fl("auth","Firebase",SS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Jm("@firebase/auth");function sL(t,...e){cd.logLevel<=Ce.WARN&&cd.warn(`Auth (${Ko}): ${t}`,...e)}function rc(t,...e){cd.logLevel<=Ce.ERROR&&cd.error(`Auth (${Ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw Ng(t,...e)}function yr(t,...e){return Ng(t,...e)}function RS(t,e,n){const r=Object.assign(Object.assign({},iL()),{[e]:n});return new Fl("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return RS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AS.create(t,...e)}function pe(t,e,...n){if(!t)throw Ng(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function qr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oL(){return h0()==="http:"||h0()==="https:"}function h0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oL()||Ax()||"connection"in navigator)?navigator.onLine:!0}function lL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ix()||Rx()}get(){return aL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Ql(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gi(t,e,n,r,i={}){return CS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ul(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),PS.fetch()(kS(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function CS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uL),e);try{const i=new hL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Mu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RS(t,h,c);rr(t,h)}}catch(i){if(i instanceof Yr)throw i;rr(t,"network-request-failed",{message:String(i)})}}async function Yl(t,e,n,r,i={}){const s=await Gi(t,e,n,r,i);return"mfaPendingCredential"in s&&rr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bg(t.config,i):`${t.config.apiScheme}://${i}`}function dL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),cL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(t,e,r);return i.customData._tokenResponse=n,i}function f0(t){return t!==void 0&&t.enterprise!==void 0}class fL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pL(t,e){return Gi(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){return Gi(t,"POST","/v1/accounts:delete",e)}async function xS(t,e){return Gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gL(t,e=!1){const n=wt(t),r=await n.getIdToken(e),i=Og(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ya(ff(i.auth_time)),issuedAtTime:Ya(ff(i.iat)),expirationTime:Ya(ff(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function Og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const i=HT(n);return i?JSON.parse(i):(rc("Failed to decode base64 JWT payload"),null)}catch(i){return rc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p0(t){const e=Og(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&yL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Cl(t,xS(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DS(s.providerUserInfo):[],l=wL(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new $p(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function _L(t){const e=wt(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DS(t){return t.map(e=>{var{providerId:n}=e,r=Dg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e){const n=await CS(t,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kS(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",PS.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TL(t,e){return Gi(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=p0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Eo;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Dg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $p(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gL(this,e)}reload(){return _L(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Cl(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:O,isAnonymous:U,providerData:P,stsTokenManager:E}=n;pe(S&&E,e,"internal-error");const g=Eo.fromJSON(this.name,E);pe(typeof S=="string",e,"internal-error"),oi(f,e.name),oi(m,e.name),pe(typeof O=="boolean",e,"internal-error"),pe(typeof U=="boolean",e,"internal-error"),oi(w,e.name),oi(R,e.name),oi(C,e.name),oi(b,e.name),oi(T,e.name),oi(y,e.name);const _=new Or({uid:S,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:U,photoURL:R,phoneNumber:w,tenantId:C,stsTokenManager:g,createdAt:T,lastLoginAt:y});return P&&Array.isArray(P)&&(_.providerData=P.map(A=>Object.assign({},A))),b&&(_._redirectEventId=b),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Eo;i.updateFromServerResponse(n);const s=new Or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?DS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Eo;l.updateFromIdToken(r);const u=new Or({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $p(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;function Lr(t){qr(t instanceof Function,"Expected a class definition");let e=m0.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NS.type="NONE";const g0=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ic(this.userKey,i.apiKey,s),this.fullPersistenceKey=ic("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new To(Lr(g0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Lr(g0);const o=ic(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(o);if(h){const f=Or._fromJSON(e,h);c!==s&&(l=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new To(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new To(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MS(e))return"Blackberry";if(FS(e))return"Webos";if(Lg(e))return"Safari";if((e.includes("chrome/")||OS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bS(t=jt()){return/firefox\//i.test(t)}function Lg(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OS(t=jt()){return/crios\//i.test(t)}function LS(t=jt()){return/iemobile/i.test(t)}function VS(t=jt()){return/android/i.test(t)}function MS(t=jt()){return/blackberry/i.test(t)}function FS(t=jt()){return/webos/i.test(t)}function uh(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IL(t=jt()){var e;return uh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SL(){return Px()&&document.documentMode===10}function US(t=jt()){return uh(t)||VS(t)||FS(t)||MS(t)||/windows phone/i.test(t)||LS(t)}function AL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e=[]){let n;switch(t){case"Browser":n=y0(jt());break;case"Worker":n=`${y0(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e={}){return Gi(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=6;class kL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new RL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xS(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(dr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(Fr(this));const n=e?wt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PL(this),n=new kL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vs(t){return wt(t)}class v0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lx(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DL(t){ch=t}function zS(t){return ch.loadJS(t)}function NL(){return ch.recaptchaEnterpriseScript}function bL(){return ch.gapiScript}function OL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const LL="recaptcha-enterprise",VL="NO_RECAPTCHA";class ML{constructor(e){this.type=LL,this.auth=Vs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{pL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new fL(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;f0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(VL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&f0(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=NL();u.length!==0&&(u+=l),zS(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function _0(t,e,n,r=!1){const i=new ML(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await _0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await _0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const n=eg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ed(s,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function UL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jL(t,e,n){const r=Vs(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=BS(e),{host:o,port:l}=zL(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BL()}function BS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zL(t){const e=BS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:w0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:w0(o)}}}function w0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function $L(t,e){return Gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e){return Yl(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){return Yl(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function qL(t,e){return Yl(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Vg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,n,"signInWithPassword",WL);case"emailLink":return HL(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,r,"signUpPassword",$L);case"emailLink":return qL(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e){return Yl(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="http://localhost";class xs extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Dg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:KL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QL(t){const e=Da(Na(t)).link,n=e?Da(Na(e)).deep_link_id:null,r=Da(Na(t)).deep_link_id;return(r?Da(Na(r)).link:null)||r||n||e||t}class Mg{constructor(e){var n,r,i,s,o,l;const u=Da(Na(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=GL((i=u.mode)!==null&&i!==void 0?i:null);pe(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=QL(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mg.parseLink(n);return pe(r,"argument-error"),kl._fromEmailAndCode(e,r.code,r.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends $S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Xl{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Xl{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Xl{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){return Yl(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Or._fromIdTokenResponse(e,r,i),o=E0(r);return new Ds({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=E0(r);return new Ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function E0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hd(e,n,r,i)}}function WS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,s,e,r):s})}async function XL(t,e,n=!1){const r=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e,n=!1){const{auth:r}=t;if(dr(r.app))return Promise.reject(Fr(r));const i="reauthenticate";try{const s=await Cl(t,WS(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=Og(s.idToken);pe(o,r,"internal-error");const{sub:l}=o;return pe(t.uid===l,r,"user-mismatch"),Ds._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t,e,n=!1){if(dr(t.app))return Promise.reject(Fr(t));const r="signIn",i=await WS(t,r,e),s=await Ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ZL(t,e){return HS(Vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t){const e=Vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e2(t,e,n){if(dr(t.app))return Promise.reject(Fr(t));const r=Vs(t),o=await Wp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&qS(t),u}),l=await Ds._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function t2(t,e,n){return dr(t.app)?Promise.reject(Fr(t)):ZL(wt(t),Zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qS(t),r})}function n2(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function r2(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function i2(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function s2(t){return wt(t).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){const t=jt();return Lg(t)||uh(t)}const a2=1e3,l2=10;class GS extends KS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=o2()&&AL(),this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);SL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,l2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GS.type="LOCAL";const u2=GS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends KS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QS.type="SESSION";const YS=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await c2(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Fg("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function h2(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function f2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m2(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",g2=1,pd="firebaseLocalStorage",ZS="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function y2(){const t=indexedDB.deleteDatabase(JS);return new Jl(t).toPromise()}function Hp(){const t=indexedDB.open(JS,g2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pd,{keyPath:ZS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await y2(),e(await Hp()))})})}async function T0(t,e,n){const r=hh(t,!0).put({[ZS]:e,value:n});return new Jl(r).toPromise()}async function v2(t,e){const n=hh(t,!1).get(e),r=await new Jl(n).toPromise();return r===void 0?null:r.value}function I0(t,e){const n=hh(t,!0).delete(e);return new Jl(n).toPromise()}const _2=800,w2=3;class e1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>w2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(m2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await T0(e,fd,"1"),await I0(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>v2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hh(i,!1).getAll();return new Jl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e1.type="LOCAL";const E2=e1;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){return e?Lr(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I2(t){return HS(t.auth,new Ug(t),t.bypassAuthState)}function S2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),JL(n,new Ug(t),t.bypassAuthState)}async function A2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),XL(n,new Ug(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return S2;default:rr(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Ql(2e3,1e4);class co extends t1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R2.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="pendingRedirect",sc=new Map;class C2 extends t1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sc.get(this.auth._key());if(!e){try{const r=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sc.set(this.auth._key(),e)}return this.bypassAuthState||sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(t,e){const n=N2(e),r=D2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function x2(t,e){sc.set(t._key(),e)}function D2(t){return Lr(t._redirectPersistence)}function N2(t){return ic(P2,t.config.apiKey,t.name)}async function b2(t,e,n=!1){if(dr(t.app))return Promise.reject(Fr(t));const r=Vs(t),i=T2(r,e),o=await new C2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=10*60*1e3;class L2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(e))}saveEventToCache(e){this.cachedEventUids.add(S0(e)),this.lastProcessedEventTime=Date.now()}}function S0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e={}){return Gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function j2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await M2(t);for(const n of e)try{if(z2(n))return}catch{}rr(t,"unauthorized-domain")}function z2(t){const e=Bp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!U2.test(n))return!1;if(F2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Ql(3e4,6e4);function A0(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $2(t){return new Promise((e,n)=>{var r,i,s;function o(){A0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A0(),n(yr(t,"network-request-failed"))},timeout:B2.get()})}if(!((i=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vr().gapi)===null||s===void 0)&&s.load)o();else{const l=OL("iframefcb");return vr()[l]=()=>{gapi.load?o():n(yr(t,"network-request-failed"))},zS(`${bL()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw oc=null,e})}let oc=null;function W2(t){return oc=oc||$2(t),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Ql(5e3,15e3),q2="__/auth/iframe",K2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bg(e,K2):`https://${t.config.authDomain}/${q2}`,r={apiKey:e.apiKey,appName:t.name,v:Ko},i=Q2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ul(r).slice(1)}`}async function X2(t){const e=await W2(t),n=vr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:Y2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=yr(t,"network-request-failed"),l=vr().setTimeout(()=>{s(o)},H2.get());function u(){vr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,eV=600,tV="_blank",nV="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rV(t,e,n,r=Z2,i=eV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},J2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=jt().toLowerCase();n&&(l=OS(c)?tV:n),bS(c)&&(e=e||nV,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[w,R])=>`${m}${w}=${R},`,"");if(IL(c)&&l!=="_self")return iV(e||"",l),new R0(null);const f=window.open(e||"",l,h);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new R0(f)}function iV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="__/auth/handler",oV="emulator/auth/handler",aV=encodeURIComponent("fac");async function P0(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ko,eventId:i};if(e instanceof $S){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ox(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof Xl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),c=u?`#${aV}=${encodeURIComponent(u)}`:"";return`${lV(t)}?${Ul(l).slice(1)}${c}`}function lV({config:t}){return t.emulator?bg(t,oV):`https://${t.authDomain}/${sV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class uV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=b2,this._overrideRedirectResult=x2}async _openPopup(e,n,r,i){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await P0(e,n,r,Bp(),i);return rV(e,o,Fg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await P0(e,n,r,Bp(),i);return h2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X2(e),r=new L2(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pf,{type:pf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pf];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||Lg()||uh()}}const cV=uV;var C0="@firebase/auth",k0="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(t){bo(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(t)},c=new xL(r,i,s,u);return UL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new As("auth-internal",e=>{const n=Vs(e.getProvider("auth").getImmediate());return(r=>new dV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(C0,k0,hV(t)),Di(C0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=5*60,mV=GT("authIdTokenMaxAge")||pV;let x0=null;const gV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mV)return;const i=n==null?void 0:n.token;x0!==i&&(x0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yV(t=JT()){const e=eg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FL(t,{popupRedirectResolver:cV,persistence:[E2,u2,YS]}),r=GT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gV(s.toString());r2(n,o,()=>o(n.currentUser)),n2(n,l=>o(l))}}const i=qT("auth");return i&&jL(n,`http://${i}`),n}function vV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");const _V={apiKey:"AIzaSyBbBMwU0E92-tZ8SwLFg5lWXKrnAaOy_aU",authDomain:"todos-1a412.firebaseapp.com",projectId:"todos-1a412",storageBucket:"todos-1a412.appspot.com",messagingSenderId:"284946954385",appId:"1:284946954385:web:3eea1f00c87bfcc0c5a730"},r1=XT(_V),zo=VO(r1),fh=yV(r1),ac=Hi("auth/signup",async({email:t,password:e})=>{await e2(fh,t,e)}),lc=Hi("auth/signin",async({email:t,password:e})=>{await t2(fh,t,e)}),uc=Hi("auth/signout",async()=>{await s2(fh)}),wV={loading:"idle",error:null,user:null},i1=Xm({name:"auth",initialState:wV,reducers:{cleanUp:t=>{t.loading="idle",t.error=null},setUser:(t,e)=>{t.user=e.payload}},extraReducers:t=>{t.addCase(ac.pending,e=>{e.loading="pending",e.error=null}).addCase(ac.fulfilled,e=>{e.loading="succeeded"}).addCase(ac.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??""}),t.addCase(lc.pending,e=>{e.loading="pending",e.error=null}).addCase(lc.fulfilled,e=>{e.loading="succeeded"}).addCase(lc.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??"",console.log(n)}),t.addCase(uc.pending,e=>{e.loading="pending",e.error=null}).addCase(uc.fulfilled,e=>{e.loading="succeeded",e.user=null}).addCase(uc.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??""})}}),{cleanUp:s1,setUser:D0}=i1.actions,EV=i1.reducer,cc=Hi("todos/addTodo",async t=>{const e=await tL(dS(zo,"todos"),t);return{...t,id:e.id}}),dc=Hi("todos/getAllTodos",async(t,{getState:e})=>{const{auth:{user:n}}=e(),r=HO(dS(zo,"todos"),qO("userId","==",n==null?void 0:n.id)),i=await JO(r),s=[],o=[];return i.forEach(l=>{s.push({...l.data(),id:l.id}),o.push(l.id)}),{todosFullInfo:s,todos:o}}),hc=Hi("todos/removeTodo",async t=>(await eL(ih(zo,"todos",t)),t)),fc=Hi("todos/toggleActiveTodo",async(t,{getState:e})=>{const{todos:{todosFullInfo:n}}=e(),{active:r}=n.find(i=>i.id===t);return await ZO(ih(zo,"todos",t),{active:!r}),t}),pc=Hi("todos/clearCompleted",async(t,{getState:e})=>{const{todos:{todosFullInfo:n}}=e(),r=n.map(s=>s.active?null:s.id),i=rL(zo);return r.forEach(s=>{if(s){const o=ih(zo,"todos",s);i.delete(o)}}),await i.commit(),r}),N0={loading:"idle",error:null,todosFullInfo:[],todos:[]},o1=Xm({name:"todos",initialState:N0,reducers:{cleanUp:t=>{Object.assign(t,N0)}},extraReducers:t=>{t.addCase(dc.pending,e=>{e.loading="pending",e.error=null,e.todosFullInfo=[],e.todos=[]}).addCase(dc.fulfilled,(e,n)=>{const{todosFullInfo:r,todos:i}=n.payload;e.loading="succeeded",e.todos=i,e.todosFullInfo=r}).addCase(dc.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??""}),t.addCase(cc.pending,e=>{e.loading="pending",e.error=null}).addCase(cc.fulfilled,(e,n)=>{e.loading="succeeded",e.todos=[...e.todos,n.payload.id??""],e.todosFullInfo=[...e.todosFullInfo,n.payload]}).addCase(cc.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??""}),t.addCase(hc.pending,e=>{e.loading="pending",e.error=null}).addCase(hc.fulfilled,(e,n)=>{e.loading="succeeded",e.todos=e.todos.filter(r=>r!==n.payload),e.todosFullInfo=e.todosFullInfo.filter(r=>r.id!==n.payload)}).addCase(hc.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??""}),t.addCase(fc.pending,e=>{e.loading="pending",e.error=null}).addCase(fc.fulfilled,(e,n)=>{e.loading="succeeded",e.todosFullInfo=e.todosFullInfo.map(r=>r.id===n.payload?{...r,active:!r.active}:r)}).addCase(fc.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??""}),t.addCase(pc.pending,e=>{e.loading="pending",e.error=null}).addCase(pc.fulfilled,(e,n)=>{e.loading="succeeded",e.todos=e.todos.filter(r=>!n.payload.includes(r)),e.todosFullInfo=e.todosFullInfo.filter(r=>!n.payload.includes(r.id))}).addCase(pc.rejected,(e,n)=>{e.loading="failed",e.error=n.error.message??""})}}),{cleanUp:TV}=o1.actions,IV=o1.reducer,SV=({theme:t})=>{var o,l;const e=Ml(),n=Ts(u=>u.auth.user),r=()=>{e(hx())},i=()=>{e(uc()),e(TV())},s=(l=n==null?void 0:n.email)==null?void 0:l.slice(0,(o=n.email)==null?void 0:o.indexOf("@"));return H.jsxs("header",{className:"flex items-center justify-between py-8",children:[H.jsx(_o,{className:"text-lg font-bold uppercase text-black sm:text-3xl dark:text-white",to:"/",children:"todo"}),n?H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"text-textTodoLight dark:text-textTodoDark",title:s,children:s.length>10?s.slice(0,10)+"...":s}),H.jsx("button",{onClick:i,className:"ml-3 select-none rounded-full border p-2 text-sm capitalize text-textTodoLight hover:text-hoverLight dark:text-textTodoDark dark:hover:text-hoverDark",children:"signout"})]}):H.jsxs("div",{children:[H.jsx(_o,{className:"ml-3 select-none rounded-full border p-2 text-sm capitalize  text-textTodoLight hover:text-hoverLight dark:text-textTodoDark dark:hover:text-hoverDark",to:"/signin",children:"sign-in"}),H.jsx(_o,{className:"ml-3 select-none rounded-full border p-2 text-sm capitalize  text-textTodoLight hover:text-hoverLight dark:text-textTodoDark dark:hover:text-hoverDark",to:"/signup",children:"sign-up"})]}),H.jsx("button",{className:"select-none",onClick:r,children:t==="dark"?H.jsx(GC,{}):H.jsx(KC,{})})]})},AV=B.memo(({handleAdd:t,loading:e})=>{const n=B.useRef("");return H.jsxs("div",{className:"relative",children:[H.jsx("input",{onChange:r=>n.current=r.target.value,type:"text",placeholder:"Create a new todo",className:"w-full rounded-lg bg-mainBgLight px-6 py-4 pl-12 text-base font-normal text-textInputLight focus:outline-none dark:bg-mainBgDark dark:text-textInputDark",onKeyDown:r=>{r.key==="Enter"&&(t(r.currentTarget.value),r.currentTarget.value="")},disabled:e==="pending"}),H.jsx("button",{onClick:()=>t(n.current),className:"absolute left-3 top-1/2 h-6 w-6 -translate-y-1/2 rounded-full border border-notActiveLight dark:border-notActiveDark",disabled:e==="pending"})]})}),RV=t=>B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,...t},B.createElement("path",{fill:"#494C6B",fillRule:"evenodd",d:"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z"})),PV=t=>B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:11,height:9,...t},B.createElement("path",{fill:"none",stroke:"#FFF",strokeWidth:2,d:"M1 4.304L3.696 7l6-6"})),CV=({active:t,id:e,todo:n,createdAt:r,handleActive:i,handleDate:s,handleDel:o})=>H.jsxs("li",{className:"flex items-center justify-between p-3 text-[13px] text-textTodoLight hover:text-hoverLight dark:text-textTodoDark  dark:hover:text-hoverDark",children:[H.jsxs("div",{className:"flex items-center gap-x-4",children:[H.jsx("div",{className:"h-[22px] w-[22px] select-none rounded-full bg-notActiveLight p-px hover:bg-active dark:bg-notActiveDark",children:H.jsx("button",{className:"flex h-5 w-5  items-center justify-center rounded-full bg-bgLight dark:bg-bgDark "+(t?"":"bg-active"),onClick:()=>e?i(e):null,children:H.jsx(PV,{className:t?"hidden":"block"})})}),H.jsx("p",{className:"font-bold"+(t?"":" text-notActiveLight line-through hover:text-notActiveLight dark:text-notActiveDark"),title:n,children:n.length>25?n.slice(0,17)+"...":n})]}),H.jsxs("div",{className:"flex items-center gap-x-4",children:[H.jsx("span",{children:s(r)}),H.jsx("button",{className:"h-4 w-3 select-none",onClick:()=>e?o(e):null,children:H.jsx(RV,{})})]})]},e),kV=({todosFullInfo:t,loading:e,handleActive:n,handleDel:r,handleClearCompleted:i,handleDate:s})=>H.jsxs("div",{className:"rounded-lg bg-mainBgLight dark:bg-mainBgDark",children:[H.jsx("div",{className:"h-[328px]",children:e==="pending"?H.jsx("p",{className:"flex h-full w-full items-center justify-center text-textTodoLight dark:text-textTodoDark",children:"Loading..."}):H.jsx("ul",{className:"h-full divide-y divide-notActiveLight overflow-y-auto dark:divide-notActiveDark",children:t==null?void 0:t.map(o=>B.createElement(CV,{...o,handleActive:n,handleDel:r,handleDate:s,key:o.id}))})}),H.jsxs("div",{className:"flex select-none items-center  justify-between border-t border-t-notActiveLight p-4  text-sm text-textTodoLight dark:border-t-notActiveDark dark:text-textTodoDark",children:[H.jsxs("span",{className:"hover:text-hoverLight dark:hover:text-hoverDark",children:[t==null?void 0:t.length," items left"]}),H.jsx("button",{onClick:i,className:"hover:text-hoverLight dark:hover:text-hoverDark",children:"Clear Completed"})]})]}),xV=({handleStatus:t,loading:e,status:n})=>H.jsx("footer",{className:"select-none rounded-lg bg-mainBgLight p-4 text-textTodoLight dark:bg-mainBgDark dark:text-textTodoDark ",children:H.jsxs("ul",{className:"flex justify-center gap-x-4 ",children:[H.jsx("li",{children:H.jsx("button",{onClick:()=>t("all"),className:"text-sm font-normal capitalize"+(n==="all"?" active":" hover:text-hoverLight dark:hover:text-hoverDark"),disabled:e==="pending",children:"all"})}),H.jsx("li",{children:H.jsx("button",{onClick:()=>t("active"),className:"text-sm font-normal capitalize "+(n==="active"?" active":"hover:text-hoverLight dark:hover:text-hoverDark"),disabled:e==="pending",children:"active"})}),H.jsx("li",{children:H.jsx("button",{onClick:()=>t("completed"),className:"text-sm font-normal capitalize "+(n==="completed"?" active":"hover:text-hoverLight dark:hover:text-hoverDark"),disabled:e==="pending",children:"completed"})})]})}),DV=()=>{const t=Ts(n=>n.theme.theme),e=Ml();return B.useEffect(()=>{const n=i2(fh,r=>{e(D0(r?{email:r.email,id:r.uid}:null))});return()=>{n()}},[e]),H.jsx("div",{className:"flex h-screen w-screen flex-col justify-center bg-bgLight dark:bg-bgDark "+(t==="dark"?"dark":""),children:H.jsxs("div",{className:"App container h-[700px] lg:w-[700px] ",children:["this text for test",H.jsx(SV,{theme:t}),H.jsx("main",{className:"flex flex-col gap-y-4",children:H.jsx(SC,{})})]})})};var jg="persist:",zg="persist/FLUSH",ph="persist/REHYDRATE",Bg="persist/PAUSE",$g="persist/PERSIST",Wg="persist/PURGE",Hg="persist/REGISTER",NV=-1;function mc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mc=function(n){return typeof n}:mc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mc(t)}function b0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b0(n,!0).forEach(function(r){OV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LV(t,e,n,r){r.debug;var i=bV({},n);return t&&mc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function VV(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:jg).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(U){return U}:typeof t.serialize=="function"?l=t.serialize:l=MV;var u=t.writeFailHandler||null,c={},h={},f=[],m=null,w=null,R=function(U){Object.keys(U).forEach(function(P){T(P)&&c[P]!==U[P]&&f.indexOf(P)===-1&&f.push(P)}),Object.keys(c).forEach(function(P){U[P]===void 0&&T(P)&&f.indexOf(P)===-1&&c[P]!==void 0&&f.push(P)}),m===null&&(m=setInterval(C,i)),c=U};function C(){if(f.length===0){m&&clearInterval(m),m=null;return}var O=f.shift(),U=r.reduce(function(P,E){return E.in(P,O,c)},c[O]);if(U!==void 0)try{h[O]=l(U)}catch(P){console.error("redux-persist/createPersistoid: error serializing state",P)}else delete h[O];f.length===0&&b()}function b(){Object.keys(h).forEach(function(O){c[O]===void 0&&delete h[O]}),w=o.setItem(s,l(h)).catch(y)}function T(O){return!(n&&n.indexOf(O)===-1&&O!=="_persist"||e&&e.indexOf(O)!==-1)}function y(O){u&&u(O)}var S=function(){for(;f.length!==0;)C();return w||Promise.resolve()};return{update:R,flush:S}}function MV(t){return JSON.stringify(t)}function FV(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:jg).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=UV,r.getItem(n).then(function(s){if(s)try{var o={},l=i(s);return Object.keys(l).forEach(function(u){o[u]=e.reduceRight(function(c,h){return h.out(c,u,l)},i(l[u]))}),o}catch(u){throw u}else return})}function UV(t){return JSON.parse(t)}function jV(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:jg).concat(t.key);return e.removeItem(n,zV)}function zV(t){}function O0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O0(n,!0).forEach(function(r){BV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t,e){if(t==null)return{};var n=WV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HV=5e3;function qV(t,e){var n=t.version!==void 0?t.version:NV;t.debug;var r=t.stateReconciler===void 0?LV:t.stateReconciler,i=t.getStoredState||FV,s=t.timeout!==void 0?t.timeout:HV,o=null,l=!1,u=!0,c=function(f){return f._persist.rehydrated&&o&&!u&&o.update(f),f};return function(h,f){var m=h||{},w=m._persist,R=$V(m,["_persist"]),C=R;if(f.type===$g){var b=!1,T=function(g,_){b||(f.rehydrate(t.key,g,_),b=!0)};if(s&&setTimeout(function(){!b&&T(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),u=!1,o||(o=VV(t)),w)return Pr({},e(C,f),{_persist:w});if(typeof f.rehydrate!="function"||typeof f.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(t.key),i(t).then(function(E){var g=t.migrate||function(_,A){return Promise.resolve(_)};g(E,n).then(function(_){T(_)},function(_){T(void 0,_)})},function(E){T(void 0,E)}),Pr({},e(C,f),{_persist:{version:n,rehydrated:!1}})}else{if(f.type===Wg)return l=!0,f.result(jV(t)),Pr({},e(C,f),{_persist:w});if(f.type===zg)return f.result(o&&o.flush()),Pr({},e(C,f),{_persist:w});if(f.type===Bg)u=!0;else if(f.type===ph){if(l)return Pr({},C,{_persist:Pr({},w,{rehydrated:!0})});if(f.key===t.key){var y=e(C,f),S=f.payload,O=r!==!1&&S!==void 0?r(S,h,y,t):y,U=Pr({},O,{_persist:Pr({},w,{rehydrated:!0})});return c(U)}}}if(!w)return e(h,f);var P=e(C,f);return P===C?h:c(Pr({},P,{_persist:w}))}}function L0(t){return QV(t)||GV(t)||KV()}function KV(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function GV(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function QV(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function V0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V0(n,!0).forEach(function(r){YV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a1={registry:[],bootstrapped:!1},XV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a1,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Hg:return qp({},e,{registry:[].concat(L0(e.registry),[n.key])});case ph:var r=e.registry.indexOf(n.key),i=L0(e.registry);return i.splice(r,1),qp({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function JV(t,e,n){var r=n||!1,i=Gm(XV,a1,e&&e.enhancer?e.enhancer:void 0),s=function(c){i.dispatch({type:Hg,key:c})},o=function(c,h,f){var m={type:ph,payload:h,err:f,key:c};t.dispatch(m),i.dispatch(m),r&&l.getState().bootstrapped&&(r(),r=!1)},l=qp({},i,{purge:function(){var c=[];return t.dispatch({type:Wg,result:function(f){c.push(f)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:zg,result:function(f){c.push(f)}}),Promise.all(c)},pause:function(){t.dispatch({type:Bg})},persist:function(){t.dispatch({type:$g,register:s,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var qg={},Kg={};Kg.__esModule=!0;Kg.default=tM;function gc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gc=function(n){return typeof n}:gc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gc(t)}function mf(){}var ZV={getItem:mf,setItem:mf,removeItem:mf};function eM(t){if((typeof self>"u"?"undefined":gc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function tM(t){var e="".concat(t,"Storage");return eM(e)?self[e]:ZV}qg.__esModule=!0;qg.default=iM;var nM=rM(Kg);function rM(t){return t&&t.__esModule?t:{default:t}}function iM(t){var e=(0,nM.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var l1=void 0,sM=oM(qg);function oM(t){return t&&t.__esModule?t:{default:t}}var aM=(0,sM.default)("local");l1=aM;const lM={key:"root",storage:l1,whiteList:[BT]},uM=kT({todos:IV,theme:BT,auth:EV}),u1=Hk({reducer:qV(lM,uM),middleware:t=>t({serializableCheck:{ignoredActions:[zg,ph,Bg,$g,Wg,Hg]}})}),cM=JV(u1);function yc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yc=function(n){return typeof n}:yc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yc(t)}function dM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hM(t,e,n){return e&&M0(t.prototype,e),n&&M0(t,n),t}function fM(t,e){return e&&(yc(e)==="object"||typeof e=="function")?e:vc(t)}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function vc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gp(t,e)}function Gp(t,e){return Gp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Gp(t,e)}function _c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c1=function(t){pM(e,t);function e(){var n,r;dM(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=fM(this,(n=Kp(e)).call.apply(n,[this].concat(s))),_c(vc(r),"state",{bootstrapped:!1}),_c(vc(r),"_unsubscribe",void 0),_c(vc(r),"handlePersistorState",function(){var l=r.props.persistor,u=l.getState(),c=u.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return hM(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(B.PureComponent);_c(c1,"defaultProps",{children:null,loading:null});const mM=()=>{const t=Ml(),{todosFullInfo:e,loading:n}=Ts(w=>w.todos),r=Ts(w=>w.auth.user),[i,s]=B.useState("all"),o=B.useCallback(w=>{const R=new Date(w),C={day:"numeric",month:"numeric",hour:"numeric",minute:"numeric"};return new Intl.DateTimeFormat("en-US",C).format(R)},[]),l=B.useMemo(()=>e.filter(w=>!(i==="completed"&&w.active||i==="active"&&!w.active)),[i,e]),u=B.useCallback(w=>{const R=w.trim(),C=e.some(b=>b.todo===R);R&&!C&&t(cc({todo:R,active:!0,createdAt:Date.now(),userId:r==null?void 0:r.id}))},[t,e,r==null?void 0:r.id]),c=B.useCallback(w=>{t(hc(w))},[t]),h=B.useCallback(()=>{t(pc())},[t]),f=B.useCallback(w=>{t(fc(w))},[t]),m=w=>{s(w)};return B.useEffect(()=>{t(dc())},[t]),H.jsxs(H.Fragment,{children:[H.jsx(AV,{handleAdd:u,loading:n}),H.jsx(kV,{todosFullInfo:l.length?l:[],handleDel:c,loading:n,handleActive:f,handleClearCompleted:h,handleDate:o}),H.jsx(xV,{handleStatus:m,loading:n,status:i}),H.jsx("span",{className:"select-none  p-4 text-center font-normal text-notActiveLight line-through dark:text-notActiveDark",children:"Drag and drop to reorder list"})]})};var Zl=t=>t.type==="checkbox",ho=t=>t instanceof Date,rn=t=>t==null;const d1=t=>typeof t=="object";var Rt=t=>!rn(t)&&!Array.isArray(t)&&d1(t)&&!ho(t),gM=t=>Rt(t)&&t.target?Zl(t.target)?t.target.checked:t.target.value:t,yM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,vM=(t,e)=>t.has(yM(e)),_M=t=>{const e=t.constructor&&t.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},Gg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Gg&&(t instanceof Blob||t instanceof FileList))&&(n||Rt(t)))if(e=n?[]:{},!n&&!_M(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=bn(t[r]));else return t;return e}var mh=t=>Array.isArray(t)?t.filter(Boolean):[],pt=t=>t===void 0,se=(t,e,n)=>{if(!e||!Rt(t))return n;const r=mh(e.split(/[,[\].]+?/)).reduce((i,s)=>rn(i)?i:i[s],t);return pt(r)||r===t?pt(t[e])?n:t[e]:r},gi=t=>typeof t=="boolean",Qg=t=>/^\w*$/.test(t),h1=t=>mh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ye=(t,e,n)=>{let r=-1;const i=Qg(e)?[e]:h1(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const c=t[l];u=Rt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(l==="__proto__")return;t[l]=u,t=t[l]}return t};const F0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};tn.createContext(null);var wM=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Xn.all&&(e._proxyFormState[o]=!r||Xn.all),n&&(n[o]=!0),t[o]}});return i},un=t=>Rt(t)&&!Object.keys(t).length,EM=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return un(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Xn.all))},wc=t=>Array.isArray(t)?t:[t];function TM(t){const e=tn.useRef(t);e.current=t,tn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var hr=t=>typeof t=="string",IM=(t,e,n,r,i)=>hr(t)?(r&&e.watch.add(t),se(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),se(n,s))):(r&&(e.watchAll=!0),n),SM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},U0=t=>({isOnSubmit:!t||t===Xn.onSubmit,isOnBlur:t===Xn.onBlur,isOnChange:t===Xn.onChange,isOnAll:t===Xn.all,isOnTouch:t===Xn.onTouched}),j0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Xa=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=se(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;Xa(l,e)}else Rt(l)&&Xa(l,e)}}};var AM=(t,e,n)=>{const r=wc(se(t,n));return Ye(r,"root",e[n]),Ye(t,n,r),t},Yg=t=>t.type==="file",wi=t=>typeof t=="function",md=t=>{if(!Gg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ec=t=>hr(t),Xg=t=>t.type==="radio",gd=t=>t instanceof RegExp;const z0={value:!1,isValid:!1},B0={value:!0,isValid:!0};var f1=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!pt(t[0].attributes.value)?pt(t[0].value)||t[0].value===""?B0:{value:t[0].value,isValid:!0}:B0:z0}return z0};const $0={isValid:!1,value:null};var p1=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,$0):$0;function W0(t,e,n="validate"){if(Ec(t)||Array.isArray(t)&&t.every(Ec)||gi(t)&&!t)return{type:n,message:Ec(t)?t:"",ref:e}}var Ks=t=>Rt(t)&&!gd(t)?t:{value:t,message:""},H0=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:c,min:h,max:f,pattern:m,validate:w,name:R,valueAsNumber:C,mount:b,disabled:T}=t._f,y=se(e,R);if(!b||T)return{};const S=o?o[0]:s,O=k=>{r&&S.reportValidity&&(S.setCustomValidity(gi(k)?"":k||""),S.reportValidity())},U={},P=Xg(s),E=Zl(s),g=P||E,_=(C||Yg(s))&&pt(s.value)&&pt(y)||md(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,A=SM.bind(null,R,n,U),x=(k,I,le,De=Cr.maxLength,ot=Cr.minLength)=>{const _e=k?I:le;U[R]={type:k?De:ot,message:_e,ref:s,...A(k?De:ot,_e)}};if(i?!Array.isArray(y)||!y.length:l&&(!g&&(_||rn(y))||gi(y)&&!y||E&&!f1(o).isValid||P&&!p1(o).isValid)){const{value:k,message:I}=Ec(l)?{value:!!l,message:l}:Ks(l);if(k&&(U[R]={type:Cr.required,message:I,ref:S,...A(Cr.required,I)},!n))return O(I),U}if(!_&&(!rn(h)||!rn(f))){let k,I;const le=Ks(f),De=Ks(h);if(!rn(y)&&!isNaN(y)){const ot=s.valueAsNumber||y&&+y;rn(le.value)||(k=ot>le.value),rn(De.value)||(I=ot<De.value)}else{const ot=s.valueAsDate||new Date(y),_e=de=>new Date(new Date().toDateString()+" "+de),Q=s.type=="time",ae=s.type=="week";hr(le.value)&&y&&(k=Q?_e(y)>_e(le.value):ae?y>le.value:ot>new Date(le.value)),hr(De.value)&&y&&(I=Q?_e(y)<_e(De.value):ae?y<De.value:ot<new Date(De.value))}if((k||I)&&(x(!!k,le.message,De.message,Cr.max,Cr.min),!n))return O(U[R].message),U}if((u||c)&&!_&&(hr(y)||i&&Array.isArray(y))){const k=Ks(u),I=Ks(c),le=!rn(k.value)&&y.length>+k.value,De=!rn(I.value)&&y.length<+I.value;if((le||De)&&(x(le,k.message,I.message),!n))return O(U[R].message),U}if(m&&!_&&hr(y)){const{value:k,message:I}=Ks(m);if(gd(k)&&!y.match(k)&&(U[R]={type:Cr.pattern,message:I,ref:s,...A(Cr.pattern,I)},!n))return O(I),U}if(w){if(wi(w)){const k=await w(y,e),I=W0(k,S);if(I&&(U[R]={...I,...A(Cr.validate,I.message)},!n))return O(I.message),U}else if(Rt(w)){let k={};for(const I in w){if(!un(k)&&!n)break;const le=W0(await w[I](y,e),S,I);le&&(k={...le,...A(I,le.message)},O(le.message),n&&(U[R]=k))}if(!un(k)&&(U[R]={ref:S,...k},!n))return U}}return O(!0),U};function RM(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=pt(t)?r++:t[e[r++]];return t}function PM(t){for(const e in t)if(t.hasOwnProperty(e)&&!pt(t[e]))return!1;return!0}function Tt(t,e){const n=Array.isArray(e)?e:Qg(e)?[e]:h1(e),r=n.length===1?t:RM(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Rt(r)&&un(r)||Array.isArray(r)&&PM(r))&&Tt(t,n.slice(0,-1)),t}var gf=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},yd=t=>rn(t)||!d1(t);function hs(t,e){if(yd(t)||yd(e))return t===e;if(ho(t)&&ho(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ho(s)&&ho(o)||Rt(s)&&Rt(o)||Array.isArray(s)&&Array.isArray(o)?!hs(s,o):s!==o)return!1}}return!0}var m1=t=>t.type==="select-multiple",CM=t=>Xg(t)||Zl(t),yf=t=>md(t)&&t.isConnected,g1=t=>{for(const e in t)if(wi(t[e]))return!0;return!1};function vd(t,e={}){const n=Array.isArray(t);if(Rt(t)||n)for(const r in t)Array.isArray(t[r])||Rt(t[r])&&!g1(t[r])?(e[r]=Array.isArray(t[r])?[]:{},vd(t[r],e[r])):rn(t[r])||(e[r]=!0);return e}function y1(t,e,n){const r=Array.isArray(t);if(Rt(t)||r)for(const i in t)Array.isArray(t[i])||Rt(t[i])&&!g1(t[i])?pt(e)||yd(n[i])?n[i]=Array.isArray(t[i])?vd(t[i],[]):{...vd(t[i])}:y1(t[i],rn(e)?{}:e[i],n[i]):n[i]=!hs(t[i],e[i]);return n}var Fu=(t,e)=>y1(t,e,vd(e)),v1=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>pt(t)?t:e?t===""?NaN:t&&+t:n&&hr(t)?new Date(t):r?r(t):t;function vf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Yg(e)?e.files:Xg(e)?p1(t.refs).value:m1(e)?[...e.selectedOptions].map(({value:n})=>n):Zl(e)?f1(t.refs).value:v1(pt(e.value)?t.ref.value:e.value,t)}var kM=(t,e,n,r)=>{const i={};for(const s of t){const o=se(e,s);o&&Ye(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Sa=t=>pt(t)?t:gd(t)?t.source:Rt(t)?gd(t.value)?t.value.source:t.value:t,xM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function q0(t,e,n){const r=se(t,n);if(r||Qg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=se(e,s),l=se(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var DM=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,NM=(t,e)=>!mh(se(t,e)).length&&Tt(t,e);const bM={mode:Xn.onSubmit,reValidateMode:Xn.onChange,shouldFocusError:!0};function OM(t={}){let e={...bM,...t},n={submitCount:0,isDirty:!1,isLoading:wi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Rt(e.defaultValues)||Rt(e.values)?bn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:bn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:gf(),array:gf(),state:gf()},m=U0(e.mode),w=U0(e.reValidateMode),R=e.criteriaMode===Xn.all,C=D=>M=>{clearTimeout(c),c=setTimeout(D,M)},b=async D=>{if(h.isValid||D){const M=e.resolver?un((await g()).errors):await A(r,!0);M!==n.isValid&&f.state.next({isValid:M})}},T=(D,M)=>{(h.isValidating||h.validatingFields)&&((D||Array.from(l.mount)).forEach(z=>{z&&(M?Ye(n.validatingFields,z,M):Tt(n.validatingFields,z))}),f.state.next({validatingFields:n.validatingFields,isValidating:!un(n.validatingFields)}))},y=(D,M=[],z,Z,J=!0,G=!0)=>{if(Z&&z){if(o.action=!0,G&&Array.isArray(se(r,D))){const re=z(se(r,D),Z.argA,Z.argB);J&&Ye(r,D,re)}if(G&&Array.isArray(se(n.errors,D))){const re=z(se(n.errors,D),Z.argA,Z.argB);J&&Ye(n.errors,D,re),NM(n.errors,D)}if(h.touchedFields&&G&&Array.isArray(se(n.touchedFields,D))){const re=z(se(n.touchedFields,D),Z.argA,Z.argB);J&&Ye(n.touchedFields,D,re)}h.dirtyFields&&(n.dirtyFields=Fu(i,s)),f.state.next({name:D,isDirty:k(D,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ye(s,D,M)},S=(D,M)=>{Ye(n.errors,D,M),f.state.next({errors:n.errors})},O=D=>{n.errors=D,f.state.next({errors:n.errors,isValid:!1})},U=(D,M,z,Z)=>{const J=se(r,D);if(J){const G=se(s,D,pt(z)?se(i,D):z);pt(G)||Z&&Z.defaultChecked||M?Ye(s,D,M?G:vf(J._f)):De(D,G),o.mount&&b()}},P=(D,M,z,Z,J)=>{let G=!1,re=!1;const Ee={name:D},Be=!!(se(r,D)&&se(r,D)._f&&se(r,D)._f.disabled);if(!z||Z){h.isDirty&&(re=n.isDirty,n.isDirty=Ee.isDirty=k(),G=re!==Ee.isDirty);const ke=Be||hs(se(i,D),M);re=!!(!Be&&se(n.dirtyFields,D)),ke||Be?Tt(n.dirtyFields,D):Ye(n.dirtyFields,D,!0),Ee.dirtyFields=n.dirtyFields,G=G||h.dirtyFields&&re!==!ke}if(z){const ke=se(n.touchedFields,D);ke||(Ye(n.touchedFields,D,z),Ee.touchedFields=n.touchedFields,G=G||h.touchedFields&&ke!==z)}return G&&J&&f.state.next(Ee),G?Ee:{}},E=(D,M,z,Z)=>{const J=se(n.errors,D),G=h.isValid&&gi(M)&&n.isValid!==M;if(t.delayError&&z?(u=C(()=>S(D,z)),u(t.delayError)):(clearTimeout(c),u=null,z?Ye(n.errors,D,z):Tt(n.errors,D)),(z?!hs(J,z):J)||!un(Z)||G){const re={...Z,...G&&gi(M)?{isValid:M}:{},errors:n.errors,name:D};n={...n,...re},f.state.next(re)}},g=async D=>{T(D,!0);const M=await e.resolver(s,e.context,kM(D||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(D),M},_=async D=>{const{errors:M}=await g(D);if(D)for(const z of D){const Z=se(M,z);Z?Ye(n.errors,z,Z):Tt(n.errors,z)}else n.errors=M;return M},A=async(D,M,z={valid:!0})=>{for(const Z in D){const J=D[Z];if(J){const{_f:G,...re}=J;if(G){const Ee=l.array.has(G.name);T([Z],!0);const Be=await H0(J,s,R,e.shouldUseNativeValidation&&!M,Ee);if(T([Z]),Be[G.name]&&(z.valid=!1,M))break;!M&&(se(Be,G.name)?Ee?AM(n.errors,Be,G.name):Ye(n.errors,G.name,Be[G.name]):Tt(n.errors,G.name))}!un(re)&&await A(re,M,z)}}return z.valid},x=()=>{for(const D of l.unMount){const M=se(r,D);M&&(M._f.refs?M._f.refs.every(z=>!yf(z)):!yf(M._f.ref))&&ct(D)}l.unMount=new Set},k=(D,M)=>(D&&M&&Ye(s,D,M),!hs(Ae(),i)),I=(D,M,z)=>IM(D,l,{...o.mount?s:pt(M)?i:hr(D)?{[D]:M}:M},z,M),le=D=>mh(se(o.mount?s:i,D,t.shouldUnregister?se(i,D,[]):[])),De=(D,M,z={})=>{const Z=se(r,D);let J=M;if(Z){const G=Z._f;G&&(!G.disabled&&Ye(s,D,v1(M,G)),J=md(G.ref)&&rn(M)?"":M,m1(G.ref)?[...G.ref.options].forEach(re=>re.selected=J.includes(re.value)):G.refs?Zl(G.ref)?G.refs.length>1?G.refs.forEach(re=>(!re.defaultChecked||!re.disabled)&&(re.checked=Array.isArray(J)?!!J.find(Ee=>Ee===re.value):J===re.value)):G.refs[0]&&(G.refs[0].checked=!!J):G.refs.forEach(re=>re.checked=re.value===J):Yg(G.ref)?G.ref.value="":(G.ref.value=J,G.ref.type||f.values.next({name:D,values:{...s}})))}(z.shouldDirty||z.shouldTouch)&&P(D,J,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&de(D)},ot=(D,M,z)=>{for(const Z in M){const J=M[Z],G=`${D}.${Z}`,re=se(r,G);(l.array.has(D)||!yd(J)||re&&!re._f)&&!ho(J)?ot(G,J,z):De(G,J,z)}},_e=(D,M,z={})=>{const Z=se(r,D),J=l.array.has(D),G=bn(M);Ye(s,D,G),J?(f.array.next({name:D,values:{...s}}),(h.isDirty||h.dirtyFields)&&z.shouldDirty&&f.state.next({name:D,dirtyFields:Fu(i,s),isDirty:k(D,G)})):Z&&!Z._f&&!rn(G)?ot(D,G,z):De(D,G,z),j0(D,l)&&f.state.next({...n}),f.values.next({name:o.mount?D:void 0,values:{...s}})},Q=async D=>{o.mount=!0;const M=D.target;let z=M.name,Z=!0;const J=se(r,z),G=()=>M.type?vf(J._f):gM(D),re=Ee=>{Z=Number.isNaN(Ee)||Ee===se(s,z,Ee)};if(J){let Ee,Be;const ke=G(),Ve=D.type===F0.BLUR||D.type===F0.FOCUS_OUT,Bt=!xM(J._f)&&!e.resolver&&!se(n.errors,z)&&!J._f.deps||DM(Ve,se(n.touchedFields,z),n.isSubmitted,w,m),Ir=j0(z,l,Ve);Ye(s,z,ke),Ve?(J._f.onBlur&&J._f.onBlur(D),u&&u(0)):J._f.onChange&&J._f.onChange(D);const zn=P(z,ke,Ve,!1),ta=!un(zn)||Ir;if(!Ve&&f.values.next({name:z,type:D.type,values:{...s}}),Bt)return h.isValid&&b(),ta&&f.state.next({name:z,...Ir?{}:zn});if(!Ve&&Ir&&f.state.next({...n}),e.resolver){const{errors:xt}=await g([z]);if(re(ke),Z){const Qi=q0(n.errors,r,z),Jr=q0(xt,r,Qi.name||z);Ee=Jr.error,z=Jr.name,Be=un(xt)}}else T([z],!0),Ee=(await H0(J,s,R,e.shouldUseNativeValidation))[z],T([z]),re(ke),Z&&(Ee?Be=!1:h.isValid&&(Be=await A(r,!0)));Z&&(J._f.deps&&de(J._f.deps),E(z,Be,Ee,zn))}},ae=(D,M)=>{if(se(n.errors,M)&&D.focus)return D.focus(),1},de=async(D,M={})=>{let z,Z;const J=wc(D);if(e.resolver){const G=await _(pt(D)?D:J);z=un(G),Z=D?!J.some(re=>se(G,re)):z}else D?(Z=(await Promise.all(J.map(async G=>{const re=se(r,G);return await A(re&&re._f?{[G]:re}:re)}))).every(Boolean),!(!Z&&!n.isValid)&&b()):Z=z=await A(r);return f.state.next({...!hr(D)||h.isValid&&z!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:z}:{},errors:n.errors}),M.shouldFocus&&!Z&&Xa(r,ae,D?J:l.mount),Z},Ae=D=>{const M={...o.mount?s:i};return pt(D)?M:hr(D)?se(M,D):D.map(z=>se(M,z))},Se=(D,M)=>({invalid:!!se((M||n).errors,D),isDirty:!!se((M||n).dirtyFields,D),error:se((M||n).errors,D),isValidating:!!se(n.validatingFields,D),isTouched:!!se((M||n).touchedFields,D)}),Ue=D=>{D&&wc(D).forEach(M=>Tt(n.errors,M)),f.state.next({errors:D?n.errors:{}})},at=(D,M,z)=>{const Z=(se(r,D,{_f:{}})._f||{}).ref,J=se(n.errors,D)||{},{ref:G,message:re,type:Ee,...Be}=J;Ye(n.errors,D,{...Be,...M,ref:Z}),f.state.next({name:D,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&Z&&Z.focus&&Z.focus()},Et=(D,M)=>wi(D)?f.values.subscribe({next:z=>D(I(void 0,M),z)}):I(D,M,!0),ct=(D,M={})=>{for(const z of D?wc(D):l.mount)l.mount.delete(z),l.array.delete(z),M.keepValue||(Tt(r,z),Tt(s,z)),!M.keepError&&Tt(n.errors,z),!M.keepDirty&&Tt(n.dirtyFields,z),!M.keepTouched&&Tt(n.touchedFields,z),!M.keepIsValidating&&Tt(n.validatingFields,z),!e.shouldUnregister&&!M.keepDefaultValue&&Tt(i,z);f.values.next({values:{...s}}),f.state.next({...n,...M.keepDirty?{isDirty:k()}:{}}),!M.keepIsValid&&b()},Zt=({disabled:D,name:M,field:z,fields:Z,value:J})=>{if(gi(D)&&o.mount||D){const G=D?void 0:pt(J)?vf(z?z._f:se(Z,M)._f):J;Ye(s,M,G),P(M,G,!1,!1,!0)}},wr=(D,M={})=>{let z=se(r,D);const Z=gi(M.disabled);return Ye(r,D,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:D}},name:D,mount:!0,...M}}),l.mount.add(D),z?Zt({field:z,disabled:M.disabled,name:D,value:M.value}):U(D,!0,M.value),{...Z?{disabled:M.disabled}:{},...e.progressive?{required:!!M.required,min:Sa(M.min),max:Sa(M.max),minLength:Sa(M.minLength),maxLength:Sa(M.maxLength),pattern:Sa(M.pattern)}:{},name:D,onChange:Q,onBlur:Q,ref:J=>{if(J){wr(D,M),z=se(r,D);const G=pt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,re=CM(G),Ee=z._f.refs||[];if(re?Ee.find(Be=>Be===G):G===z._f.ref)return;Ye(r,D,{_f:{...z._f,...re?{refs:[...Ee.filter(yf),G,...Array.isArray(se(i,D))?[{}]:[]],ref:{type:G.type,name:D}}:{ref:G}}}),U(D,!1,void 0,G)}else z=se(r,D,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(vM(l.array,D)&&o.action)&&l.unMount.add(D)}}},Ms=()=>e.shouldFocusError&&Xa(r,ae,l.mount),Xr=D=>{gi(D)&&(f.state.next({disabled:D}),Xa(r,(M,z)=>{const Z=se(r,z);Z&&(M.disabled=Z._f.disabled||D,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(J=>{J.disabled=Z._f.disabled||D}))},0,!1))},Er=(D,M)=>async z=>{let Z;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let J=bn(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:G,values:re}=await g();n.errors=G,J=re}else await A(r);if(Tt(n.errors,"root"),un(n.errors)){f.state.next({errors:{}});try{await D(J,z)}catch(G){Z=G}}else M&&await M({...n.errors},z),Ms(),setTimeout(Ms);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:un(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},dt=(D,M={})=>{se(r,D)&&(pt(M.defaultValue)?_e(D,bn(se(i,D))):(_e(D,M.defaultValue),Ye(i,D,bn(M.defaultValue))),M.keepTouched||Tt(n.touchedFields,D),M.keepDirty||(Tt(n.dirtyFields,D),n.isDirty=M.defaultValue?k(D,bn(se(i,D))):k()),M.keepError||(Tt(n.errors,D),h.isValid&&b()),f.state.next({...n}))},yn=(D,M={})=>{const z=D?bn(D):i,Z=bn(z),J=un(D),G=J?i:Z;if(M.keepDefaultValues||(i=z),!M.keepValues){if(M.keepDirtyValues)for(const re of l.mount)se(n.dirtyFields,re)?Ye(G,re,se(s,re)):_e(re,se(G,re));else{if(Gg&&pt(D))for(const re of l.mount){const Ee=se(r,re);if(Ee&&Ee._f){const Be=Array.isArray(Ee._f.refs)?Ee._f.refs[0]:Ee._f.ref;if(md(Be)){const ke=Be.closest("form");if(ke){ke.reset();break}}}}r={}}s=t.shouldUnregister?M.keepDefaultValues?bn(i):{}:bn(G),f.array.next({values:{...G}}),f.values.next({values:{...G}})}l={mount:M.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:J?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!hs(D,i)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:M.keepDirtyValues?M.keepDefaultValues&&s?Fu(i,s):n.dirtyFields:M.keepDefaultValues&&D?Fu(i,D):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Tr=(D,M)=>yn(wi(D)?D(s):D,M);return{control:{register:wr,unregister:ct,getFieldState:Se,handleSubmit:Er,setError:at,_executeSchema:g,_getWatch:I,_getDirty:k,_updateValid:b,_removeUnmounted:x,_updateFieldArray:y,_updateDisabledField:Zt,_getFieldArray:le,_reset:yn,_resetDefaultValues:()=>wi(e.defaultValues)&&e.defaultValues().then(D=>{Tr(D,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:D=>{n={...n,...D}},_disableForm:Xr,_subjects:f,_proxyFormState:h,_setErrors:O,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(D){o=D},get _defaultValues(){return i},get _names(){return l},set _names(D){l=D},get _formState(){return n},set _formState(D){n=D},get _options(){return e},set _options(D){e={...e,...D}}},trigger:de,register:wr,handleSubmit:Er,watch:Et,setValue:_e,getValues:Ae,reset:Tr,resetField:dt,clearErrors:Ue,unregister:ct,setError:at,setFocus:(D,M={})=>{const z=se(r,D),Z=z&&z._f;if(Z){const J=Z.refs?Z.refs[0]:Z.ref;J.focus&&(J.focus(),M.shouldSelect&&J.select())}},getFieldState:Se}}function _1(t={}){const e=tn.useRef(),n=tn.useRef(),[r,i]=tn.useState({isDirty:!1,isValidating:!1,isLoading:wi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:wi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...OM(t),formState:r});const s=e.current.control;return s._options=t,TM({subject:s._subjects.state,next:o=>{EM(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),tn.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),tn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),tn.useEffect(()=>{t.values&&!hs(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),tn.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),tn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),tn.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=wM(r,s),e.current}const LM=()=>{const{register:t,handleSubmit:e}=_1({mode:"onSubmit",reValidateMode:"onSubmit"}),n=Ml(),{loading:r,error:i}=Ts(l=>l.auth),s=jd(),o=l=>{n(lc(l)).unwrap().then(()=>{r==="succeeded"&&s("/")})};return B.useEffect(()=>()=>{n(s1())},[n]),H.jsxs("div",{className:"flex h-[600px] flex-col rounded-xl bg-mainBgLight p-5 text-textTodoLight dark:bg-mainBgDark dark:text-textTodoDark",children:[H.jsx("h2",{className:"text-3xl font-bold",children:"Signin"}),H.jsxs("form",{onSubmit:e(o),className:"flex flex-grow flex-col justify-between pl-3 pt-3 ",children:[H.jsxs("div",{className:"flex flex-col gap-10",children:[H.jsxs("div",{className:"flex gap-5",children:[H.jsx("label",{htmlFor:"email",className:"text-2xl",children:"email:"}),H.jsx("input",{type:"text",id:"email",...t("email"),className:"flex-grow text-2xl disabled:text-notActiveLight dark:disabled:text-notActiveDark",disabled:r==="pending"||r==="succeeded"})]}),H.jsxs("div",{className:"flex gap-5",children:[H.jsx("label",{htmlFor:"password",className:"text-2xl",children:"password:"}),H.jsx("input",{type:"password",id:"password",...t("password"),className:"flex-grow text-2xl disabled:text-notActiveLight dark:disabled:text-notActiveDark",disabled:r==="pending"||r==="succeeded"})]})]}),r==="failed"&&H.jsx("span",{children:i}),H.jsx("button",{type:"submit",className:"mx-auto mt-10 w-fit rounded-full border px-5 py-2 text-textTodoLight hover:text-hoverLight disabled:text-notActiveLight dark:text-textTodoDark dark:hover:text-hoverDark dark:disabled:text-notActiveDark",disabled:r==="pending"||r==="succeeded",children:r==="pending"?"loading...":"sign in"})]}),H.jsxs("p",{className:"mt-5 text-center text-lg",children:["create account",H.jsx(_o,{to:"/signup",className:"ml-2 font-bold text-active",children:"here"})]})]})},VM=()=>{var u,c;const{register:t,handleSubmit:e,formState:n}=_1({mode:"onSubmit",reValidateMode:"onSubmit"}),r=Ml(),{loading:i,error:s}=Ts(h=>h.auth),o=jd(),l=h=>{r(ac(h)),i==="succeeded"&&o("/")};return B.useEffect(()=>()=>{r(s1())},[r]),H.jsxs("div",{className:"flex h-[600px] flex-col rounded-xl bg-mainBgLight p-5 text-textTodoLight dark:bg-mainBgDark dark:text-textTodoDark",children:[H.jsx("h2",{className:"text-3xl font-bold",children:"Signup"}),H.jsxs("form",{onSubmit:e(l),className:"flex flex-grow flex-col justify-between gap-10 pl-3 pt-3 ",children:[H.jsxs("div",{className:"flex flex-col gap-10",children:[H.jsxs("div",{className:"flex flex-col gap-5 ",children:[H.jsxs("div",{className:"flex gap-5",children:[H.jsx("label",{htmlFor:"email",className:"text-2xl",children:"email:"}),H.jsx("input",{type:"text",id:"email",...t("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}}),className:"flex-grow text-2xl disabled:text-notActiveLight dark:disabled:text-notActiveDark",disabled:i==="pending"||i==="succeeded"})]}),H.jsx("p",{className:"text-xl capitalize text-red-400",children:(u=n.errors.email)==null?void 0:u.message})]}),H.jsxs("div",{className:"flex flex-col gap-5 ",children:[H.jsxs("div",{className:"flex gap-5",children:[H.jsx("label",{htmlFor:"password",className:"text-2xl",children:"password:"}),H.jsx("input",{type:"password",id:"password",...t("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"flex-grow text-2xl disabled:text-notActiveLight dark:disabled:text-notActiveDark",disabled:i==="pending"||i==="succeeded"})]}),H.jsx("p",{className:"text-xl capitalize text-red-400",children:(c=n.errors.password)==null?void 0:c.message})]})]}),i==="failed"&&H.jsx("span",{children:s}),H.jsx("button",{type:"submit",className:"mx-auto mt-10 w-fit rounded-full border px-5 py-2 text-textTodoLight hover:text-hoverLight disabled:text-notActiveLight dark:text-textTodoDark dark:hover:text-hoverDark dark:disabled:text-notActiveDark",disabled:i==="pending"||i==="succeeded",children:i==="pending"?"loading...":"sign up"})]}),H.jsxs("p",{className:"mt-5 text-center text-lg",children:["signin",H.jsx(_o,{to:"/signin",className:"ml-2 font-bold text-active",children:"here"})]})]})},_f=({children:t,isUser:e=!0})=>{const n=Ts(r=>r.auth.user);return n&&e||!n&&!e?t:H.jsx(IC,{to:n?"/":"/signin"})},MM=()=>H.jsx("main",{className:"grid min-h-screen place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8",children:H.jsxs("div",{className:"text-center",children:[H.jsx("p",{className:"text-base font-semibold text-indigo-600",children:"404"}),H.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Page not found"}),H.jsx("p",{className:"mt-6 text-base leading-7 text-gray-600",children:"Sorry, we couldn’t find the page you’re looking for."}),H.jsx("div",{className:"mt-10 gap-x-6 text-center",children:H.jsx(_o,{to:"/",className:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Go back home"})})]})}),FM=NC([{path:"/",element:H.jsx(DV,{}),errorElement:H.jsx(MM,{}),children:[{index:!0,path:"/",element:H.jsx(_f,{isUser:!0,children:H.jsx(mM,{})})},{path:"/signin",element:H.jsx(_f,{isUser:!1,children:H.jsx(LM,{})})},{path:"/signup",element:H.jsx(_f,{isUser:!1,children:H.jsx(VM,{})})}]}]);Ef.createRoot(document.getElementById("root")).render(H.jsx(tn.StrictMode,{children:H.jsx(gk,{store:u1,children:H.jsx(c1,{loading:null,persistor:cM,children:H.jsx(zC,{router:FM})})})}));
